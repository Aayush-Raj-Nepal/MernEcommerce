(this.webpackJsonpadmin=this.webpackJsonpadmin||[]).push([[0],{151:function(e,t,n){},195:function(e,t,n){},210:function(e,t,n){},211:function(e,t,n){},212:function(e,t,n){},213:function(e,t,n){},214:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n.n(a),r=n(23),s=n.n(r),o=n(24),i=n(19),l=n(5),j=n(133),d=n(30),u=n(1),b=function(e){var t=e.component,n=Object(j.a)(e,["component"]),a=Object(d.c)((function(e){return e.auth.token})),c=Object(d.c)((function(e){return e.auth.loggedIn})),r=a&&null!==a.token&&c;return console.log(a,c),Object(u.jsx)(i.b,Object(l.a)(Object(l.a)({},n),{},{render:function(e){return r?Object(u.jsx)(t,Object(l.a)({},e)):Object(u.jsx)(i.a,{to:{pathname:"/login",state:{from:e.location}}})}}))},O=n(12),h=n(234),m=n(236),x=n(233),p="http://subidhaonline.com/api/";var f=function(e){var t=e.sidebarToggleFunction,n=Object(d.b)(),a=Object(d.c)((function(e){return e.auth.user}));return Object(u.jsx)("div",{children:Object(u.jsxs)(h.a,{bg:"light",expand:"lg",fixed:"top",children:[Object(u.jsx)(h.a.Brand,{href:"/",children:"Subidhaonline"}),Object(u.jsx)(h.a.Toggle,{"aria-controls":"basic-navbar-nav"}),Object(u.jsxs)(h.a.Collapse,{id:"basic-navbar-nav",children:[Object(u.jsxs)(m.a,{className:"mr-auto",children:[Object(u.jsx)(m.a.Link,{onClick:t,children:Object(u.jsx)("i",{className:"fa fa-bars"})}),Object(u.jsx)(m.a.Link,{href:"/",children:"Home"}),Object(u.jsx)(x.a,{title:a.name?a.name:"User",id:"basic-nav-dropdown",children:Object(u.jsx)(x.a.Item,{onClick:function(){n({type:"auth/Logout"})},children:"LogOut"})})]}),Object(u.jsx)(m.a,{className:"ml-auto",children:Object(u.jsxs)(m.a.Link,{href:"http://subidhaonline.com",children:["Visit Site ",Object(u.jsx)("i",{className:"fa fa-globe"})," "]})})]})]})})};var g=function(){return Object(u.jsxs)("div",{children:[Object(u.jsx)("div",{className:"container-fluid text-center  bg-light",children:Object(u.jsx)("small",{children:"Developed by Asoft Nepal"})}),"        "]})},v=n(20),N=(n(146),n(215),n(151),n(13)),y=n.n(N);var _=function(e){return Object(u.jsx)("div",{style:{minHeight:"600px"},children:Object(u.jsx)(v.c,{collapsed:e.collapsed,children:Object(u.jsxs)(v.d,{children:[Object(u.jsxs)(v.a,{iconShape:"square",children:[Object(u.jsx)(v.a,{iconShape:"square",children:Object(u.jsxs)(v.e,{title:"Product",icon:Object(u.jsx)("i",{className:"fa fa-envelope"}),children:[Object(u.jsxs)(v.b,{children:["Create products ",Object(u.jsx)(o.b,{to:"/product/create"})]}),Object(u.jsxs)(v.b,{children:["All products ",Object(u.jsx)(o.b,{to:"/product/all"})]})]})}),Object(u.jsx)(v.a,{iconShape:"square",children:Object(u.jsxs)(v.e,{title:"Category",icon:Object(u.jsx)("i",{className:"fa fa-list"}),children:[Object(u.jsxs)(v.b,{children:["Create Category ",Object(u.jsx)(o.b,{to:"/category/create"})]}),Object(u.jsxs)(v.b,{children:["All Category ",Object(u.jsx)(o.b,{to:"/category/all"})]})]})}),Object(u.jsxs)(v.e,{title:"Admins",icon:Object(u.jsx)("i",{className:"fa fa-users"}),children:[Object(u.jsxs)(v.b,{children:["Create Admin ",Object(u.jsx)(o.b,{to:"/admins/create"})]}),Object(u.jsxs)(v.b,{children:["All Admins ",Object(u.jsx)(o.b,{to:"/admins/all"})]})]})]}),Object(u.jsx)(v.a,{iconShape:"square",children:Object(u.jsxs)(v.e,{title:"Extras",icon:Object(u.jsx)("i",{className:"fa fa-circle"}),children:[Object(u.jsxs)(v.b,{children:["Contact Us",Object(u.jsx)(o.b,{to:"/contactus"})]}),Object(u.jsxs)(v.b,{children:["About Us ",Object(u.jsx)(o.b,{to:"/aboutus"})]})]})}),Object(u.jsx)(v.a,{iconShape:"square",children:Object(u.jsx)(v.b,{icon:Object(u.jsx)("i",{className:"fa fa-bars"}),onClick:function(){return y.a.fire("Coming soon")},children:"More"})})]})})})};var C=function(e){var t=e.children,n=Object(a.useState)(!1),c=Object(O.a)(n,2),r=c[0],s=c[1];return Object(u.jsxs)("div",{children:[Object(u.jsx)(f,{sidebarToggleFunction:function(){s(!r)}}),Object(u.jsxs)("div",{className:"d-flex",style:{marginTop:"60px"},children:[Object(u.jsx)(_,{collapsed:r}),t]}),Object(u.jsx)(g,{})]})};var w=function(){var e=Object(d.c)((function(e){return e.auth.user})),t=Object(a.useState)(!1),n=Object(O.a)(t,2);return n[0],n[1],Object(i.g)(),Object(u.jsx)("div",{children:Object(u.jsx)(C,{children:Object(u.jsx)("div",{className:"container-fluid",children:Object(u.jsxs)("div",{className:"text-center p-5 alert alert-primary",children:[Object(u.jsxs)("h1",{children:["Welcome ",e.name,"! ",Object(u.jsx)("br",{})]}),Object(u.jsx)("h4",{children:" To subidhaonline.com's"}),Object(u.jsx)("h3",{children:"Admin Panel"})]})})})})},S=n(17),E=n.n(S),k=n(29),T=n(22),L=n.n(T),A=function(e){return"".concat(p,"media/").concat(e)},P=function(e,t){return L.a.put(p+"product",{query:{_id:e._id},update:t}).then((function(e){return e.data})).catch((function(e){return e.response?{error_message:e.response.data.error_message}:e}))},D=function(e,t){return L.a.put(p+"category",{query:{_id:e._id},update:t}).then((function(e){return e.data})).catch((function(e){return e.response?{error_message:e.response.data.error_message}:e}))},I=function(){return L.a.get("".concat(p,"category")).then((function(e){return e.data})).catch((function(e){return console.log(e)}))},G=n(129);function H(e){var t=e.columns,n=e.data,a=Object(G.useTable)({columns:t,data:n}),c=a.getTableProps,r=a.getTableBodyProps,s=a.headerGroups,o=a.rows,i=a.prepareRow;return Object(u.jsxs)("table",Object(l.a)(Object(l.a)({},c()),{},{children:[Object(u.jsx)("thead",{children:s.map((function(e){return Object(u.jsx)("tr",Object(l.a)(Object(l.a)({},e.getHeaderGroupProps()),{},{children:e.headers.map((function(e){return Object(u.jsx)("th",Object(l.a)(Object(l.a)({},e.getHeaderProps()),{},{children:e.render("Header")}))}))}))}))}),Object(u.jsx)("tbody",Object(l.a)(Object(l.a)({},r()),{},{children:o.map((function(e,t){return i(e),Object(u.jsx)("tr",Object(l.a)(Object(l.a)({},e.getRowProps()),{},{children:e.cells.map((function(e){return Object(u.jsx)("td",Object(l.a)(Object(l.a)({},e.getCellProps()),{},{children:e.render("Cell")}))}))}))}))}))]}))}var U=n(237);var B=function(){var e=Object(a.useState)([]),t=Object(O.a)(e,2),n=t[0],r=t[1];Object(a.useEffect)((function(){s()}),[]);var s=function(){var e=Object(k.a)(E.a.mark((function e(){var t;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,L.a.get(p+"admin").then((function(e){return console.log(e),e.data})).catch((function(e){return e.response?{error_message:e.response.data.error_message}:e}));case 2:(t=e.sent).map((function(e){return e.actions="",e})),r(t),console.log(t);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),o=c.a.useMemo((function(){return[{Header:"#SN",accessor:function(e){return e.email},Cell:function(e){return Object(u.jsx)("span",{children:e.row.index+1})}},{Header:"Name",accessor:"name"},{Header:"Email",accessor:"email"},{Header:"Phone",accessor:"phone"},{Header:"Address",accessor:"address"},{Header:"Image",accessor:"image",Cell:function(e){var t=e.value;return Object(u.jsx)(U.a,{alt:"Remy Sharp",src:A("product/"+t)})}},{Header:"Actions",accessor:function(e){return e.name},Cell:function(e){return Object(u.jsx)(i,{values:e})}}]}),[]),i=function(e){var t=e.values;return Object(u.jsxs)("div",{className:"btn-group rounded-0",children:[Object(u.jsx)("button",{onClick:function(){return j(t.data[t.row.index])},className:"rounded-0 btn btn-sm btn-outline-info",children:Object(u.jsx)("i",{className:"fa fa-pen"})}),Object(u.jsx)("button",{onClick:function(){return l(t.data[t.row.index])},className:"rounded-0 btn btn-sm btn-outline-danger",children:Object(u.jsx)("i",{className:"fa fa-trash"})})]})},l=function(e){y.a.fire({title:"Do you want to remove this admin ?",showCancelButton:!0,confirmButtonText:"yes delete",icon:"error"}).then((function(t){var n;t.isConfirmed?(n=e,L.a.delete(p+"admin/"+n._id).then((function(e){return console.log(e),e.data})).catch((function(e){return e.response?{error_message:e.response.data.error_message}:e}))).then((function(e){s(),y.a.fire("Admin Deleted !")})).catch((function(e){console.log(e)})):y.a.fire("Deletion cancelled!")}))},j=function(e){y.a.fire({title:"Sorry This feature is under maintainance",icon:"info"})};return Object(u.jsxs)("div",{className:"container py-3 ",children:[Object(u.jsx)("h4",{children:"All Admins"}),Object(u.jsx)("div",{className:"rounded-0 alert alert-primary",children:n&&n.length>0&&Object(u.jsx)("div",{className:"card p-3",children:Object(u.jsx)(H,{columns:o,data:n})})})]})},R=n(34),V=n(235),q=n(128),M=n(130),K=n.n(M),F=n(78),X=n.n(F);var J=function(e){var t=Object(a.useState)(""),n=Object(O.a)(t,2),c=(n[0],n[1]),r=Object(a.useState)(""),s=Object(O.a)(r,2),o=s[0],i=s[1],l=Object(a.useState)(""),j=Object(O.a)(l,2),d=j[0],b=j[1],h=Object(a.useState)(!1),m=Object(O.a)(h,2),x=m[0],f=m[1];return Object(u.jsx)("div",{children:Object(u.jsx)(X.a,{active:x,text:"Uploading Image...",children:Object(u.jsxs)("div",{className:"previewComponent",children:[Object(u.jsx)(K.a,{}),Object(u.jsx)("small",{className:"text-danger",children:d}),Object(u.jsx)("input",{className:"fileInput",type:"file",onChange:function(t){return function(t){f(!0),t.preventDefault();var n=new FileReader,a=t.target.files[0];n.onloadend=function(){c(a)},n.readAsDataURL(a);var r=new FormData;r.append("media",a),L.a.post(p+"media/product",r,{headers:{"Content-Type":"multipart/form-data"}}).then((function(t){console.log(t.data),i(A("product/"+t.data._id+"?placeholder=true")),e.imageUploaded(t.data._id),f(!1)})).catch((function(e){f(!1),b("provided image format invalid,please upload another image"),console.log(e)}))}(t)}}),Object(u.jsx)("div",{className:"imgPreview",children:o&&Object(u.jsx)("img",{style:{height:"70px"},src:o})})]})})})};var z=function(){var e=Object(a.useState)({email:"",password:"",image:[],phone:"",address:"",error:"",loading:!1,redirectNow:!1}),t=Object(O.a)(e,2),n=t[0],c=t[1];Object(a.useEffect)((function(){c(Object(l.a)(Object(l.a)({},n),{},{error:"",success:!1}))}),[]),n.email,n.password,n.phone,n.address;var r=n.error,s=(n.loading,n.redirectNow,n.image,function(e){return function(t){var a=t.target.value;c(Object(l.a)(Object(l.a)({},n),{},Object(R.a)({},e,a)))}});return Object(u.jsx)("div",{className:"row",style:{width:"100%"},children:Object(u.jsxs)("div",{className:"col-lg-10 offset-lg-1 p-3",children:[Object(u.jsx)("h4",{children:"Add Admin"}),Object(u.jsx)("div",{className:"alert alert-primary",children:Object(u.jsxs)(V.a,{children:[Object(u.jsx)("small",{className:"text-danger",children:r}),Object(u.jsxs)(V.a.Group,{children:[Object(u.jsx)(V.a.Label,{children:"Name "}),Object(u.jsx)(V.a.Control,{onChange:s("name"),type:"text",placeholder:"Enter name"}),Object(u.jsx)(V.a.Text,{className:"text-muted"})]}),Object(u.jsxs)(V.a.Group,{children:[Object(u.jsx)(V.a.Label,{children:"Email address"}),Object(u.jsx)(V.a.Control,{onChange:s("email"),type:"email",placeholder:"Enter email"}),Object(u.jsx)(V.a.Text,{className:"text-muted"})]}),Object(u.jsxs)(V.a.Group,{children:[Object(u.jsx)(V.a.Label,{children:"Phone Number "}),Object(u.jsx)(V.a.Control,{onChange:s("phone"),type:"number",placeholder:"Enter phone"}),Object(u.jsx)(V.a.Text,{className:"text-muted"})]}),Object(u.jsxs)(V.a.Group,{children:[Object(u.jsx)(V.a.Label,{children:"Address"}),Object(u.jsx)(V.a.Control,{onChange:s("address"),type:"text",placeholder:"Enter Address"}),Object(u.jsx)(V.a.Text,{className:"text-muted"})]}),Object(u.jsxs)(V.a.Group,{children:[Object(u.jsx)(V.a.Label,{children:"Profile Image"}),Object(u.jsx)(J,{imageUploaded:function(e){console.log(e),c(Object(l.a)(Object(l.a)({},n),{},{image:e}))}})]}),Object(u.jsxs)(V.a.Group,{children:[Object(u.jsx)(V.a.Label,{children:"Password"}),Object(u.jsx)(V.a.Control,{type:"password",onChange:s("password"),placeholder:"Password"})]}),Object(u.jsx)(q.a,{variant:"primary",onClick:function(e){var t;e.preventDefault(),c(Object(l.a)(Object(l.a)({},n),{},{error:!1,loading:!0})),console.log(n),(t=n,L.a.post(p+"admin",t).then((function(e){return console.log(e.data),e.data.error_message?(console.log(e.data.error_message),{error_message:e.data.error_message}):e.data})).catch((function(e){if(e.response)return{error_message:e.response.data.error_message};console.log(e)}))).then((function(e){e.error_message?(y.a.fire({title:e.error_message,icon:"error"}),c(Object(l.a)(Object(l.a)({},n),{},{error:e.error}))):(c({name:"",description:"",price:"",photo:"",stock:"",loading:!1}),y.a.fire({title:"Admin Added",icon:"success"}),window.location.reload(!0))})).catch((function(e){console.log(e),y.a.fire({title:"Something wrong occured",icon:"error"})}))},children:"Submit"})]})})]})})};var W=function(){var e=Object(i.i)();return Object(u.jsx)("div",{children:Object(u.jsxs)(C,{children:["     ",Object(u.jsxs)(i.d,{children:[Object(u.jsx)(i.b,{path:"".concat(e.path,"/all"),component:B}),Object(u.jsx)(i.b,{path:"".concat(e.path,"/create"),component:z}),Object(u.jsx)(i.b,{path:"/",component:function(){return Object(u.jsx)("h1",{children:"Admin Index Page"})}})]})]})})};var Y=function(){var e=Object(a.useState)(!1),t=Object(O.a)(e,2),n=t[0],c=t[1],r=Object(d.c)((function(e){return e.auth.token})),s=Object(d.c)((function(e){return e.auth.loggedIn})),o=Object(i.g)(),j=Object(d.b)(),b=Object(a.useState)({email:"",password:"",error:"",loading:!1,redirectNow:!1}),h=Object(O.a)(b,2),m=h[0],x=h[1],f=Object(a.useState)(!1),g=Object(O.a)(f,2);g[0],g[1],Object(a.useEffect)((function(){c(r&&null!==r.token&&s),x(Object(l.a)(Object(l.a)({},m),{},{error:"",success:!1}))}),[]);var v=m.email,N=m.password,y=m.error,_=m.loading,C=m.redirectNow,w=function(e){return function(t){x(Object(l.a)(Object(l.a)({},m),{},Object(R.a)({error:!1},e,t.target.value)))}},S=function(e){e.preventDefault(),x(Object(l.a)(Object(l.a)({},m),{},{error:!1,loading:!0})),function(e){return fetch("".concat(p,"auth/admin/login"),{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(e)}).then((function(e){return e.json()})).catch((function(e){return console.log(e)}))}({email:v,password:N}).then((function(e){if(e.error)x(Object(l.a)(Object(l.a)({},m),{},{error:e.error,loading:!1}));else try{j(function(e){localStorage.setItem("token",e.token),localStorage.setItem("access_level",e.access_level),localStorage.setItem("user",{name:e.user.name,email:e.user.email});var t=!(!e.token||!e.user);return localStorage.setItem("loggedIn",t),e.loggedIn=t,{type:"auth/Login",payload:e}}(e)),x(Object(l.a)(Object(l.a)({},m),{},{error:!1,loading:!1})),o.push("/")}catch(y){x(Object(l.a)(Object(l.a)({},m),{},{error:"Invalid Credentials",loading:!1}))}})).catch((function(e){x(Object(l.a)(Object(l.a)({},m),{},{error:"Invalid Credentials",loading:!1})),console.log("Login request failed",e)}))};return Object(u.jsx)("div",{children:Object(u.jsxs)(X.a,{active:_,spinner:!0,text:"please wait for a while ...",children:[n&&Object(u.jsx)(i.a,{to:"/"}),!n&&Object(u.jsx)("div",{id:"layoutAuthentication",children:Object(u.jsx)("div",{id:"layoutAuthentication_content",children:Object(u.jsx)("main",{children:Object(u.jsx)("div",{className:"container",children:Object(u.jsx)("div",{className:"row justify-content-center",children:Object(u.jsx)("div",{className:"col-lg-5",children:Object(u.jsxs)("div",{className:"card shadow-lg border-0 rounded-lg mt-5",children:[Object(u.jsxs)("div",{className:"card-header card-sign-header",children:[Object(u.jsxs)("h3",{className:"text-center font-weight-light my-4",children:["Subidhaonline"," "]}),Object(u.jsx)("hr",{}),Object(u.jsx)("h4",{className:"text-center font-weight-light my-4",children:"Admin Login"})]}),Object(u.jsx)("div",{className:"card-body",children:Object(u.jsxs)("form",{children:[Object(u.jsx)("small",{className:"text-danger",children:y}),Object(u.jsxs)("div",{className:"form-group",children:[Object(u.jsx)("label",{className:"form-label",children:"Email*"}),Object(u.jsx)("input",{className:"form-control py-3",id:"inputEmailAddress",type:"email",onChange:w("email"),value:v,placeholder:"Enter email address"})]}),Object(u.jsxs)("div",{className:"form-group",children:[Object(u.jsx)("label",{className:"form-label",children:"Password*"}),Object(u.jsx)("input",{className:"form-control py-3",id:"inputPassword",type:"password",onChange:w("password"),value:N,placeholder:"Enter password"})]}),Object(u.jsx)("div",{className:"form-group d-flex align-items-center justify-content-between mt-4 mb-0",children:Object(u.jsx)("a",{className:"btn btn-sign hover-btn",onClick:function(e){return S(e)},children:"Login"})})]})})]})})})})})})}),C&&Object(u.jsx)(i.a,{to:"/"})]})})};var Q=function(){var e=Object(a.useState)({eng_name:"",nep_name:"",image:null,description:"",short_name:"",error:"",loading:!1,redirectNow:!1}),t=Object(O.a)(e,2),n=t[0],c=t[1];Object(a.useEffect)((function(){c(Object(l.a)(Object(l.a)({},n),{},{error:"",success:!1}))}),[]),n.eng_name,n.nep_name,n.description,n.short_name;var r=n.error,s=(n.loading,n.redirectNow,n.image,function(e){return function(t){var a=t.target.value;c(Object(l.a)(Object(l.a)({},n),{},Object(R.a)({},e,a)))}});return Object(u.jsx)(C,{children:Object(u.jsx)("div",{className:"row",style:{width:"100%"},children:Object(u.jsxs)("div",{className:"col-lg-10 offset-lg-1 p-3",children:[Object(u.jsx)("h4",{children:"Add Category"}),Object(u.jsx)("div",{className:"alert alert-primary",children:Object(u.jsxs)(V.a,{children:[Object(u.jsxs)(V.a.Group,{children:[Object(u.jsx)(V.a.Label,{children:"English Name "}),Object(u.jsx)(V.a.Control,{onChange:s("eng_name"),type:"text",placeholder:"Enter English name"}),Object(u.jsx)(V.a.Text,{className:"text-muted"})]}),Object(u.jsxs)(V.a.Group,{children:[Object(u.jsx)(V.a.Label,{children:"Nepali Name "}),Object(u.jsx)(V.a.Control,{onChange:s("nep_name"),type:"text",placeholder:"Enter Nepali name"}),Object(u.jsx)(V.a.Text,{className:"text-muted"})]}),Object(u.jsxs)(V.a.Group,{children:[Object(u.jsx)(V.a.Label,{children:"Short Name"}),Object(u.jsx)(V.a.Control,{onChange:s("short_name"),type:"text",placeholder:"Enter short name"}),Object(u.jsx)(V.a.Text,{className:"text-muted"})]}),Object(u.jsxs)(V.a.Group,{children:[Object(u.jsx)(V.a.Label,{children:"Description "}),Object(u.jsx)(V.a.Control,{as:"textarea",onChange:s("description"),rows:3}),Object(u.jsx)(V.a.Text,{className:"text-muted"})]}),Object(u.jsxs)(V.a.Group,{children:[Object(u.jsx)(V.a.Label,{children:"Category Image"}),Object(u.jsx)(J,{imageUploaded:function(e){console.log(e),c(Object(l.a)(Object(l.a)({},n),{},{image:e}))}})]}),Object(u.jsx)("small",{className:"text-danger",children:r})," ",Object(u.jsx)("br",{}),Object(u.jsx)(q.a,{variant:"primary",onClick:function(e){var t;e.preventDefault(),c(Object(l.a)(Object(l.a)({},n),{},{error:!1,loading:!0})),console.log(n),(t=n,L.a.post(p+"category",t).then((function(e){return console.log(e),e.data})).catch((function(e){return e.response?(console.log(e.response),{error_message:e.response.data.error_message}):e}))).then((function(e){console.log(e),e.error_message?(y.a.fire({title:e.error_message,icon:"error"}),c(Object(l.a)(Object(l.a)({},n),{},{error:e.error}))):(c({eng_name:"",nep_name:"",description:"",short_name:"",image:"",loading:!1}),y.a.fire({title:"Category Added",icon:"success"}),window.location.reload(!0))})).catch((function(e){console.log(e),y.a.fire({title:"Something wrong occured",icon:"error"})}))},children:"Submit"})]})})]})})})};var Z=function(){Object(i.g)();var e=Object(a.useState)([]),t=Object(O.a)(e,2),n=t[0],r=t[1];Object(a.useEffect)((function(){s()}),[]);var s=function(){var e=Object(k.a)(E.a.mark((function e(){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:I().then((function(e){r(e)}));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),o=c.a.useMemo((function(){return[{Header:"#SN",accessor:function(e){return e.email},Cell:function(e){return Object(u.jsx)("span",{children:e.row.index+1})}},{Header:"Category ID",accessor:"_id"},{Header:"In Home",accessor:"inHome",Cell:function(e){return Object(u.jsx)("span",{children:Object(u.jsx)("a",{style:{cursor:"pointer"},className:"text-"+("true"==e.value?"success":"danger"),onClick:function(){return j(e.data[e.row.index])},children:e&&"true"==e.value?Object(u.jsx)("i",{className:"fa fa-check"}):Object(u.jsx)("i",{className:"fa fa-times"})})})}},{Header:"Eng Name",accessor:"eng_name"},{Header:"Nep Name",accessor:"nep_name"},{Header:"Image",accessor:"image",Cell:function(e){var t=e.value;return Object(u.jsx)(U.a,{alt:"Remy Sharp",src:A("product/"+t)})}},{Header:"Actions",accessor:function(e){return e.name},Cell:function(e){return Object(u.jsx)(l,{values:e})}}]}),[]),l=function(e){var t=e.values;return Object(u.jsxs)("div",{className:"btn-group rounded-0",children:[Object(u.jsx)("button",{onClick:function(){return b(t.data[t.row.index])},className:"rounded-0 btn btn-sm btn-outline-info",children:Object(u.jsx)("i",{className:"fa fa-pen"})}),Object(u.jsx)("button",{onClick:function(){return d(t.data[t.row.index])},className:"rounded-0 btn btn-sm btn-outline-danger",children:Object(u.jsx)("i",{className:"fa fa-trash"})})]})},j=function(e){console.log(e),D({_id:e._id},{inHome:"true"!==e.inHome}).then((function(t){y.a.fire({title:"Products of this category will "+("true"===e.inHome?"not be visible in home":"be visible in home"),icon:"info"}),s()})).catch((function(e){console.log(e)}))},d=function(e){y.a.fire({title:"Do you want to remove this category ?",showCancelButton:!0,confirmButtonText:"yes delete",icon:"error"}).then((function(t){var n;t.isConfirmed?(n=e,L.a.delete(p+"category/"+n._id).then((function(e){return e.json()})).catch((function(e){return console.log(e)}))).then((function(e){s(),y.a.fire("Category Deleted !")})).catch((function(e){y.a.fire({title:"Some error occured !",icon:"error"}),console.log(e)})):y.a.fire("Deletion cancelled!")}))},b=function(e){y.a.fire({title:"Sorry This feature is under maintainance",icon:"info"})};return Object(u.jsx)(C,{children:Object(u.jsxs)("div",{className:"container py-3 ",children:[Object(u.jsx)("h4",{children:"All Categories"}),Object(u.jsx)("div",{className:"rounded-0 alert alert-primary",children:Object(u.jsxs)("div",{className:"card p-3",children:[n&&n.length>0&&Object(u.jsx)(H,{columns:o,data:n}),!n&&Object(u.jsx)("p",{children:"No categories found please create category"})]})})]})})},$=n(40),ee=n(43),te=n(44),ne=n.n(te),ae=n(59);n(195);var ce=function(e){var t=e.values,n=Object(a.useState)(""),c=Object(O.a)(n,2),r=c[0],s=c[1],o=Object(a.useState)([]),i=Object(O.a)(o,2),l=i[0],j=i[1],d=Object(a.useState)(!1),b=Object(O.a)(d,2),h=b[0],m=b[1];return Object(u.jsx)("div",{children:Object(u.jsxs)("div",{className:"d-flex alert alert-info",children:[Object(u.jsx)("div",{className:"container-fluid",children:Object(u.jsx)("input",{className:"taginput form-control",value:r,placeholder:"Enter tags ",onKeyDown:function(e){var n=e.key,a=e.code,c=r.trim();if(","!==n&&"Enter"!==n&&"Space"!==a||!c.length||l.includes(c)||(e.preventDefault(),j((function(e){return[].concat(Object($.a)(e),[c])})),t([].concat(Object($.a)(l),[c])),s("")),"Backspace"===n&&!r.length&&l.length&&h){var o=Object($.a)(l),i=o.pop();e.preventDefault(),j(o),t(o),s(i)}m(!1)},onKeyUp:function(){m(!0)},onChange:function(e){var t=e.target.value;s(t)}})}),Object(u.jsx)("div",{className:"container-fluid",children:l.map((function(e,n){return Object(u.jsxs)("div",{className:"badge badge-success m-3",children:[e,Object(u.jsx)("span",{className:"badge badge-danger badge-sm ",onClick:function(){return function(e){j((function(t){return t.filter((function(t,n){return n!==e}))})),t(l.filter((function(t,n){return n!==e})))}(n)},children:Object(u.jsx)("i",{className:"fa fa-times"})})]},n)}))})]})})};var re=function(){var e=Object(a.useState)({eng_name:"",nep_name:"",tags:[],description:"",short_description:"",product_details:"",product_source:"",price:null,discount:null,product_source_type:"",category:{},stock:null,images:[""],error:"",loading:!1,redirectNow:!1}),t=Object(O.a)(e,2),n=t[0],c=t[1],r=Object(a.useState)([]),s=Object(O.a)(r,2),o=(s[0],s[1],Object(a.useState)([])),i=Object(O.a)(o,2),j=i[0],d=i[1];Object(a.useEffect)((function(){c(Object(l.a)(Object(l.a)({},n),{},{error:"",success:!1})),I().then((function(e){var t=e.map((function(e){return{label:e.eng_name,value:e}}));d(t)}))}),[]);var b=function(e,t){var a=g;a[t]=e,c(Object(l.a)(Object(l.a)({},n),{},{images:Object($.a)(a)})),console.log(g)},h=(n.name,n.description),m=n.product_source_type,x=(n.category,n.price,n.discount,n.short_description,n.tags),f=(n.product_details,n.product_source,n.stock,n.error),g=(n.loading,n.redirectNow,n.images),v=function(e){return function(t){var a=t.target.value;c(Object(l.a)(Object(l.a)({},n),{},Object(R.a)({},e,a)))}};function N(e){console.log(e),c(Object(l.a)(Object(l.a)({},n),{},{tags:e}))}return Object(u.jsx)(C,{children:Object(u.jsx)("div",{className:"row",style:{width:"100%"},children:Object(u.jsxs)("div",{className:"col-lg-10 offset-lg-1 p-3",children:[Object(u.jsx)("h4",{children:"Add Product"}),Object(u.jsx)("div",{className:"alert alert-primary",children:Object(u.jsxs)(V.a,{children:[Object(u.jsxs)(V.a.Group,{children:[Object(u.jsx)(V.a.Label,{children:"English Name "}),Object(u.jsx)(V.a.Control,{onChange:v("eng_name"),type:"text",placeholder:"Enter English name"}),Object(u.jsx)(V.a.Text,{className:"text-muted"})]}),Object(u.jsxs)(V.a.Group,{children:[Object(u.jsx)(V.a.Label,{children:"Nepali Name "}),Object(u.jsx)(V.a.Control,{onChange:v("nep_name"),type:"text",placeholder:"Enter Nepali name"}),Object(u.jsx)(V.a.Text,{className:"text-muted"})]}),Object(u.jsxs)(V.a.Group,{children:[Object(u.jsx)(V.a.Label,{children:"Price"}),Object(u.jsx)(V.a.Control,{onChange:v("price"),type:"number",placeholder:"Enter Price (Nrs)"}),Object(u.jsx)(V.a.Text,{className:"text-muted"})]}),Object(u.jsxs)(V.a.Group,{children:[Object(u.jsx)(V.a.Label,{children:"Discount"}),Object(u.jsx)(V.a.Control,{onChange:v("discount"),type:"number",placeholder:"Enter Discount % "}),Object(u.jsx)(V.a.Text,{className:"text-muted"})]}),Object(u.jsxs)(V.a.Group,{children:[Object(u.jsx)(V.a.Label,{children:"Stock"}),Object(u.jsx)(V.a.Control,{onChange:v("stock"),type:"number",placeholder:"Current Stock "}),Object(u.jsx)(V.a.Text,{className:"text-muted"})]}),Object(u.jsxs)(V.a.Group,{children:[Object(u.jsx)(V.a.Label,{children:"Description "}),Object(u.jsx)(ee.CKEditor,{editor:ne.a,data:h,onChange:function(e,t){!function(e){c(Object(l.a)(Object(l.a)({},n),{},{description:e}))}(t.getData())}})]}),Object(u.jsxs)(V.a.Group,{children:[Object(u.jsx)(V.a.Label,{children:"Short Description "}),Object(u.jsx)(V.a.Control,{as:"textarea",onChange:v("short_description"),rows:3}),Object(u.jsx)(V.a.Text,{className:"text-muted"})]}),Object(u.jsxs)(V.a.Group,{children:[Object(u.jsx)(V.a.Label,{children:"Product Tags "}),Object(u.jsx)(ce,{values:function(e){return N(e)}})]}),Object(u.jsxs)(V.a.Group,{children:[Object(u.jsx)(V.a.Label,{children:"Product Source Type"}),Object(u.jsx)(ae.a,{className:"basic-single",classNamePrefix:"select",defaultValue:m,isSearchable:!0,name:"",onChange:function(e,t){return a=e,console.log(a),void c(Object(l.a)(Object(l.a)({},n),{},{product_source_type:a.value}));var a},options:[{label:"Subidha Store",value:"MYSTORE"},{label:"External Vendor/Shop",value:"SHOP"}]})]}),Object(u.jsxs)(V.a.Group,{children:[Object(u.jsx)(V.a.Label,{children:"Category"}),Object(u.jsx)(ae.a,{className:"basic-single",classNamePrefix:"select",defaultValue:j[0],isSearchable:!0,name:"",onChange:function(e){return t=e,console.log(t),void c(Object(l.a)(Object(l.a)({},n),{},{category:{name:t.value.eng_name,cat_id:t.value._id}}));var t},options:j})]}),Object(u.jsxs)(V.a.Group,{children:[Object(u.jsx)(V.a.Label,{children:"Product Main Image"}),Object(u.jsx)(J,{imageUploaded:function(e,t){return b(e,0)}})]}),Object(u.jsxs)(V.a.Group,{children:[Object(u.jsx)(V.a.Label,{children:"Other Images (optional)"}),Object(u.jsx)(J,{imageUploaded:function(e,t){return b(e,1)}}),Object(u.jsx)(J,{imageUploaded:function(e,t){return b(e,2)}}),Object(u.jsx)(J,{imageUploaded:function(e,t){return b(e,3)}}),Object(u.jsx)(J,{imageUploaded:function(e,t){return b(e,4)}})]}),Object(u.jsx)("small",{className:"text-danger",children:f})," ",Object(u.jsx)("br",{}),Object(u.jsx)(q.a,{variant:"primary",onClick:function(e){var t;e.preventDefault(),c(Object(l.a)(Object(l.a)({},n),{},{error:!1,loading:!0})),console.log(n),x&&0!=x.length&&""!=x[0]?""!=g[0]&&g[0]?(t=n,L.a.post(p+"product",t).then((function(e){return e.data})).catch((function(e){return e.response?{error_message:e.response.data.error_message}:e}))).then((function(e){e.error_message?(y.a.fire({title:e.error_message,icon:"error"}),c(Object(l.a)(Object(l.a)({},n),{},{error:e.error}))):(console.log(e),c({eng_name:"",nep_name:"",tags:[],product_no:"",description:"",short_name:"",short_description:"",category:{},image:"",stock:null,loading:!1,product_source_type:""}),y.a.fire({title:"product added",icon:"success"}),window.location.reload(!0))})).catch((function(e){console.log(e),y.a.fire({title:"Something wrong occured",icon:"error"})})):y.a.fire({title:"main image missing",icon:"error"}):y.a.fire({title:"Product tags empty",icon:"error"})},children:"Submit"})]})})]})})})};n(125);var se=function(){Object(i.g)();var e=Object(a.useState)([]),t=Object(O.a)(e,2),n=t[0],r=t[1];Object(a.useEffect)((function(){s()}),[]);var s=function(){var e=Object(k.a)(E.a.mark((function e(){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,L.a.get("/product").then((function(e){return e.data})).catch((function(e){return e.response?{error_message:e.response.data.error_message}:e})).then((function(e){r(e)}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),o=c.a.useMemo((function(){return[{Header:"#SN",accessor:function(e){return e.name},Cell:function(e){return Object(u.jsx)("span",{children:e.row.index+1})}},{Header:"English Name",accessor:"eng_name"},{Header:"Nepali Name",accessor:"nep_name"},{Header:"status",accessor:"status",Cell:function(e){return Object(u.jsx)("span",{children:Object(u.jsx)("a",{style:{cursor:"pointer"},className:"text-"+(e&&"Active"==e.value?"success":"secondary"),onClick:function(){return j(e.data[e.row.index])},children:e.value})})}},{Header:"Category",accessor:"category",Cell:function(e){return Object(u.jsx)("span",{children:e.value.name})}},{Header:"Featured",accessor:"featured",Cell:function(e){return Object(u.jsx)("span",{children:Object(u.jsx)("a",{style:{cursor:"pointer"},className:"text-"+(1==(e&&e.value)?"success":"danger"),onClick:function(){return l(e.data[e.row.index])},children:e&&e.value?Object(u.jsx)("i",{className:"fa fa-check"}):Object(u.jsx)("i",{className:"fa fa-times"})})})}},{Header:"Image",accessor:"images",Cell:function(e){var t=e.value;return Object(u.jsx)(U.a,{alt:" ",src:A("product/"+t[0])})}},{Header:"Actions",accessor:function(e){return e.name},Cell:function(e){return Object(u.jsx)(d,{values:e})}}]}),[]),l=function(e){console.log(e);var t=!0!==e.featured;P({_id:e._id},{featured:t}).then((function(e){s(),y.a.fire("Product is now "+(t?"featured":"normal"))})).catch((function(e){console.log(e)}))},j=function(e){console.log(e);var t=e.status&&"Active"===e.status?"Inactive":"Active";P({_id:e._id},{status:t}).then((function(e){y.a.fire("Product is now "+t),s()})).catch((function(e){console.log(e)}))},d=function(e){var t=e.values;return Object(u.jsxs)("div",{className:"btn-group rounded-0",children:[Object(u.jsx)("button",{onClick:function(e){return h(t.data[t.row.index])},className:"rounded-0 btn btn-sm btn-outline-info",children:Object(u.jsx)("i",{className:"fa fa-pen"})}),Object(u.jsx)("button",{onClick:function(e){return b(t.data[t.row.index])},className:"rounded-0 btn btn-sm btn-outline-danger",children:Object(u.jsx)("i",{className:"fa fa-trash"})})]})},b=function(e){y.a.fire({title:"Do you want to delete this product ?",showCancelButton:!0,confirmButtonText:"yes delete"}).then((function(t){var n;t.isConfirmed?(n=e,L.a.delete(p+"product/"+n._id).then((function(e){return console.log(e),e.data})).catch((function(e){return e.response?{error_message:e.response.data.error_message}:e}))).then((function(e){s(),y.a.fire("Product Deleted")})).catch((function(e){console.log(e)})):y.a.fire("Deletion cancelled!")}))},h=function(e){y.a.fire({title:"Sorry This feature is under maintainance",icon:"info"})};return Object(u.jsx)(C,{children:Object(u.jsxs)("div",{className:"container py-3",children:[Object(u.jsx)("h4",{children:"All Products"}),Object(u.jsx)("div",{className:"alert alert-primary rounded-0",children:n&&n.length>0&&Object(u.jsx)("div",{className:"card p-3",children:Object(u.jsx)(H,{columns:o,data:n})})})]})})};var oe=function(){var e=Object(i.h)().id,t=Object(a.useState)(null),n=Object(O.a)(t,2),c=n[0],r=n[1],s=Object(a.useState)({eng_name:"",nep_name:"",tags:[],description:"",short_description:"",product_details:"",product_source:"",price:null,discount:null,product_source_type:"",category:{},stock:null,images:[""],short_name:"",error:"",loading:!1,redirectNow:!1}),o=Object(O.a)(s,2),j=o[0],d=o[1],b=Object(a.useState)([]),h=Object(O.a)(b,2),m=h[0],x=h[1];Object(a.useEffect)((function(){d(Object(l.a)(Object(l.a)({},j),{},{error:"",success:!1})),I().then((function(t){var n=t.map((function(e){return{label:e.eng_name,value:e}}));x(n),function(e){return L.a.get(p+"product/edit/"+e).then((function(e){return console.log(e),e.data})).catch((function(e){return e.response?{error_message:e.response.data.error_message}:e}))}(e).then((function(e){console.log(e),r(e),d(Object(l.a)(Object(l.a)({},j),e));var t=m.filter((function(t){return t.label==e.category.name}))[0];d(Object(l.a)(Object(l.a)({},j),{},{category:t})),console.log(t),console.log(j)})).catch((function(e){console.log(e)}))}))}),[]);var f=function(e,t){var n=A;n[t]=e,d(Object(l.a)(Object(l.a)({},j),{},{images:Object($.a)(n)})),console.log(A)},g=j.eng_name,v=j.nep_name,N=j.description,y=j.product_source_type,_=j.category,w=j.price,S=j.discount,E=j.short_description,k=(j.product_details,j.product_source,j.stock,j.error),T=(j.loading,j.redirectNow,j.short_name),A=j.images,P=function(e){return function(t){var n=t.target.value;d(Object(l.a)(Object(l.a)({},j),{},Object(R.a)({},e,n)))}};return Object(u.jsx)(C,{children:c&&Object(u.jsx)("div",{className:"row",style:{width:"100%"},children:Object(u.jsxs)("div",{className:"col-lg-10 offset-lg-1 p-3",children:[Object(u.jsx)("h4",{children:"Edit Product"}),Object(u.jsx)("div",{className:"alert alert-primary",children:Object(u.jsxs)(V.a,{children:[Object(u.jsxs)(V.a.Group,{children:[Object(u.jsx)(V.a.Label,{children:"English Name "}),Object(u.jsx)(V.a.Control,{onChange:P("eng_name"),type:"text",value:g,placeholder:"Enter English name"}),Object(u.jsx)(V.a.Text,{className:"text-muted"})]}),Object(u.jsxs)(V.a.Group,{children:[Object(u.jsx)(V.a.Label,{children:"Nepali Name "}),Object(u.jsx)(V.a.Control,{onChange:P("nep_name"),type:"text",value:v,placeholder:"Enter Nepali name"}),Object(u.jsx)(V.a.Text,{className:"text-muted"})]}),Object(u.jsxs)(V.a.Group,{children:[Object(u.jsx)(V.a.Label,{children:"Short Name"}),Object(u.jsx)(V.a.Control,{value:T,onChange:P("short_name"),type:"text",placeholder:"Enter short name"}),Object(u.jsx)(V.a.Text,{className:"text-muted"})]}),Object(u.jsxs)(V.a.Group,{children:[Object(u.jsx)(V.a.Label,{children:"Price"}),Object(u.jsx)(V.a.Control,{onChange:P("price"),type:"number",value:w,placeholder:"Enter Price (Nrs)"}),Object(u.jsx)(V.a.Text,{className:"text-muted"})]}),Object(u.jsxs)(V.a.Group,{children:[Object(u.jsx)(V.a.Label,{children:"Discount"}),Object(u.jsx)(V.a.Control,{onChange:P("discount"),type:"number",value:S,placeholder:"Enter Discount % "}),Object(u.jsx)(V.a.Text,{className:"text-muted"})]}),Object(u.jsxs)(V.a.Group,{children:[Object(u.jsx)(V.a.Label,{children:"Description "}),Object(u.jsx)(ee.CKEditor,{editor:ne.a,data:N,value:N,onChange:function(e,t){!function(e){d(Object(l.a)(Object(l.a)({},j),{},{description:e}))}(t.getData())}})]}),Object(u.jsxs)(V.a.Group,{children:[Object(u.jsx)(V.a.Label,{children:"Short Description "}),Object(u.jsx)(V.a.Control,{as:"textarea",value:E,onChange:P("short_description"),rows:3}),Object(u.jsx)(V.a.Text,{className:"text-muted"})]}),Object(u.jsxs)(V.a.Group,{children:[Object(u.jsx)(V.a.Label,{children:"Product Source Type"}),Object(u.jsx)(ae.a,{className:"basic-single",classNamePrefix:"select",defaultValue:y,isSearchable:!0,name:"",onChange:function(e,t){return n=e,console.log(n),void d(Object(l.a)(Object(l.a)({},j),{},{product_source_type:n.value}));var n},options:[{label:"Subidha Store",value:"MYSTORE"},{label:"External Vendor/Shop",value:"SHOP"}]})]}),Object(u.jsxs)(V.a.Group,{children:[Object(u.jsx)(V.a.Label,{children:"Category"}),Object(u.jsx)(ae.a,{className:"basic-single",classNamePrefix:"select",defaultValue:_,isSearchable:!0,name:"",onChange:function(e){return t=e,console.log(t),void d(Object(l.a)(Object(l.a)({},j),{},{category:{name:t.value.eng_name,cat_id:t.value._id}}));var t},options:m})]}),Object(u.jsxs)(V.a.Group,{children:[Object(u.jsx)(V.a.Label,{children:"Product Main Image"}),Object(u.jsx)(J,{imageUploaded:function(e,t){return f(e,0)}})]}),Object(u.jsxs)(V.a.Group,{children:[Object(u.jsx)(V.a.Label,{children:"Other Images (optional)"}),Object(u.jsx)(J,{imageUploaded:function(e,t){return f(e,1)}}),Object(u.jsx)(J,{imageUploaded:function(e,t){return f(e,2)}}),Object(u.jsx)(J,{imageUploaded:function(e,t){return f(e,3)}}),Object(u.jsx)(J,{imageUploaded:function(e,t){return f(e,4)}})]}),Object(u.jsx)("small",{className:"text-danger",children:k})," ",Object(u.jsx)("br",{}),Object(u.jsx)(q.a,{variant:"primary",onClick:function(t){t.preventDefault(),d(Object(l.a)(Object(l.a)({},j),{},{error:!1,loading:!0})),console.log(j),function(e,t){return L.a.put(p+"product/"+t,e).then((function(e){return console.log(e).data,e.data})).catch((function(e){return e.response?{error_message:e.response.data.error_message}:e}))}(j,e).then((function(e){e.error?d(Object(l.a)(Object(l.a)({},j),{},{error:e.error})):(console.log(e),d({eng_name:"",nep_name:"",tags:[],product_no:"",description:"",short_name:"",short_description:"",category:{},image:"",loading:!1,product_source_type:""}))})).catch((function(e){console.log(e)}))},children:"Submit"})]})})]})})})},ie=function(e){var t=e.match,n=Object(a.useState)(""),c=Object(O.a)(n,2),r=(c[0],c[1]),s=Object(a.useState)(""),o=Object(O.a)(s,2),i=o[0],j=o[1];Object(a.useEffect)((function(){d(t.params.id)}),[]);var d=function(e){(function(e){return L.a.get("".concat(p,"category/single/")+e).then((function(e){return e.data})).catch((function(e){return console.log(e)}))})(e).then((function(e){r(e),j(e)})).catch((function(e){console.log(e),setError(e)}))};return Object(u.jsx)(C,{title:"update category",description:"",children:Object(u.jsxs)("form",{children:[Object(u.jsx)("div",{className:"form-group",children:Object(u.jsx)("input",{type:"text",onChange:function(e){j(Object(l.a)(Object(l.a)({},i),{},{name:e.target.value}))},name:"name",className:"form-control",placeholder:"Name",value:name})}),Object(u.jsx)("button",{type:"submit",onClick:function(e){e.preventDefault(),setError(""),setSuccess(!1),D(t.params.categoryId,user._id,token,name).then((function(e){e.error?setError(!0):(setError(""),setSuccess(!0),setName(""),setCreatedCategory(e.name))}))},className:"btn btn-outline-success mb-3",children:"Update Category"})]})})},le=n(100);n(205),n(206);le.a.initializeApp({apiKey:"AIzaSyDg-w2TxbUCBTnnbVAIRA5gipxo-TXOOCg",authDomain:"subidhaonline-de029.firebaseapp.com",projectId:"subidhaonline-de029",storageBucket:"subidhaonline-de029.appspot.com",messagingSenderId:"662339859667",appId:"1:662339859667:web:ee7f5611c61d7dc5ca9026",measurementId:"G-9G0WF7PJ05"});var je=le.a.firestore().collection("extras");var de=function(){var e=Object(a.useState)(""),t=Object(O.a)(e,2),n=t[0],c=t[1],r=Object(a.useState)(""),s=Object(O.a)(r,2),o=s[0],i=s[1],l=Object(a.useState)(""),j=Object(O.a)(l,2),d=j[0],b=j[1];Object(a.useEffect)((function(){je.orderBy("createdOn","desc").onSnapshot((function(e){var t=[];e.forEach((function(e){var n=e.data();n.id=e.id,t.push(n)}));var n=t.filter((function(e){return"ContactUs"==e.type}))[0];c(n?n.content:""),i(n?n.content:""),b(n.id),console.log(n)}))}),[]);var h=function(){var e=Object(k.a)(E.a.mark((function e(){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(o),e.next=3,je.add({createdOn:new Date,content:o,type:"ContactUs"});case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),m=function(){var e=Object(k.a)(E.a.mark((function e(){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,je.doc(d).update({content:o});case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(u.jsx)("div",{children:Object(u.jsx)(C,{children:Object(u.jsx)("div",{className:"container-fluid",children:Object(u.jsx)("div",{className:"row",children:Object(u.jsx)("div",{className:"col-lg-12",children:Object(u.jsxs)("div",{className:"card",children:[Object(u.jsxs)("div",{className:"card-header",children:["Contact Us Page",Object(u.jsxs)("div",{className:"btn-group float-right",children:[o!=n&&Object(u.jsxs)("button",{onClick:function(){n||""==n?m():h()},className:"btn btn-light btn-sm",children:["Save ",Object(u.jsx)("i",{className:"fa fa-pencil"})]}),Object(u.jsxs)("button",{className:"btn btn-primary btn-sm",children:["Edit ",Object(u.jsx)("i",{className:"fa fa-pencil"})]})]})]}),Object(u.jsx)("div",{className:"card-body",children:Object(u.jsx)(ee.CKEditor,{editor:ne.a,data:o,onChange:function(e,t){!function(e){i(e)}(t.getData())}})})]})})})})})})};var ue=function(){var e=Object(a.useState)(""),t=Object(O.a)(e,2),n=t[0],c=t[1],r=Object(a.useState)(""),s=Object(O.a)(r,2),o=s[0],i=s[1],l=Object(a.useState)(""),j=Object(O.a)(l,2),d=j[0],b=j[1];Object(a.useEffect)((function(){je.orderBy("createdOn","desc").onSnapshot((function(e){var t=[];e.forEach((function(e){var n=e.data();n.id=e.id,t.push(n)}));var n=t.filter((function(e){return"AboutUs"==e.type}))[0];c(n?n.content:""),i(n?n.content:""),b(n?n.id:""),console.log(n)}))}),[]);var h=function(){var e=Object(k.a)(E.a.mark((function e(){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(o),e.next=3,je.add({createdOn:new Date,content:o,type:"AboutUs"});case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),m=function(){var e=Object(k.a)(E.a.mark((function e(){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,je.doc(d).update({content:o});case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(u.jsx)("div",{children:Object(u.jsx)(C,{children:Object(u.jsx)("div",{className:"container-fluid",children:Object(u.jsx)("div",{className:"row",children:Object(u.jsx)("div",{className:"col-lg-12",children:Object(u.jsxs)("div",{className:"card",children:[Object(u.jsxs)("div",{className:"card-header",children:["About Us Page",Object(u.jsxs)("div",{className:"btn-group float-right",children:[o!=n&&Object(u.jsxs)("button",{onClick:function(){return console.log(typeof n),void(n&&""==n&&""===d?m():h())},className:"btn btn-light btn-sm",children:["Save ",Object(u.jsx)("i",{className:"fa fa-pencil"})]}),Object(u.jsxs)("button",{className:"btn btn-primary btn-sm",children:["Edit ",Object(u.jsx)("i",{className:"fa fa-pencil"})]})]})]}),Object(u.jsx)("div",{className:"card-body",children:Object(u.jsx)(ee.CKEditor,{editor:ne.a,data:o,onChange:function(e,t){!function(e){i(e)}(t.getData())}})})]})})})})})})},be=function(){return Object(u.jsx)(o.a,{children:Object(u.jsxs)(i.d,{children:[Object(u.jsx)(b,{path:"/",exact:!0,component:w}),Object(u.jsx)(b,{path:"/admins",component:W}),Object(u.jsx)(b,{exact:!0,path:"/category/create",component:Q})," ",Object(u.jsx)(b,{exact:!0,path:"/category/all",component:Z}),Object(u.jsx)(b,{exact:!0,path:"/product/create",component:re}),Object(u.jsx)(b,{path:"/product/edit/:id",component:oe}),Object(u.jsx)(b,{path:"/category/edit/:id",component:ie}),Object(u.jsx)(b,{exact:!0,path:"/product/all",component:se}),Object(u.jsx)(b,{exact:!0,path:"/contactus",component:de}),Object(u.jsx)(b,{exact:!0,path:"/aboutus",component:ue}),Object(u.jsx)(i.b,{exact:!0,path:"/login",component:Y})]})})},Oe=n(131),he=n(46),me={name:"",email:""},xe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:me,t=arguments.length>1?arguments[1]:void 0;switch(t.Type){case"user/AddUser":return Object(l.a)(Object(l.a)({},e),{},{user:t.payload});default:return e}},pe=[],fe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:pe,t=arguments.length>1?arguments[1]:void 0;switch(t.Type){case"cart/AddToCart":return Object(l.a)(Object(l.a)({},e),{},{cart:[].concat(Object($.a)(e.cart),[t.payload])});default:return e}},ge={token:{token:null,expiry:null},user:{},access_level:null,loggedIn:!1},ve=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ge,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"auth/Login":var n=t.payload,a=n.token,c=n.user,r=n.access_level,s=n.loggedIn;return Object(l.a)(Object(l.a)({},e),{},{token:a,user:c,access_level:r,loggedIn:s});case"auth/Logout":return ge;default:return e}},Ne=Object(he.a)({user:xe,cart:fe,auth:ve}),ye=n(101),_e=n(132),Ce={key:"root",storage:n.n(_e).a},we=Object(ye.a)(Ce,Ne),Se=Object(he.b)(we,window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__()),Ee=Object(ye.b)(Se);var ke=n(70);n(209),n(210),n(211),n(212),n(213);L.a.interceptors.request.use(function(){var e=Object(k.a)(E.a.mark((function e(t){var n;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Se.getState().auth.token.token,t.baseURL="/",n&&(t.headers.Authorization=n),e.abrupt("return",t);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),(function(e){return console.log(e),Promise.reject(e)})),s.a.render(Object(u.jsx)(d.a,{store:Se,children:Object(u.jsxs)(Oe.a,{loading:null,persistor:Ee,children:[Object(u.jsx)(ke.a,{newestOnTop:!0}),Object(u.jsx)(be,{})]})}),document.getElementById("root"))}},[[214,1,2]]]);
//# sourceMappingURL=main.64794c3a.chunk.js.map