(this.webpackJsonpadmin=this.webpackJsonpadmin||[]).push([[0],{146:function(e,t,a){},202:function(e,t,a){},203:function(e,t,a){},204:function(e,t,a){},205:function(e,t,a){},206:function(e,t,a){"use strict";a.r(t);var c=a(0),n=a.n(c),r=a(22),o=a.n(r),s=a(23),l=a(18),i=a(5),j=a(127),d=a(36),u=a(1),b=function(e){var t=e.component,a=Object(j.a)(e,["component"]),c=Object(d.c)((function(e){return e.auth.token})),n=Object(d.c)((function(e){return e.auth.loggedIn})),r=c&&null!==c.token&&n;return console.log(c,n),Object(u.jsx)(l.b,Object(i.a)(Object(i.a)({},a),{},{render:function(e){return r?Object(u.jsx)(t,Object(i.a)({},e)):Object(u.jsx)(l.a,{to:{pathname:"/login",state:{from:e.location}}})}}))},O=a(12),h=a(226),x=a(228),m=a(225);var p=function(e){var t=e.sidebarToggleFunction,a=Object(d.b)(),c=Object(d.c)((function(e){return e.auth.user}));return Object(u.jsx)("div",{children:Object(u.jsxs)(h.a,{bg:"light",expand:"lg",children:[Object(u.jsx)(h.a.Brand,{href:"/",children:"Subidhaonline"}),Object(u.jsx)(h.a.Toggle,{"aria-controls":"basic-navbar-nav"}),Object(u.jsx)(h.a.Collapse,{id:"basic-navbar-nav",children:Object(u.jsxs)(x.a,{className:"mr-auto",children:[Object(u.jsx)(x.a.Link,{onClick:t,children:Object(u.jsx)("i",{className:"fa fa-bars"})}),Object(u.jsx)(x.a.Link,{href:"/",children:"Home"}),Object(u.jsx)(x.a.Link,{href:"/admins",children:"Admins"}),Object(u.jsxs)(m.a,{title:c.name?c.name:"User",id:"basic-nav-dropdown",children:[Object(u.jsx)(m.a.Item,{href:"#action/3.1",children:"Action"}),Object(u.jsx)(m.a.Item,{href:"#action/3.2",children:"Another action"}),Object(u.jsx)(m.a.Item,{href:"#action/3.3",children:"Something"}),Object(u.jsx)(m.a.Divider,{}),Object(u.jsx)(m.a.Item,{onClick:function(){return a((localStorage.setItem("token",null),localStorage.setItem("access_level",null),localStorage.setItem("user",{}),localStorage.setItem("loggedIn",!1),{type:"auth/Logout"})),window.location.reload(!0)},children:"LogOut"})]})]})})]})})};var f=function(){return Object(u.jsx)("div",{})},g=a(13),v=(a(140),"http://subidhaonline.com/api/"),N=(a(207),function(){return"undefined"!=typeof window&&(!!localStorage.getItem("jwt")&&JSON.parse(localStorage.getItem("jwt")))});a(146);var y=function(e){return Object(u.jsx)("div",{style:{height:"600px"},children:Object(u.jsxs)(g.c,{collapsed:e.collapsed,children:[Object(u.jsxs)(g.d,{children:[Object(u.jsxs)(g.a,{iconShape:"square",children:[Object(u.jsxs)(g.b,{icon:Object(u.jsx)("i",{className:"fa fa-paint-brush"}),children:["Dashboard ",Object(u.jsx)("link",{to:"/"})," "]}),Object(u.jsxs)(g.f,{title:"Admins",icon:Object(u.jsx)("i",{className:"fa fa-users"}),children:[Object(u.jsxs)(g.b,{children:["Create Admin ",Object(u.jsx)(s.b,{to:"/admins/create"})]}),Object(u.jsxs)(g.b,{children:["All Admins ",Object(u.jsx)(s.b,{to:"/admins/all"})]})]})]}),Object(u.jsx)(g.a,{iconShape:"square",children:Object(u.jsxs)(g.f,{title:"Category",icon:Object(u.jsx)("i",{className:"fa fa-list"}),children:[Object(u.jsxs)(g.b,{children:["Create Category ",Object(u.jsx)(s.b,{to:"/category/create"})]}),Object(u.jsxs)(g.b,{children:["All Category ",Object(u.jsx)(s.b,{to:"/category/all"})]})]})}),Object(u.jsx)(g.a,{iconShape:"square",children:Object(u.jsxs)(g.f,{title:"Product",icon:Object(u.jsx)("i",{className:"fa fa-envelope"}),children:[Object(u.jsxs)(g.b,{children:["Create products ",Object(u.jsx)(s.b,{to:"/product/create"})]}),Object(u.jsxs)(g.b,{children:["All products ",Object(u.jsx)(s.b,{to:"/product/all"})]})]})}),Object(u.jsxs)(g.a,{iconShape:"square",children:[Object(u.jsx)(g.b,{icon:Object(u.jsx)("i",{className:"fa fa-user"}),children:"Dashboard"}),Object(u.jsxs)(g.f,{title:"Components",icon:Object(u.jsx)("i",{className:"fa fa-heart"}),children:[Object(u.jsx)(g.b,{children:"Component 1"}),Object(u.jsx)(g.b,{children:"Component 2"})]})]}),Object(u.jsxs)(g.a,{iconShape:"square",children:[Object(u.jsx)(g.b,{icon:Object(u.jsx)("i",{className:"fa fa-user"}),children:"Dashboard"}),Object(u.jsxs)(g.f,{title:"Components",icon:Object(u.jsx)("i",{className:"fa fa-heart"}),children:[Object(u.jsx)(g.b,{children:"Component 1"}),Object(u.jsx)(g.b,{children:"Component 2"})]})]}),Object(u.jsxs)(g.a,{iconShape:"square",children:[Object(u.jsx)(g.b,{icon:Object(u.jsx)("i",{className:"fa fa-user"}),children:"Dashboard"}),Object(u.jsxs)(g.f,{title:"Components",icon:Object(u.jsx)("i",{className:"fa fa-heart"}),children:[Object(u.jsx)(g.b,{children:"Component 1"}),Object(u.jsx)(g.b,{children:"Component 2"})]})]})]}),Object(u.jsx)(g.e,{children:"Developed By AsoftNepal"})]})})};var C=function(e){var t=e.children,a=Object(c.useState)(!1),n=Object(O.a)(a,2),r=n[0],o=n[1];return Object(u.jsxs)("div",{children:[Object(u.jsx)(p,{sidebarToggleFunction:function(){o(!r)}}),Object(u.jsxs)("div",{className:"d-flex",children:[Object(u.jsx)(y,{collapsed:r}),t]}),Object(u.jsx)(f,{})]})};var _=function(){var e=Object(c.useState)(!1),t=Object(O.a)(e,2);return t[0],t[1],Object(l.g)(),Object(u.jsx)("div",{children:Object(u.jsx)(C,{children:Object(u.jsxs)("div",{className:"text-center p-5 alert alert-primary",children:[Object(u.jsx)("h1",{children:"Welcome to subidhaonline.com"}),Object(u.jsx)("h3",{children:"Admin Panel"})]})})})},w=a(27),S=a.n(w),E=a(39),L=a(20),k=a.n(L),T=function(){return k.a.get("".concat(v,"category")).then((function(e){return e.data})).catch((function(e){return console.log(e)}))},I=function(e){return"".concat(v,"media/").concat(e)},P=a(123);function A(e){var t=e.columns,a=e.data,c=Object(P.useTable)({columns:t,data:a}),n=c.getTableProps,r=c.getTableBodyProps,o=c.headerGroups,s=c.rows,l=c.prepareRow;return Object(u.jsxs)("table",Object(i.a)(Object(i.a)({},n()),{},{children:[Object(u.jsx)("thead",{children:o.map((function(e){return Object(u.jsx)("tr",Object(i.a)(Object(i.a)({},e.getHeaderGroupProps()),{},{children:e.headers.map((function(e){return Object(u.jsx)("th",Object(i.a)(Object(i.a)({},e.getHeaderProps()),{},{children:e.render("Header")}))}))}))}))}),Object(u.jsx)("tbody",Object(i.a)(Object(i.a)({},r()),{},{children:s.map((function(e,t){return l(e),Object(u.jsx)("tr",Object(i.a)(Object(i.a)({},e.getRowProps()),{},{children:e.cells.map((function(e){return Object(u.jsx)("td",Object(i.a)(Object(i.a)({},e.getCellProps()),{},{children:e.render("Cell")}))}))}))}))}))]}))}var G=a(229);var D=function(){var e=Object(c.useState)([]),t=Object(O.a)(e,2),a=t[0],r=t[1];Object(c.useEffect)((function(){o()}),[]);var o=function(){var e=Object(E.a)(S.a.mark((function e(){var t;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k.a.get(v+"admin").then((function(e){return console.log(e),e.data})).catch((function(e){return console.log(" request failed",e),e.error}));case 2:(t=e.sent).map((function(e){return e.actions="",e})),r(t),console.log(t);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),s=n.a.useMemo((function(){return[{Header:"#SN",accessor:function(e){return e.email},Cell:function(e){return Object(u.jsx)("span",{children:e.row.index+1})}},{Header:"Name",accessor:"name"},{Header:"Email",accessor:"email"},{Header:"Phone",accessor:"phone"},{Header:"Address",accessor:"address"},{Header:"Image",accessor:"image",Cell:function(e){var t=e.value;return Object(u.jsx)(G.a,{alt:"Remy Sharp",src:I("product/"+t)})}},{Header:"Actions",accessor:function(e){return e.name},Cell:function(e){return Object(u.jsx)(l,{values:e})}}]}),[]),l=function(e){var t=e.values;return Object(u.jsxs)("div",{className:"btn-group rounded-0",children:[Object(u.jsx)("button",{onClick:function(){return j(t.data[t.row.index])},className:"rounded-0 btn btn-sm btn-outline-info",children:Object(u.jsx)("i",{className:"fa fa-pen"})}),Object(u.jsx)("button",{onClick:function(){return i(t.data[t.row.index])},className:"rounded-0 btn btn-sm btn-outline-danger",children:Object(u.jsx)("i",{className:"fa fa-trash"})})]})},i=function(e){var t;(t=e,k.a.delete(v+"admin/"+t._id).then((function(e){return console.log(e),e.data})).catch((function(e){return console.log("delete request failed",e),e.error}))).then((function(e){o()})).catch((function(e){console.log(e)}))},j=function(e){};return Object(u.jsxs)("div",{className:"container py-3 ",children:[Object(u.jsx)("h4",{children:"All Admins"}),Object(u.jsx)("div",{className:"rounded-0 alert alert-primary",children:a&&a.length>0&&Object(u.jsx)("div",{className:"card p-3",children:Object(u.jsx)(A,{columns:s,data:a})})})]})},H=a(31),U=a(227),q=a(122),R=a(124),V=a.n(R),M=a(74),F=a.n(M);var B=function(e){var t=Object(c.useState)(""),a=Object(O.a)(t,2),n=(a[0],a[1]),r=Object(c.useState)(""),o=Object(O.a)(r,2),s=o[0],l=o[1],i=Object(c.useState)(""),j=Object(O.a)(i,2),d=j[0],b=j[1],h=Object(c.useState)(!1),x=Object(O.a)(h,2),m=x[0],p=x[1];return Object(u.jsx)("div",{children:Object(u.jsx)(F.a,{active:m,text:"Uploading Image...",children:Object(u.jsxs)("div",{className:"previewComponent",children:[Object(u.jsx)(V.a,{}),Object(u.jsx)("small",{className:"text-danger",children:d}),Object(u.jsx)("input",{className:"fileInput",type:"file",onChange:function(t){return function(t){p(!0),t.preventDefault();var a=new FileReader,c=t.target.files[0];a.onloadend=function(){n(c)},a.readAsDataURL(c);var r=new FormData;r.append("media",c),k.a.post(v+"media/product",r,{headers:{"Content-Type":"multipart/form-data"}}).then((function(t){console.log(t.data),l(I("product/"+t.data._id+"?placeholder=true")),e.imageUploaded(t.data._id),p(!1)})).catch((function(e){p(!1),b("provided image format invalid,please upload another image"),console.log(e)}))}(t)}}),Object(u.jsx)("div",{className:"imgPreview",children:s&&Object(u.jsx)("img",{style:{height:"70px"},src:s})})]})})})};var J=function(){var e=Object(c.useState)({email:"",password:"",image:[],phone:"",address:"",error:"",loading:!1,redirectNow:!1}),t=Object(O.a)(e,2),a=t[0],n=t[1];Object(c.useEffect)((function(){n(Object(i.a)(Object(i.a)({},a),{},{error:"",success:!1}))}),[]),a.email,a.password,a.phone,a.address;var r=a.error,o=(a.loading,a.redirectNow,a.image,function(e){return function(t){var c=t.target.value;n(Object(i.a)(Object(i.a)({},a),{},Object(H.a)({},e,c)))}});return Object(u.jsx)("div",{className:"row",style:{width:"100%"},children:Object(u.jsxs)("div",{className:"col-lg-10 offset-lg-1 p-3",children:[Object(u.jsx)("h4",{children:"Add Admin"}),Object(u.jsx)("div",{className:"alert alert-primary",children:Object(u.jsxs)(U.a,{children:[Object(u.jsx)("small",{className:"text-danger",children:r}),Object(u.jsxs)(U.a.Group,{children:[Object(u.jsx)(U.a.Label,{children:"Name "}),Object(u.jsx)(U.a.Control,{onChange:o("name"),type:"text",placeholder:"Enter name"}),Object(u.jsx)(U.a.Text,{className:"text-muted"})]}),Object(u.jsxs)(U.a.Group,{children:[Object(u.jsx)(U.a.Label,{children:"Email address"}),Object(u.jsx)(U.a.Control,{onChange:o("email"),type:"email",placeholder:"Enter email"}),Object(u.jsx)(U.a.Text,{className:"text-muted"})]}),Object(u.jsxs)(U.a.Group,{children:[Object(u.jsx)(U.a.Label,{children:"Phone Number "}),Object(u.jsx)(U.a.Control,{onChange:o("phone"),type:"number",placeholder:"Enter phone"}),Object(u.jsx)(U.a.Text,{className:"text-muted"})]}),Object(u.jsxs)(U.a.Group,{children:[Object(u.jsx)(U.a.Label,{children:"Address"}),Object(u.jsx)(U.a.Control,{onChange:o("address"),type:"text",placeholder:"Enter Address"}),Object(u.jsx)(U.a.Text,{className:"text-muted"})]}),Object(u.jsxs)(U.a.Group,{children:[Object(u.jsx)(U.a.Label,{children:"Profile Image"}),Object(u.jsx)(B,{imageUploaded:function(e){console.log(e),n(Object(i.a)(Object(i.a)({},a),{},{image:e}))}})]}),Object(u.jsxs)(U.a.Group,{children:[Object(u.jsx)(U.a.Label,{children:"Password"}),Object(u.jsx)(U.a.Control,{type:"password",onChange:o("password"),placeholder:"Password"})]}),Object(u.jsx)(q.a,{variant:"primary",onClick:function(e){var t;e.preventDefault(),n(Object(i.a)(Object(i.a)({},a),{},{error:!1,loading:!0})),console.log(a),(t=a,k.a.post(v+"admin",t).then((function(e){return console.log(e),e.data})).catch((function(e){return console.log("Login request failed",e),e.error}))).then((function(e){e.error?n(Object(i.a)(Object(i.a)({},a),{},{error:e.error})):(n({name:"",description:"",price:"",photo:"",stock:"",loading:!1}),window.location.reload(!0))})).catch((function(e){console.log(e)}))},children:"Submit"})]})})]})})};var X=function(){var e=Object(l.i)();return Object(u.jsx)("div",{children:Object(u.jsxs)(C,{children:["     ",Object(u.jsxs)(l.d,{children:[Object(u.jsx)(l.b,{path:"".concat(e.path,"/all"),component:D}),Object(u.jsx)(l.b,{path:"".concat(e.path,"/create"),component:J}),Object(u.jsx)(l.b,{path:"/",component:function(){return Object(u.jsx)("h1",{children:"Admin Index Page"})}})]})]})})};var z=function(){var e=Object(l.g)(),t=Object(d.b)(),a=Object(c.useState)({email:"",password:"",error:"",loading:!1,redirectNow:!1}),n=Object(O.a)(a,2),r=n[0],o=n[1],s=Object(c.useState)(!1),j=Object(O.a)(s,2);j[0],j[1],Object(c.useEffect)((function(){o(Object(i.a)(Object(i.a)({},r),{},{error:"",success:!1}))}),[]);var b=r.email,h=r.password,x=r.error,m=r.loading,p=r.redirectNow,f=(N().user,function(e){return function(t){o(Object(i.a)(Object(i.a)({},r),{},Object(H.a)({error:!1},e,t.target.value)))}});return Object(u.jsx)("div",{children:Object(u.jsxs)(F.a,{active:m,spinner:!0,text:"please wait for a while ...",children:[N()&&Object(u.jsx)(l.a,{to:"/"}),!N()&&Object(u.jsx)("div",{id:"layoutAuthentication",children:Object(u.jsx)("div",{id:"layoutAuthentication_content",children:Object(u.jsx)("main",{children:Object(u.jsx)("div",{className:"container",children:Object(u.jsx)("div",{className:"row justify-content-center",children:Object(u.jsx)("div",{className:"col-lg-5",children:Object(u.jsxs)("div",{className:"card shadow-lg border-0 rounded-lg mt-5",children:[Object(u.jsxs)("div",{className:"card-header card-sign-header",children:[Object(u.jsx)("h3",{className:"text-center font-weight-light my-4",children:"Subidhaonline "}),Object(u.jsx)("hr",{}),Object(u.jsx)("h4",{className:"text-center font-weight-light my-4",children:"Admin Login"})]}),Object(u.jsx)("div",{className:"card-body",children:Object(u.jsxs)("form",{children:[Object(u.jsx)("small",{className:"text-danger",children:x}),Object(u.jsxs)("div",{className:"form-group",children:[Object(u.jsx)("label",{className:"form-label",children:"Email*"}),Object(u.jsx)("input",{className:"form-control py-3",id:"inputEmailAddress",type:"email",onChange:f("email"),value:b,placeholder:"Enter email address"})]}),Object(u.jsxs)("div",{className:"form-group",children:[Object(u.jsx)("label",{className:"form-label",children:"Password*"}),Object(u.jsx)("input",{className:"form-control py-3",id:"inputPassword",type:"password",onChange:f("password"),value:h,placeholder:"Enter password"})]}),Object(u.jsx)("div",{className:"form-group d-flex align-items-center justify-content-between mt-4 mb-0",children:Object(u.jsx)("a",{className:"btn btn-sign hover-btn",onClick:function(a){a.preventDefault(),o(Object(i.a)(Object(i.a)({},r),{},{error:!1,loading:!0})),function(e){return fetch("".concat(v,"auth/admin/login"),{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(e)}).then((function(e){return e.json()})).catch((function(e){return console.log(e)}))}({email:b,password:h}).then((function(a){if(a.error)o(Object(i.a)(Object(i.a)({},r),{},{error:a.error,loading:!1}));else try{t(function(e){localStorage.setItem("token",e.token),localStorage.setItem("access_level",e.access_level),localStorage.setItem("user",{name:e.user.name,email:e.user.email});var t=!(!e.token||!e.user);return localStorage.setItem("loggedIn",t),e.loggedIn=t,{type:"auth/Login",payload:e}}(a)),o(Object(i.a)(Object(i.a)({},r),{},{error:!1,loading:!1})),e.push("/")}catch(x){o(Object(i.a)(Object(i.a)({},r),{},{error:"Invalid Credentials",loading:!1}))}})).catch((function(e){o(Object(i.a)(Object(i.a)({},r),{},{error:"Invalid Credentials",loading:!1})),console.log("Login request failed",e)}))},children:"Login"})})]})})]})})})})})})}),p&&Object(u.jsx)(l.a,{to:"/"})]})})};var K=function(){var e=Object(c.useState)({eng_name:"",nep_name:"",image:null,description:"",short_name:"",error:"",loading:!1,redirectNow:!1}),t=Object(O.a)(e,2),a=t[0],n=t[1];Object(c.useEffect)((function(){n(Object(i.a)(Object(i.a)({},a),{},{error:"",success:!1}))}),[]),a.eng_name,a.nep_name,a.description,a.short_name;var r=a.error,o=(a.loading,a.redirectNow,a.image,function(e){return function(t){var c=t.target.value;n(Object(i.a)(Object(i.a)({},a),{},Object(H.a)({},e,c)))}});return Object(u.jsx)(C,{children:Object(u.jsx)("div",{className:"row",style:{width:"100%"},children:Object(u.jsxs)("div",{className:"col-lg-10 offset-lg-1 p-3",children:[Object(u.jsx)("h4",{children:"Add Category"}),Object(u.jsx)("div",{className:"alert alert-primary",children:Object(u.jsxs)(U.a,{children:[Object(u.jsxs)(U.a.Group,{children:[Object(u.jsx)(U.a.Label,{children:"English Name "}),Object(u.jsx)(U.a.Control,{onChange:o("eng_name"),type:"text",placeholder:"Enter English name"}),Object(u.jsx)(U.a.Text,{className:"text-muted"})]}),Object(u.jsxs)(U.a.Group,{children:[Object(u.jsx)(U.a.Label,{children:"Nepali Name "}),Object(u.jsx)(U.a.Control,{onChange:o("nep_name"),type:"text",placeholder:"Enter Nepali name"}),Object(u.jsx)(U.a.Text,{className:"text-muted"})]}),Object(u.jsxs)(U.a.Group,{children:[Object(u.jsx)(U.a.Label,{children:"Short Name"}),Object(u.jsx)(U.a.Control,{onChange:o("short_name"),type:"text",placeholder:"Enter short name"}),Object(u.jsx)(U.a.Text,{className:"text-muted"})]}),Object(u.jsxs)(U.a.Group,{children:[Object(u.jsx)(U.a.Label,{children:"Description  "}),Object(u.jsx)(U.a.Control,{as:"textarea",onChange:o("description"),rows:3}),Object(u.jsx)(U.a.Text,{className:"text-muted"})]}),Object(u.jsxs)(U.a.Group,{children:[Object(u.jsx)(U.a.Label,{children:"Category Image"}),Object(u.jsx)(B,{imageUploaded:function(e){console.log(e),n(Object(i.a)(Object(i.a)({},a),{},{image:e}))}})]}),Object(u.jsx)("small",{className:"text-danger",children:r}),"  ",Object(u.jsx)("br",{}),Object(u.jsx)(q.a,{variant:"primary",onClick:function(e){var t;e.preventDefault(),n(Object(i.a)(Object(i.a)({},a),{},{error:!1,loading:!0})),console.log(a),(t=a,k.a.post(v+"category",t).then((function(e){return console.log(e),e.data})).catch((function(e){return console.log("request failed",e.response.data),e.response.data}))).then((function(e){e.error?n(Object(i.a)(Object(i.a)({},a),{},{error:e.error})):n({eng_name:"",nep_name:"",description:"",short_name:"",image:"",loading:!1})})).catch((function(e){console.log(e)}))},children:"Submit"})]})})]})})})};var Y=function(){Object(l.g)();var e=Object(c.useState)([]),t=Object(O.a)(e,2),a=t[0],r=t[1];Object(c.useEffect)((function(){o()}),[]);var o=function(){var e=Object(E.a)(S.a.mark((function e(){return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:T().then((function(e){r(e)}));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),s=n.a.useMemo((function(){return[{Header:"#SN",accessor:function(e){return e.email},Cell:function(e){return Object(u.jsx)("span",{children:e.row.index+1})}},{Header:"Category ID",accessor:"_id"},{Header:"Eng Name",accessor:"eng_name"},{Header:"Nep Name",accessor:"nep_name"},{Header:"Image",accessor:"image",Cell:function(e){var t=e.value;return Object(u.jsx)(G.a,{alt:"Remy Sharp",src:I("product/"+t)})}},{Header:"Actions",accessor:function(e){return e.name},Cell:function(e){return Object(u.jsx)(i,{values:e})}}]}),[]),i=function(e){var t=e.values;return Object(u.jsxs)("div",{className:"btn-group rounded-0",children:[Object(u.jsx)("button",{onClick:function(){return d(t.data[t.row.index])},className:"rounded-0 btn btn-sm btn-outline-info",children:Object(u.jsx)("i",{className:"fa fa-pen"})}),Object(u.jsx)("button",{onClick:function(){return j(t.data[t.row.index])},className:"rounded-0 btn btn-sm btn-outline-danger",children:Object(u.jsx)("i",{className:"fa fa-trash"})})]})},j=function(e){var t;(t=e,k.a.delete(v+"category/"+t._id).then((function(e){return e.json()})).catch((function(e){return console.log(e)}))).then((function(e){o()})).catch((function(e){console.log(e)}))},d=function(e){};return Object(u.jsx)(C,{children:Object(u.jsxs)("div",{className:"container py-3 ",children:[Object(u.jsx)("h4",{children:"All Categories"}),Object(u.jsx)("div",{className:"rounded-0 alert alert-primary",children:Object(u.jsx)("div",{className:"card p-3",children:a&&a.length>0&&Object(u.jsx)(A,{columns:s,data:a})})})]})})},W=a(53),Q=a(77),Z=a(78),$=a.n(Z),ee=a(54);var te=function(){var e=Object(c.useState)({eng_name:"",nep_name:"",tags:[],description:"",short_description:"",product_details:"",product_source:"",price:null,discount:null,product_source_type:"",category:{},stock:null,images:[""],error:"",loading:!1,redirectNow:!1}),t=Object(O.a)(e,2),a=t[0],n=t[1],r=Object(c.useState)([]),o=Object(O.a)(r,2),s=o[0],l=o[1];Object(c.useEffect)((function(){n(Object(i.a)(Object(i.a)({},a),{},{error:"",success:!1})),T().then((function(e){var t=e.map((function(e){return{label:e.eng_name,value:e}}));l(t)}))}),[]);var j=function(e,t){var c=x;c[t]=e,n(Object(i.a)(Object(i.a)({},a),{},{images:Object(W.a)(c)})),console.log(x)},d=(a.name,a.description),b=a.product_source_type,h=(a.category,a.price,a.discount,a.short_description,a.product_details,a.product_source,a.stock,a.error),x=(a.loading,a.redirectNow,a.images),m=function(e){return function(t){var c=t.target.value;n(Object(i.a)(Object(i.a)({},a),{},Object(H.a)({},e,c)))}};return Object(u.jsx)(C,{children:Object(u.jsx)("div",{className:"row",style:{width:"100%"},children:Object(u.jsxs)("div",{className:"col-lg-10 offset-lg-1 p-3",children:[Object(u.jsx)("h4",{children:"Add Product"}),Object(u.jsx)("div",{className:"alert alert-primary",children:Object(u.jsxs)(U.a,{children:[Object(u.jsxs)(U.a.Group,{children:[Object(u.jsx)(U.a.Label,{children:"English Name "}),Object(u.jsx)(U.a.Control,{onChange:m("eng_name"),type:"text",placeholder:"Enter English name"}),Object(u.jsx)(U.a.Text,{className:"text-muted"})]}),Object(u.jsxs)(U.a.Group,{children:[Object(u.jsx)(U.a.Label,{children:"Nepali Name "}),Object(u.jsx)(U.a.Control,{onChange:m("nep_name"),type:"text",placeholder:"Enter Nepali name"}),Object(u.jsx)(U.a.Text,{className:"text-muted"})]}),Object(u.jsxs)(U.a.Group,{children:[Object(u.jsx)(U.a.Label,{children:"Short Name"}),Object(u.jsx)(U.a.Control,{onChange:m("short_name"),type:"text",placeholder:"Enter short name"}),Object(u.jsx)(U.a.Text,{className:"text-muted"})]}),Object(u.jsxs)(U.a.Group,{children:[Object(u.jsx)(U.a.Label,{children:"Price"}),Object(u.jsx)(U.a.Control,{onChange:m("price"),type:"number",placeholder:"Enter Price (Nrs)"}),Object(u.jsx)(U.a.Text,{className:"text-muted"})]}),Object(u.jsxs)(U.a.Group,{children:[Object(u.jsx)(U.a.Label,{children:"Discount"}),Object(u.jsx)(U.a.Control,{onChange:m("discount"),type:"number",placeholder:"Enter Discount % "}),Object(u.jsx)(U.a.Text,{className:"text-muted"})]}),Object(u.jsxs)(U.a.Group,{children:[Object(u.jsx)(U.a.Label,{children:"Description  "}),Object(u.jsx)(Q.CKEditor,{editor:$.a,data:d,onChange:function(e,t){!function(e){n(Object(i.a)(Object(i.a)({},a),{},{description:e}))}(t.getData())}})]}),Object(u.jsxs)(U.a.Group,{children:[Object(u.jsx)(U.a.Label,{children:"Short Description  "}),Object(u.jsx)(U.a.Control,{as:"textarea",onChange:m("short_description"),rows:3}),Object(u.jsx)(U.a.Text,{className:"text-muted"})]}),Object(u.jsxs)(U.a.Group,{children:[Object(u.jsx)(U.a.Label,{children:"Product Source Type"}),Object(u.jsx)(ee.a,{className:"basic-single",classNamePrefix:"select",defaultValue:b,isSearchable:!0,name:"",onChange:function(e,t){return c=e,console.log(c),void n(Object(i.a)(Object(i.a)({},a),{},{product_source_type:c.value}));var c},options:[{label:"Subidha Store",value:"MYSTORE"},{label:"External Vendor/Shop",value:"SHOP"}]})]}),Object(u.jsxs)(U.a.Group,{children:[Object(u.jsx)(U.a.Label,{children:"Category"}),Object(u.jsx)(ee.a,{className:"basic-single",classNamePrefix:"select",defaultValue:s[0],isSearchable:!0,name:"",onChange:function(e){return t=e,console.log(t),void n(Object(i.a)(Object(i.a)({},a),{},{category:{name:t.value.eng_name,cat_id:t.value._id}}));var t},options:s})]}),Object(u.jsxs)(U.a.Group,{children:[Object(u.jsx)(U.a.Label,{children:"Product Main Image"}),Object(u.jsx)(B,{imageUploaded:function(e,t){return j(e,0)}})]}),Object(u.jsxs)(U.a.Group,{children:[Object(u.jsx)(U.a.Label,{children:"Other Images (optional)"}),Object(u.jsx)(B,{imageUploaded:function(e,t){return j(e,1)}}),Object(u.jsx)(B,{imageUploaded:function(e,t){return j(e,2)}}),Object(u.jsx)(B,{imageUploaded:function(e,t){return j(e,3)}}),Object(u.jsx)(B,{imageUploaded:function(e,t){return j(e,4)}})]}),Object(u.jsx)("small",{className:"text-danger",children:h}),"  ",Object(u.jsx)("br",{}),Object(u.jsx)(q.a,{variant:"primary",onClick:function(e){var t;e.preventDefault(),n(Object(i.a)(Object(i.a)({},a),{},{error:!1,loading:!0})),console.log(a),(t=a,k.a.post(v+"product",t).then((function(e){return console.log(e).data,e.data})).catch((function(e){return console.log("Production Creation Failed!",e.response.data),e.response.data}))).then((function(e){e.error?n(Object(i.a)(Object(i.a)({},a),{},{error:e.error})):(console.log(e),n({eng_name:"",nep_name:"",tags:[],product_no:"",description:"",short_name:"",short_description:"",category:{},image:"",loading:!1,product_source_type:""}))})).catch((function(e){console.log(e)}))},children:"Submit"})]})})]})})})};var ae=function(){Object(l.g)();var e=Object(c.useState)([]),t=Object(O.a)(e,2),a=t[0],r=t[1];Object(c.useEffect)((function(){o()}),[]);var o=function(){var e=Object(E.a)(S.a.mark((function e(){return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k.a.get("/product").then((function(e){return e.data})).catch((function(e){return console.log(e),e.response.data})).then((function(e){r(e)}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),s=n.a.useMemo((function(){return[{Header:"#SN",accessor:function(e){return e.name},Cell:function(e){return Object(u.jsx)("span",{children:e.row.index+1})}},{Header:"English Name",accessor:"eng_name"},{Header:"Nepali Name",accessor:"nep_name"},{Header:"Category",accessor:"category",Cell:function(e){return Object(u.jsx)("span",{children:e.value.name})}},{Header:"Image",accessor:"images",Cell:function(e){var t=e.value;return Object(u.jsx)(G.a,{alt:" ",src:I("product/"+t[0])})}},{Header:"Actions",accessor:function(e){return e.name},Cell:function(e){return Object(u.jsx)(i,{values:e})}}]}),[]),i=function(e){var t=e.values;return Object(u.jsxs)("div",{className:"btn-group rounded-0",children:[Object(u.jsx)("button",{onClick:function(e){return d(t.data[t.row.index])},className:"rounded-0 btn btn-sm btn-outline-info",children:Object(u.jsx)("i",{className:"fa fa-pen"})}),Object(u.jsx)("button",{onClick:function(e){return j(t.data[t.row.index])},className:"rounded-0 btn btn-sm btn-outline-danger",children:Object(u.jsx)("i",{className:"fa fa-trash"})})]})},j=function(e){var t;(t=e,k.a.delete(v+"product/"+t._id).then((function(e){return console.log(e),e.data})).catch((function(e){return console.log("delete request failed",e),e.error}))).then((function(e){o()})).catch((function(e){console.log(e)}))},d=function(e){};return Object(u.jsx)(C,{children:Object(u.jsxs)("div",{className:"container py-3",children:[Object(u.jsx)("h4",{children:"All Products"}),Object(u.jsx)("div",{className:"alert alert-primary rounded-0",children:a&&a.length>0&&Object(u.jsx)("div",{className:"card p-3",children:Object(u.jsx)(A,{columns:s,data:a})})})]})})};var ce=function(){var e=Object(l.h)().id,t=Object(c.useState)(null),a=Object(O.a)(t,2),n=a[0],r=a[1],o=Object(c.useState)({eng_name:"",nep_name:"",tags:[],description:"",short_description:"",product_details:"",product_source:"",price:null,discount:null,product_source_type:"",category:{},stock:null,images:[""],short_name:"",error:"",loading:!1,redirectNow:!1}),s=Object(O.a)(o,2),j=s[0],d=s[1],b=Object(c.useState)([]),h=Object(O.a)(b,2),x=h[0],m=h[1];Object(c.useEffect)((function(){d(Object(i.a)(Object(i.a)({},j),{},{error:"",success:!1})),T().then((function(t){var a=t.map((function(e){return{label:e.eng_name,value:e}}));m(a),function(e){return k.a.get(v+"product/edit/"+e).then((function(e){return console.log(e),e.data})).catch((function(e){return console.log("product to edit notfound",e),e.response.data}))}(e).then((function(e){console.log(e),r(e),d(Object(i.a)(Object(i.a)({},j),e));var t=x.filter((function(t){return t.label==e.category.name}))[0];d(Object(i.a)(Object(i.a)({},j),{},{category:t})),console.log(t),console.log(j)})).catch((function(e){console.log(e)}))}))}),[]);var p=function(e,t){var a=P;a[t]=e,d(Object(i.a)(Object(i.a)({},j),{},{images:Object(W.a)(a)})),console.log(P)},f=j.eng_name,g=j.nep_name,N=j.description,y=j.product_source_type,_=j.category,w=j.price,S=j.discount,E=j.short_description,L=(j.product_details,j.product_source,j.stock,j.error),I=(j.loading,j.redirectNow,j.short_name),P=j.images,A=function(e){return function(t){var a=t.target.value;d(Object(i.a)(Object(i.a)({},j),{},Object(H.a)({},e,a)))}};return Object(u.jsx)(C,{children:n&&Object(u.jsx)("div",{className:"row",style:{width:"100%"},children:Object(u.jsxs)("div",{className:"col-lg-10 offset-lg-1 p-3",children:[Object(u.jsx)("h4",{children:"Edit Product"}),Object(u.jsx)("div",{className:"alert alert-primary",children:Object(u.jsxs)(U.a,{children:[Object(u.jsxs)(U.a.Group,{children:[Object(u.jsx)(U.a.Label,{children:"English Name "}),Object(u.jsx)(U.a.Control,{onChange:A("eng_name"),type:"text",value:f,placeholder:"Enter English name"}),Object(u.jsx)(U.a.Text,{className:"text-muted"})]}),Object(u.jsxs)(U.a.Group,{children:[Object(u.jsx)(U.a.Label,{children:"Nepali Name "}),Object(u.jsx)(U.a.Control,{onChange:A("nep_name"),type:"text",value:g,placeholder:"Enter Nepali name"}),Object(u.jsx)(U.a.Text,{className:"text-muted"})]}),Object(u.jsxs)(U.a.Group,{children:[Object(u.jsx)(U.a.Label,{children:"Short Name"}),Object(u.jsx)(U.a.Control,{value:I,onChange:A("short_name"),type:"text",placeholder:"Enter short name"}),Object(u.jsx)(U.a.Text,{className:"text-muted"})]}),Object(u.jsxs)(U.a.Group,{children:[Object(u.jsx)(U.a.Label,{children:"Price"}),Object(u.jsx)(U.a.Control,{onChange:A("price"),type:"number",value:w,placeholder:"Enter Price (Nrs)"}),Object(u.jsx)(U.a.Text,{className:"text-muted"})]}),Object(u.jsxs)(U.a.Group,{children:[Object(u.jsx)(U.a.Label,{children:"Discount"}),Object(u.jsx)(U.a.Control,{onChange:A("discount"),type:"number",value:S,placeholder:"Enter Discount % "}),Object(u.jsx)(U.a.Text,{className:"text-muted"})]}),Object(u.jsxs)(U.a.Group,{children:[Object(u.jsx)(U.a.Label,{children:"Description "}),Object(u.jsx)(Q.CKEditor,{editor:$.a,data:N,value:N,onChange:function(e,t){!function(e){d(Object(i.a)(Object(i.a)({},j),{},{description:e}))}(t.getData())}})]}),Object(u.jsxs)(U.a.Group,{children:[Object(u.jsx)(U.a.Label,{children:"Short Description "}),Object(u.jsx)(U.a.Control,{as:"textarea",value:E,onChange:A("short_description"),rows:3}),Object(u.jsx)(U.a.Text,{className:"text-muted"})]}),Object(u.jsxs)(U.a.Group,{children:[Object(u.jsx)(U.a.Label,{children:"Product Source Type"}),Object(u.jsx)(ee.a,{className:"basic-single",classNamePrefix:"select",defaultValue:y,isSearchable:!0,name:"",onChange:function(e,t){return a=e,console.log(a),void d(Object(i.a)(Object(i.a)({},j),{},{product_source_type:a.value}));var a},options:[{label:"Subidha Store",value:"MYSTORE"},{label:"External Vendor/Shop",value:"SHOP"}]})]}),Object(u.jsxs)(U.a.Group,{children:[Object(u.jsx)(U.a.Label,{children:"Category"}),Object(u.jsx)(ee.a,{className:"basic-single",classNamePrefix:"select",defaultValue:_,isSearchable:!0,name:"",onChange:function(e){return t=e,console.log(t),void d(Object(i.a)(Object(i.a)({},j),{},{category:{name:t.value.eng_name,cat_id:t.value._id}}));var t},options:x})]}),Object(u.jsxs)(U.a.Group,{children:[Object(u.jsx)(U.a.Label,{children:"Product Main Image"}),Object(u.jsx)(B,{imageUploaded:function(e,t){return p(e,0)}})]}),Object(u.jsxs)(U.a.Group,{children:[Object(u.jsx)(U.a.Label,{children:"Other Images (optional)"}),Object(u.jsx)(B,{imageUploaded:function(e,t){return p(e,1)}}),Object(u.jsx)(B,{imageUploaded:function(e,t){return p(e,2)}}),Object(u.jsx)(B,{imageUploaded:function(e,t){return p(e,3)}}),Object(u.jsx)(B,{imageUploaded:function(e,t){return p(e,4)}})]}),Object(u.jsx)("small",{className:"text-danger",children:L})," ",Object(u.jsx)("br",{}),Object(u.jsx)(q.a,{variant:"primary",onClick:function(t){t.preventDefault(),d(Object(i.a)(Object(i.a)({},j),{},{error:!1,loading:!0})),console.log(j),function(e,t){return k.a.put(v+"product/"+t,e).then((function(e){return console.log(e).data,e.data})).catch((function(e){return console.log("Production Creation Failed!",e.response.data),e.response.data}))}(j,e).then((function(e){e.error?d(Object(i.a)(Object(i.a)({},j),{},{error:e.error})):(console.log(e),d({eng_name:"",nep_name:"",tags:[],product_no:"",description:"",short_name:"",short_description:"",category:{},image:"",loading:!1,product_source_type:""}))})).catch((function(e){console.log(e)}))},children:"Submit"})]})})]})})})},ne=function(e){var t=e.match,a=Object(c.useState)(""),n=Object(O.a)(a,2),r=(n[0],n[1]),o=Object(c.useState)(""),s=Object(O.a)(o,2),l=s[0],j=s[1];Object(c.useEffect)((function(){d(t.params.id)}),[]);var d=function(e){(function(e){return k.a.get("".concat(v,"category/single/")+e).then((function(e){return e.data})).catch((function(e){return console.log(e)}))})(e).then((function(e){r(e),j(e)})).catch((function(e){console.log(e),setError(e)}))};return Object(u.jsx)(C,{title:"update category",description:"",children:Object(u.jsxs)("form",{children:[Object(u.jsx)("div",{className:"form-group",children:Object(u.jsx)("input",{type:"text",onChange:function(e){j(Object(i.a)(Object(i.a)({},l),{},{name:e.target.value}))},name:"name",className:"form-control",placeholder:"Name",value:name})}),Object(u.jsx)("button",{type:"submit",onClick:function(e){e.preventDefault(),setError(""),setSuccess(!1),function(e,t,a,c){return fetch("".concat(v,"category/").concat(e,"/").concat(t),{method:"PUT",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer ".concat(a)},body:JSON.stringify(c)}).then((function(e){return e.json()})).catch((function(e){return console.log(e)}))}(t.params.categoryId,user._id,token,{name:name}).then((function(e){e.error?setError(!0):(setError(""),setSuccess(!0),setName(""),setCreatedCategory(e.name))}))},className:"btn btn-outline-success mb-3",children:"Update Category"})]})})},re=function(){return Object(u.jsx)(s.a,{children:Object(u.jsxs)(l.d,{children:[Object(u.jsx)(b,{path:"/",exact:!0,component:_}),Object(u.jsx)(b,{path:"/admins",component:X}),Object(u.jsx)(b,{exact:!0,path:"/category/create",component:K})," ",Object(u.jsx)(b,{exact:!0,path:"/category/all",component:Y}),Object(u.jsx)(b,{exact:!0,path:"/product/create",component:te}),Object(u.jsx)(b,{path:"/product/edit/:id",component:ce}),Object(u.jsx)(b,{path:"/category/edit/:id",component:ne}),Object(u.jsx)(b,{exact:!0,path:"/product/all",component:ae}),Object(u.jsx)(l.b,{exact:!0,path:"/login",component:z})]})})},oe=a(125),se=a(41),le={name:"",email:""},ie=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:le,t=arguments.length>1?arguments[1]:void 0;switch(t.Type){case"user/AddUser":return Object(i.a)(Object(i.a)({},e),{},{user:t.payload});default:return e}},je=[],de=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:je,t=arguments.length>1?arguments[1]:void 0;switch(t.Type){case"cart/AddToCart":return Object(i.a)(Object(i.a)({},e),{},{cart:[].concat(Object(W.a)(e.cart),[t.payload])});default:return e}},ue={token:{token:null,expiry:null},user:{},access_level:null,loggedIn:!1},be=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ue,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"auth/Login":var a=t.payload,c=a.token,n=a.user,r=a.access_level,o=a.loggedIn;return Object(i.a)(Object(i.a)({},e),{},{token:c,user:n,access_level:r,loggedIn:o});case"auth/Logout":return ue;default:return e}},Oe=Object(se.a)({user:ie,cart:de,auth:be}),he=a(92),xe=a(126),me={key:"root",storage:a.n(xe).a},pe=Object(he.a)(me,Oe),fe=Object(se.b)(pe,window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__()),ge=Object(he.b)(fe);a(201),a(202),a(203),a(204),a(205);k.a.interceptors.request.use(function(){var e=Object(E.a)(S.a.mark((function e(t){var a;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=fe.getState().auth.token.token,t.baseURL="/",a&&(t.headers.Authorization=a),e.abrupt("return",t);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),(function(e){return console.log(e),Promise.reject(e)})),o.a.render(Object(u.jsx)(d.a,{store:fe,children:Object(u.jsx)(oe.a,{loading:null,persistor:ge,children:Object(u.jsx)(re,{})})}),document.getElementById("root"))}},[[206,1,2]]]);
//# sourceMappingURL=main.0591fe2b.chunk.js.map