(this.webpackJsonpadmin=this.webpackJsonpadmin||[]).push([[0],{169:function(e,t,c){},196:function(e,t,c){},212:function(e,t,c){},213:function(e,t,c){},214:function(e,t,c){},215:function(e,t,c){},216:function(e,t,c){"use strict";c.r(t);var a=c(1),n=c.n(a),r=c(25),s=c.n(r),o=c(16),i=c(23),l=c(5),d=c(134),j=c(34),u=c(0),b=function(e){var t=e.component,c=Object(d.a)(e,["component"]),a=Object(j.c)((function(e){return e.auth.token})),n=Object(j.c)((function(e){return e.auth.loggedIn})),r=a&&null!==a.token&&n;return console.log(a,n),Object(u.jsx)(i.b,Object(l.a)(Object(l.a)({},c),{},{render:function(e){return r?Object(u.jsx)(t,Object(l.a)({},e)):Object(u.jsx)(i.a,{to:{pathname:"/login",state:{from:e.location}}})}}))},O=c(7),h="http://subidhaonline.com/api/",f=c(17),x=c.n(f),m=c(236),p=c(238),g=c(235);var v=function(e){var t=e.sidebarToggleFunction,c=Object(j.b)(),a=Object(j.c)((function(e){return e.auth.user}));return Object(u.jsx)("div",{children:Object(u.jsxs)(m.a,{bg:"light",expand:"lg",fixed:"top",children:[Object(u.jsx)(m.a.Brand,{href:"/",children:"Subidhaonline"}),Object(u.jsx)(m.a.Toggle,{"aria-controls":"basic-navbar-nav"}),Object(u.jsxs)(m.a.Collapse,{id:"basic-navbar-nav",children:[Object(u.jsxs)(p.a,{className:"mr-auto",children:[Object(u.jsx)(p.a.Link,{onClick:t,children:Object(u.jsx)("i",{className:"fa fa-bars"})}),Object(u.jsx)(p.a.Link,{href:"/",children:"Home"}),Object(u.jsx)(g.a,{title:a.name?a.name:"User",id:"basic-nav-dropdown",children:Object(u.jsx)(g.a.Item,{onClick:function(){c({type:"auth/Logout"})},children:"LogOut"})})]}),Object(u.jsx)(p.a,{className:"ml-auto",children:Object(u.jsxs)(p.a.Link,{href:"http://subidhaonline.com",children:["Visit Site ",Object(u.jsx)("i",{className:"fa fa-globe"})," "]})})]})]})})};var N=function(){return Object(u.jsxs)("div",{children:[Object(u.jsx)("div",{className:"container-fluid text-center  bg-light",children:Object(u.jsx)("small",{children:"Developed by Asoft Nepal"})}),"        "]})},y=c(15),C=(c(164),c(217),c(169),c(9)),_=c.n(C);var w=function(e){return Object(u.jsx)("div",{style:{minHeight:"600px"},className:"sb-sidenav accordion sb-sidenav-dark",children:Object(u.jsx)(y.c,{className:"sb-sidenav-menu",collapsed:e.collapsed,children:Object(u.jsxs)(y.d,{children:[" ",Object(u.jsx)(y.a,{iconShape:"square",children:Object(u.jsxs)(y.b,{icon:Object(u.jsx)("i",{className:"fa fa-tachometer"}),children:["Dashboard ",Object(u.jsx)(o.b,{to:"/"})]})}),Object(u.jsxs)(y.a,{iconShape:"square",children:[Object(u.jsx)(y.a,{iconShape:"square",children:Object(u.jsx)(y.e,{title:"Orders",icon:Object(u.jsx)("i",{className:"fa fa-file-invoice"}),children:Object(u.jsxs)(y.b,{children:["All Orders ",Object(u.jsx)(o.b,{to:"/orders/all"})]})})}),Object(u.jsx)(y.a,{iconShape:"square",children:Object(u.jsxs)(y.e,{title:"Product",icon:Object(u.jsx)("i",{className:"fa fa-envelope"}),children:[Object(u.jsxs)(y.b,{children:["Create products ",Object(u.jsx)(o.b,{to:"/product/create"})]}),Object(u.jsxs)(y.b,{children:["All products ",Object(u.jsx)(o.b,{to:"/product/all"})]})]})}),Object(u.jsx)(y.a,{iconShape:"square",children:Object(u.jsxs)(y.e,{title:"Offers",icon:Object(u.jsx)("i",{className:"fa fa-gift"}),children:[Object(u.jsxs)(y.b,{children:["Create Offers ",Object(u.jsx)(o.b,{to:"/offers/create"})]}),Object(u.jsxs)(y.b,{children:["All Offers ",Object(u.jsx)(o.b,{to:"/offers/all"})]})]})}),Object(u.jsx)(y.a,{iconShape:"square",children:Object(u.jsxs)(y.e,{title:"Category",icon:Object(u.jsx)("i",{className:"fa fa-list"}),children:[Object(u.jsxs)(y.b,{children:["Create Category ",Object(u.jsx)(o.b,{to:"/category/create"})]}),Object(u.jsxs)(y.b,{children:["All Category ",Object(u.jsx)(o.b,{to:"/category/all"})]})]})}),Object(u.jsx)(y.e,{title:"Users",icon:Object(u.jsx)("i",{className:"fa fa-user"}),children:Object(u.jsxs)(y.b,{children:["All Users ",Object(u.jsx)(o.b,{to:"/users/all"})]})}),Object(u.jsxs)(y.e,{title:"Admins",icon:Object(u.jsx)("i",{className:"fa fa-users"}),children:[Object(u.jsxs)(y.b,{children:["Create Admin ",Object(u.jsx)(o.b,{to:"/admins/create"})]}),Object(u.jsxs)(y.b,{children:["All Admins ",Object(u.jsx)(o.b,{to:"/admins/all"})]})]})]}),Object(u.jsx)(y.a,{iconShape:"square",children:Object(u.jsxs)(y.e,{title:"Extras",icon:Object(u.jsx)("i",{className:"fa fa-circle"}),children:[Object(u.jsxs)(y.b,{children:["Contact Us",Object(u.jsx)(o.b,{to:"/contactus"})]}),Object(u.jsxs)(y.b,{children:["About Us ",Object(u.jsx)(o.b,{to:"/aboutus"})]}),Object(u.jsxs)(y.b,{children:["Privacy Policy ",Object(u.jsx)(o.b,{to:"/privacypolicy"})]}),Object(u.jsxs)(y.b,{children:["Terms & Conditions ",Object(u.jsx)(o.b,{to:"/terms"})]}),Object(u.jsxs)(y.b,{children:["Refund & Return Policy ",Object(u.jsx)(o.b,{to:"/refundpolicy"})]})]})}),Object(u.jsx)(y.a,{iconShape:"square",children:Object(u.jsxs)(y.b,{icon:Object(u.jsx)("i",{className:"fa fa-envelope"}),children:["Contact Messages ",Object(u.jsx)(o.b,{to:"/contactmessage"})]})}),Object(u.jsx)(y.a,{iconShape:"square",children:Object(u.jsxs)(y.b,{icon:Object(u.jsx)("i",{className:"fa fa-question-circle"}),children:["FAQ ",Object(u.jsx)(o.b,{to:"/faq"})]})}),Object(u.jsx)(y.a,{iconShape:"square",children:Object(u.jsxs)(y.b,{icon:Object(u.jsx)("i",{className:"fa fa-newspaper"}),children:["Newsletter Mails ",Object(u.jsx)(o.b,{to:"/newsletter"})]})}),Object(u.jsx)(y.a,{iconShape:"square",children:Object(u.jsx)(y.b,{icon:Object(u.jsx)("i",{className:"fa fa-bars"}),onClick:function(){return _.a.fire("Coming soon")},children:"More"})})]})})})};var S=function(e){var t=e.children,c=Object(a.useState)(!1),n=Object(O.a)(c,2),r=n[0],s=n[1];return Object(u.jsxs)("div",{children:[Object(u.jsx)(v,{sidebarToggleFunction:function(){s(!r)}}),Object(u.jsxs)("div",{className:"d-flex",style:{marginTop:"60px"},children:[Object(u.jsx)(w,{collapsed:r}),t]}),Object(u.jsx)(N,{})]})};var E=function(){Object(j.c)((function(e){return e.auth.user}));var e=Object(a.useState)(!1),t=Object(O.a)(e,2),c=(t[0],t[1],Object(a.useState)(null)),n=Object(O.a)(c,2),r=n[0],s=n[1];return Object(i.g)(),Object(a.useEffect)((function(){x.a.get(h+"admin/dashboard").then((function(e){s(e.data)})).catch((function(e){console.log(e)}))}),[]),Object(u.jsx)("div",{children:Object(u.jsx)(S,{children:Object(u.jsx)("div",{className:"container-fluid",children:Object(u.jsx)("div",{id:"layoutSidenav_content",children:Object(u.jsx)("main",{children:Object(u.jsxs)("div",{className:"container-fluid",children:[Object(u.jsx)("h2",{className:"mt-30 page-title",children:"Subidhaonline Dashboard"}),Object(u.jsx)("ol",{className:"breadcrumb mb-30",children:Object(u.jsx)("li",{className:"breadcrumb-item active",children:"Dashboard"})}),r&&Object(u.jsxs)("div",{className:"row",children:[Object(u.jsx)("div",{className:"col-xl-3 col-md-6",children:Object(u.jsxs)("div",{className:"dashboard-report-card purple",children:[Object(u.jsxs)("div",{className:"card-content",children:[Object(u.jsx)("span",{className:"card-title",children:"New Orders"}),Object(u.jsx)("span",{className:"card-count",children:r.new})]}),Object(u.jsx)("div",{className:"card-media",children:Object(u.jsx)("i",{className:"fab fa-rev"})})]})}),Object(u.jsx)("div",{className:"col-xl-3 col-md-6",children:Object(u.jsxs)("div",{className:"dashboard-report-card red",children:[Object(u.jsxs)("div",{className:"card-content",children:[Object(u.jsx)("span",{className:"card-title",children:"Packing Orders"}),Object(u.jsx)("span",{className:"card-count",children:r.packing})]}),Object(u.jsx)("div",{className:"card-media",children:Object(u.jsx)("i",{className:"far fa-times-circle"})})]})}),Object(u.jsx)("div",{className:"col-xl-3 col-md-6",children:Object(u.jsxs)("div",{className:"dashboard-report-card info",children:[Object(u.jsxs)("div",{className:"card-content",children:[Object(u.jsx)("span",{className:"card-title",children:"Shipping Orders"}),Object(u.jsx)("span",{className:"card-count",children:r.shipping})]}),Object(u.jsx)("div",{className:"card-media",children:Object(u.jsx)("i",{className:"fas fa-sync-alt rpt_icon"})})]})}),Object(u.jsx)("div",{className:"col-xl-3 col-md-6",children:Object(u.jsxs)("div",{className:"dashboard-report-card success",children:[Object(u.jsxs)("div",{className:"card-content",children:[Object(u.jsx)("span",{className:"card-title",children:"Today's Order Value"}),Object(u.jsxs)("span",{className:"card-count",children:["Rs ",r.income]})]}),Object(u.jsx)("div",{className:"card-media",children:Object(u.jsx)("i",{className:"fas fa-money-bill rpt_icon"})})]})}),Object(u.jsx)("div",{className:"col-xl-12 col-md-12",children:Object(u.jsx)("div",{className:"card card-static-1 mb-30",children:Object(u.jsx)("div",{className:"card-body",children:Object(u.jsx)("div",{id:"earningGraph"})})})}),Object(u.jsx)("div",{className:"col-xl-12 col-md-12",children:Object(u.jsx)("div",{className:"card card-static-2 mb-30",children:Object(u.jsxs)("div",{className:"card-title-2",children:[Object(u.jsx)("h4",{children:"Recent Orders"}),Object(u.jsx)(o.b,{to:"/orders/all",className:"view-btn hover-btn",children:"View All"})]})})})]})]})})})})})})},k=c(14),T=c.n(k),P=c(21),D=function(e){return"".concat(h,"media/").concat(e)},L=function(e){return x.a.get(h+"product/edit/"+e).then((function(e){return console.log(e),e.data})).catch((function(e){return e.response?{error_message:e.response.data.error_message}:e}))},A=function(e,t){return x.a.put(h+"product",{query:{_id:e._id},update:t}).then((function(e){return e.data})).catch((function(e){return e.response?{error_message:e.response.data.error_message}:e}))},H=function(e,t){return x.a.put(h+"product/"+t,e).then((function(e){return console.log(e).data,e.data})).catch((function(e){return e.response?{error_message:e.response.data.error_message}:e}))},G=function(e,t){return x.a.put(h+"category",{query:{_id:e._id},update:t}).then((function(e){return e.data})).catch((function(e){return e.response?{error_message:e.response.data.error_message}:e}))},I=function(){return x.a.get("".concat(h,"category")).then((function(e){return e.data})).catch((function(e){return console.log(e)}))},U=c(130);function B(e){var t=e.columns,c=e.data,a=Object(U.useTable)({columns:t,data:c}),n=a.getTableProps,r=a.getTableBodyProps,s=a.headerGroups,o=a.rows,i=a.prepareRow;return Object(u.jsxs)("table",Object(l.a)(Object(l.a)({},n()),{},{className:"table ucp-table table-hover",children:[Object(u.jsx)("thead",{children:s.map((function(e){return Object(u.jsx)("tr",Object(l.a)(Object(l.a)({},e.getHeaderGroupProps()),{},{children:e.headers.map((function(e){return Object(u.jsx)("th",Object(l.a)(Object(l.a)({},e.getHeaderProps()),{},{children:e.render("Header")}))}))}))}))}),Object(u.jsx)("tbody",Object(l.a)(Object(l.a)({},r()),{},{children:o.map((function(e,t){return i(e),Object(u.jsx)("tr",Object(l.a)(Object(l.a)({},e.getRowProps()),{},{children:e.cells.map((function(e){return Object(u.jsx)("td",Object(l.a)(Object(l.a)({},e.getCellProps()),{},{children:e.render("Cell")}))}))}))}))}))]}))}var M=c(239);var R=function(){var e=Object(a.useState)([]),t=Object(O.a)(e,2),c=t[0],r=t[1];Object(a.useEffect)((function(){s()}),[]);var s=function(){var e=Object(P.a)(T.a.mark((function e(){var t;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x.a.get(h+"admin").then((function(e){return console.log(e),e.data})).catch((function(e){return e.response?{error_message:e.response.data.error_message}:e}));case 2:(t=e.sent).map((function(e){return e.actions="",e})),r(t),console.log(t);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),o=n.a.useMemo((function(){return[{Header:"#SN",accessor:function(e){return e.email},Cell:function(e){return Object(u.jsx)("span",{children:e.row.index+1})}},{Header:"Name",accessor:"name"},{Header:"Email",accessor:"email"},{Header:"Phone",accessor:"phone"},{Header:"Address",accessor:"address"},{Header:"Image",accessor:"image",Cell:function(e){var t=e.value;return Object(u.jsx)(M.a,{alt:"Remy Sharp",src:D("product/"+t)})}},{Header:"Actions",accessor:function(e){return e.name},Cell:function(e){return Object(u.jsx)(i,{values:e})}}]}),[]),i=function(e){var t=e.values;return Object(u.jsxs)("div",{className:"btn-group rounded-0",children:[Object(u.jsx)("button",{onClick:function(){return d(t.data[t.row.index])},className:"rounded-0 btn btn-sm btn-outline-info",children:Object(u.jsx)("i",{className:"fa fa-pen"})}),Object(u.jsx)("button",{onClick:function(){return l(t.data[t.row.index])},className:"rounded-0 btn btn-sm btn-outline-danger",children:Object(u.jsx)("i",{className:"fa fa-trash"})})]})},l=function(e){_.a.fire({title:"Do you want to remove this admin ?",showCancelButton:!0,confirmButtonText:"yes delete",icon:"error"}).then((function(t){var c;t.isConfirmed?(c=e,x.a.delete(h+"admin/"+c._id).then((function(e){return console.log(e),e.data})).catch((function(e){return e.response?{error_message:e.response.data.error_message}:e}))).then((function(e){s(),_.a.fire("Admin Deleted !")})).catch((function(e){console.log(e)})):_.a.fire("Deletion cancelled!")}))},d=function(e){_.a.fire({title:"Sorry This feature is under maintainance",icon:"info"})};return Object(u.jsxs)("div",{className:"container py-3 ",children:[Object(u.jsx)("h4",{children:"All Admins"}),Object(u.jsx)("div",{className:"rounded-0 alert alert-primary",children:c&&c.length>0&&Object(u.jsx)("div",{className:"card p-3",children:Object(u.jsx)(B,{columns:o,data:c})})})]})},q=c(31),V=c(237),K=c(129),F=c(131),X=c.n(F),Y=c(80),J=c.n(Y);var z=function(e){var t=Object(a.useState)(""),c=Object(O.a)(t,2),n=(c[0],c[1]),r=Object(a.useState)(""),s=Object(O.a)(r,2),o=s[0],i=s[1],l=Object(a.useState)(""),d=Object(O.a)(l,2),j=d[0],b=d[1],f=Object(a.useState)(!1),m=Object(O.a)(f,2),p=m[0],g=m[1];return Object(u.jsx)("div",{children:Object(u.jsx)(J.a,{active:p,text:"Uploading Image...",children:Object(u.jsxs)("div",{className:"previewComponent",children:[Object(u.jsx)(X.a,{}),Object(u.jsx)("small",{className:"text-danger",children:j}),Object(u.jsx)("input",{className:"fileInput",type:"file",onChange:function(t){return function(t){g(!0),t.preventDefault();var c=new FileReader,a=t.target.files[0];if(a){c.onloadend=function(){n(a)},c.readAsDataURL(a);var r=new FormData;r.append("media",a),x.a.post(h+"media/product",r,{headers:{"Content-Type":"multipart/form-data"}}).then((function(t){console.log(t.data),i(D("product/"+t.data._id+"?placeholder=true")),e.imageUploaded(t.data._id),g(!1)})).catch((function(e){g(!1),b("provided image format invalid,please upload another image"),console.log(e)}))}else g(!1)}(t)}}),Object(u.jsx)("div",{className:"imgPreview",children:o&&Object(u.jsx)("img",{style:{height:"70px"},src:o})})]})})})};var Q=function(){var e=Object(a.useState)({email:"",password:"",image:[],phone:"",address:"",error:"",loading:!1,redirectNow:!1}),t=Object(O.a)(e,2),c=t[0],n=t[1];Object(a.useEffect)((function(){n(Object(l.a)(Object(l.a)({},c),{},{error:"",success:!1}))}),[]),c.email,c.password,c.phone,c.address;var r=c.error,s=(c.loading,c.redirectNow,c.image,function(e){return function(t){var a=t.target.value;n(Object(l.a)(Object(l.a)({},c),{},Object(q.a)({},e,a)))}});return Object(u.jsx)("div",{className:"row",style:{width:"100%"},children:Object(u.jsxs)("div",{className:"col-lg-10 offset-lg-1 p-3",children:[Object(u.jsx)("h4",{children:"Add Admin"}),Object(u.jsx)("div",{className:"alert alert-primary",children:Object(u.jsxs)(V.a,{children:[Object(u.jsx)("small",{className:"text-danger",children:r}),Object(u.jsxs)(V.a.Group,{children:[Object(u.jsx)(V.a.Label,{children:"Name "}),Object(u.jsx)(V.a.Control,{onChange:s("name"),type:"text",placeholder:"Enter name"}),Object(u.jsx)(V.a.Text,{className:"text-muted"})]}),Object(u.jsxs)(V.a.Group,{children:[Object(u.jsx)(V.a.Label,{children:"Email address"}),Object(u.jsx)(V.a.Control,{onChange:s("email"),type:"email",placeholder:"Enter email"}),Object(u.jsx)(V.a.Text,{className:"text-muted"})]}),Object(u.jsxs)(V.a.Group,{children:[Object(u.jsx)(V.a.Label,{children:"Phone Number "}),Object(u.jsx)(V.a.Control,{onChange:s("phone"),type:"number",placeholder:"Enter phone"}),Object(u.jsx)(V.a.Text,{className:"text-muted"})]}),Object(u.jsxs)(V.a.Group,{children:[Object(u.jsx)(V.a.Label,{children:"Address"}),Object(u.jsx)(V.a.Control,{onChange:s("address"),type:"text",placeholder:"Enter Address"}),Object(u.jsx)(V.a.Text,{className:"text-muted"})]}),Object(u.jsxs)(V.a.Group,{children:[Object(u.jsx)(V.a.Label,{children:"Profile Image"}),Object(u.jsx)(z,{imageUploaded:function(e){console.log(e),n(Object(l.a)(Object(l.a)({},c),{},{image:e}))}})]}),Object(u.jsxs)(V.a.Group,{children:[Object(u.jsx)(V.a.Label,{children:"Password"}),Object(u.jsx)(V.a.Control,{type:"password",onChange:s("password"),placeholder:"Password"})]}),Object(u.jsx)(K.a,{variant:"primary",onClick:function(e){var t;e.preventDefault(),n(Object(l.a)(Object(l.a)({},c),{},{error:!1,loading:!0})),console.log(c),(t=c,x.a.post(h+"admin",t).then((function(e){return console.log(e.data),e.data.error_message?(console.log(e.data.error_message),{error_message:e.data.error_message}):e.data})).catch((function(e){if(e.response)return{error_message:e.response.data.error_message};console.log(e)}))).then((function(e){e.error_message?(_.a.fire({title:e.error_message,icon:"error"}),n(Object(l.a)(Object(l.a)({},c),{},{error:e.error}))):(n({name:"",description:"",price:"",photo:"",stock:"",loading:!1}),_.a.fire({title:"Admin Added",icon:"success"}),window.location.reload(!0))})).catch((function(e){console.log(e),_.a.fire({title:"Something wrong occured",icon:"error"})}))},children:"Submit"})]})})]})})};var W=function(){var e=Object(i.i)();return Object(u.jsx)("div",{children:Object(u.jsxs)(S,{children:["     ",Object(u.jsxs)(i.d,{children:[Object(u.jsx)(i.b,{path:"".concat(e.path,"/all"),component:R}),Object(u.jsx)(i.b,{path:"".concat(e.path,"/create"),component:Q}),Object(u.jsx)(i.b,{path:"/",component:function(){return Object(u.jsx)("h1",{children:"Admin Index Page"})}})]})]})})};var Z=function(){var e=Object(a.useState)(!1),t=Object(O.a)(e,2),c=t[0],n=(t[1],Object(j.c)((function(e){return e.auth.token})),Object(j.c)((function(e){return e.auth.loggedIn})),Object(i.g)()),r=Object(j.b)(),s=Object(a.useState)({email:"",password:"",error:"",loading:!1,redirectNow:!1}),o=Object(O.a)(s,2),d=o[0],b=o[1],f=Object(a.useState)(!1),x=Object(O.a)(f,2);x[0],x[1],Object(a.useEffect)((function(){b(Object(l.a)(Object(l.a)({},d),{},{error:"",success:!1}))}),[]);var m=d.email,p=d.password,g=d.error,v=d.loading,N=d.redirectNow,y=function(e){return function(t){b(Object(l.a)(Object(l.a)({},d),{},Object(q.a)({error:!1},e,t.target.value)))}},C=function(e){e.preventDefault(),b(Object(l.a)(Object(l.a)({},d),{},{error:!1,loading:!0})),function(e){return fetch("".concat(h,"auth/admin/login"),{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(e)}).then((function(e){return e.json()})).catch((function(e){return console.log(e)}))}({email:m,password:p}).then((function(e){if(e.error)b(Object(l.a)(Object(l.a)({},d),{},{error:e.error,loading:!1}));else try{r(function(e){localStorage.setItem("token",e.token),localStorage.setItem("access_level",e.access_level),localStorage.setItem("user",{name:e.user.name,email:e.user.email});var t=!(!e.token||!e.user);return localStorage.setItem("loggedIn",t),e.loggedIn=t,{type:"auth/Login",payload:e}}(e)),b(Object(l.a)(Object(l.a)({},d),{},{error:!1,loading:!1})),n.push("/")}catch(g){b(Object(l.a)(Object(l.a)({},d),{},{error:"Invalid Credentials",loading:!1}))}})).catch((function(e){b(Object(l.a)(Object(l.a)({},d),{},{error:"Invalid Credentials",loading:!1})),console.log("Login request failed",e)}))};return Object(u.jsx)("div",{children:Object(u.jsxs)(J.a,{active:v,spinner:!0,text:"please wait for a while ...",children:[c&&Object(u.jsx)(i.a,{to:"/"}),!c&&Object(u.jsx)("div",{id:"layoutAuthentication",children:Object(u.jsx)("div",{id:"layoutAuthentication_content",children:Object(u.jsx)("main",{children:Object(u.jsx)("div",{className:"container",children:Object(u.jsx)("div",{className:"row justify-content-center",children:Object(u.jsx)("div",{className:"col-lg-5",children:Object(u.jsxs)("div",{className:"card shadow-lg border-0 rounded-lg mt-5",children:[Object(u.jsxs)("div",{className:"card-header card-sign-header",children:[Object(u.jsxs)("h3",{className:"text-center font-weight-light my-4",children:["Subidhaonline"," "]}),Object(u.jsx)("hr",{}),Object(u.jsx)("h4",{className:"text-center font-weight-light my-4",children:"Admin Login"})]}),Object(u.jsx)("div",{className:"card-body",children:Object(u.jsxs)("form",{children:[Object(u.jsx)("small",{className:"text-danger",children:g}),Object(u.jsxs)("div",{className:"form-group",children:[Object(u.jsx)("label",{className:"form-label",children:"Email*"}),Object(u.jsx)("input",{className:"form-control py-3",id:"inputEmailAddress",type:"email",onChange:y("email"),value:m,placeholder:"Enter email address"})]}),Object(u.jsxs)("div",{className:"form-group",children:[Object(u.jsx)("label",{className:"form-label",children:"Password*"}),Object(u.jsx)("input",{className:"form-control py-3",id:"inputPassword",type:"password",onChange:y("password"),value:p,placeholder:"Enter password"})]}),Object(u.jsx)("div",{className:"form-group d-flex align-items-center justify-content-between mt-4 mb-0",children:Object(u.jsx)("a",{className:"btn btn-sign hover-btn",onClick:function(e){return C(e)},children:"Login"})})]})})]})})})})})})}),N&&Object(u.jsx)(i.a,{to:"/"})]})})};var $=function(){var e=Object(a.useState)({eng_name:"",nep_name:"",image:null,description:"",short_name:"",error:"",loading:!1,redirectNow:!1}),t=Object(O.a)(e,2),c=t[0],n=t[1];Object(a.useEffect)((function(){n(Object(l.a)(Object(l.a)({},c),{},{error:"",success:!1}))}),[]),c.eng_name,c.nep_name,c.description,c.short_name;var r=c.error,s=(c.loading,c.redirectNow,c.image,function(e){return function(t){var a=t.target.value;n(Object(l.a)(Object(l.a)({},c),{},Object(q.a)({},e,a)))}});return Object(u.jsx)(S,{children:Object(u.jsx)("div",{className:"row",style:{width:"100%"},children:Object(u.jsxs)("div",{className:"col-lg-10 offset-lg-1 p-3",children:[Object(u.jsx)("h4",{children:"Add Category"}),Object(u.jsx)("div",{className:"alert alert-primary",children:Object(u.jsxs)(V.a,{children:[Object(u.jsxs)(V.a.Group,{children:[Object(u.jsx)(V.a.Label,{children:"English Name "}),Object(u.jsx)(V.a.Control,{onChange:s("eng_name"),type:"text",placeholder:"Enter English name"}),Object(u.jsx)(V.a.Text,{className:"text-muted"})]}),Object(u.jsxs)(V.a.Group,{children:[Object(u.jsx)(V.a.Label,{children:"Nepali Name "}),Object(u.jsx)(V.a.Control,{onChange:s("nep_name"),type:"text",placeholder:"Enter Nepali name"}),Object(u.jsx)(V.a.Text,{className:"text-muted"})]}),Object(u.jsxs)(V.a.Group,{children:[Object(u.jsx)(V.a.Label,{children:"Short Name"}),Object(u.jsx)(V.a.Control,{onChange:s("short_name"),type:"text",placeholder:"Enter short name"}),Object(u.jsx)(V.a.Text,{className:"text-muted"})]}),Object(u.jsxs)(V.a.Group,{children:[Object(u.jsx)(V.a.Label,{children:"Description "}),Object(u.jsx)(V.a.Control,{as:"textarea",onChange:s("description"),rows:3}),Object(u.jsx)(V.a.Text,{className:"text-muted"})]}),Object(u.jsxs)(V.a.Group,{children:[Object(u.jsx)(V.a.Label,{children:"Category Image"}),Object(u.jsx)(z,{imageUploaded:function(e){console.log(e),n(Object(l.a)(Object(l.a)({},c),{},{image:e}))}})]}),Object(u.jsx)("small",{className:"text-danger",children:r})," ",Object(u.jsx)("br",{}),Object(u.jsx)(K.a,{variant:"primary",onClick:function(e){var t;e.preventDefault(),n(Object(l.a)(Object(l.a)({},c),{},{error:!1,loading:!0})),console.log(c),(t=c,x.a.post(h+"category",t).then((function(e){return console.log(e),e.data})).catch((function(e){return e.response?(console.log(e.response),{error_message:e.response.data.error_message}):e}))).then((function(e){console.log(e),e.error_message?(_.a.fire({title:e.error_message,icon:"error"}),n(Object(l.a)(Object(l.a)({},c),{},{error:e.error}))):(n({eng_name:"",nep_name:"",description:"",short_name:"",image:"",loading:!1}),_.a.fire({title:"Category Added",icon:"success"}),window.location.reload(!0))})).catch((function(e){console.log(e),_.a.fire({title:"Something wrong occured",icon:"error"})}))},children:"Submit"})]})})]})})})};var ee=function(){Object(i.g)();var e=Object(a.useState)([]),t=Object(O.a)(e,2),c=t[0],r=t[1];Object(a.useEffect)((function(){s()}),[]);var s=function(){var e=Object(P.a)(T.a.mark((function e(){return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:I().then((function(e){r(e)}));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),o=n.a.useMemo((function(){return[{Header:"ID",accessor:"_id"},{Header:"Image",accessor:"image",Cell:function(e){var t=e.value;return Object(u.jsx)(M.a,{variant:"rounded",alt:"Remy Sharp",src:D("product/"+t)})}},{Header:"Name",accessor:"eng_name"},{Header:"In Home",accessor:"inHome",Cell:function(e){return Object(u.jsx)("span",{children:Object(u.jsx)("a",{style:{cursor:"pointer"},className:"text-"+("true"==e.value?"success":"danger"),onClick:function(){return d(e.data[e.row.index])},children:e&&"true"==e.value?Object(u.jsx)("i",{className:"fa fa-check"}):Object(u.jsx)("i",{className:"fa fa-times"})})})}},{Header:"Actions",accessor:function(e){return e.name},Cell:function(e){return Object(u.jsx)(l,{values:e})}}]}),[]),l=function(e){var t=e.values;return Object(u.jsxs)("div",{className:"btn-group rounded-0",children:[Object(u.jsx)("button",{onClick:function(){return b(t.data[t.row.index])},className:"rounded-0 btn btn-sm btn-outline-info",children:Object(u.jsx)("i",{className:"fa fa-pen"})}),Object(u.jsx)("button",{onClick:function(){return j(t.data[t.row.index])},className:"rounded-0 btn btn-sm btn-outline-danger",children:Object(u.jsx)("i",{className:"fa fa-trash"})})]})},d=function(e){console.log(e),G({_id:e._id},{inHome:"true"!==e.inHome}).then((function(t){_.a.fire({title:"Products of this category will "+("true"===e.inHome?"not be visible in home":"be visible in home"),icon:"info"}),s()})).catch((function(e){console.log(e)}))},j=function(e){_.a.fire({title:"Do you want to remove this category ?",showCancelButton:!0,confirmButtonText:"yes delete",icon:"error"}).then((function(t){var c;t.isConfirmed?(c=e,x.a.delete(h+"category/"+c._id).then((function(e){return e.json()})).catch((function(e){return console.log(e)}))).then((function(e){s(),_.a.fire("Category Deleted !")})).catch((function(e){_.a.fire({title:"Some error occured !",icon:"error"}),console.log(e)})):_.a.fire("Deletion cancelled!")}))},b=function(e){_.a.fire({title:"Sorry This feature is under maintainance",icon:"info"})};return Object(u.jsx)(S,{children:Object(u.jsx)("div",{className:"container-fluid",children:Object(u.jsxs)("div",{className:"card",children:[Object(u.jsx)("div",{className:"card-header",children:Object(u.jsx)("h4",{children:"Categories"})}),Object(u.jsxs)("div",{className:"card-body",children:[c&&c.length>0&&Object(u.jsx)(B,{columns:o,data:c}),!c&&Object(u.jsx)("p",{children:"No categories found please create category"})]})]})})})},te=c(33),ce=c(26),ae=c(27),ne=c.n(ae),re=c(40);c(196);var se=function(e){var t=e.values,c=Object(a.useState)(""),n=Object(O.a)(c,2),r=n[0],s=n[1],o=Object(a.useState)([]),i=Object(O.a)(o,2),l=i[0],d=i[1],j=Object(a.useState)(!1),b=Object(O.a)(j,2),h=b[0],f=b[1];return Object(u.jsx)("div",{children:Object(u.jsxs)("div",{className:"d-flex alert alert-info",children:[Object(u.jsx)("div",{className:"container-fluid",children:Object(u.jsx)("input",{className:"taginput form-control",value:r,placeholder:"Enter tags ",onKeyDown:function(e){var c=e.key,a=e.code,n=r.trim();if(","!==c&&"Enter"!==c&&"Space"!==a||!n.length||l.includes(n)||(e.preventDefault(),d((function(e){return[].concat(Object(te.a)(e),[n])})),t([].concat(Object(te.a)(l),[n])),s("")),"Backspace"===c&&!r.length&&l.length&&h){var o=Object(te.a)(l),i=o.pop();e.preventDefault(),d(o),t(o),s(i)}f(!1)},onKeyUp:function(){f(!0)},onChange:function(e){var t=e.target.value;s(t)}})}),Object(u.jsx)("div",{className:"container-fluid",children:l.map((function(e,c){return Object(u.jsxs)("div",{className:"badge badge-success m-3",children:[e,Object(u.jsx)("span",{className:"badge badge-danger badge-sm ",onClick:function(){return function(e){d((function(t){return t.filter((function(t,c){return c!==e}))})),t(l.filter((function(t,c){return c!==e})))}(c)},children:Object(u.jsx)("i",{className:"fa fa-times"})})]},c)}))})]})})};var oe=function(){var e=Object(a.useState)({eng_name:"",nep_name:"",tags:[],description:"",short_description:"",product_details:"",product_source:"",price:null,discount:null,product_source_type:"",category:{},stock:null,images:[""],error:"",loading:!1,redirectNow:!1}),t=Object(O.a)(e,2),c=t[0],n=t[1],r=Object(a.useState)([]),s=Object(O.a)(r,2),o=(s[0],s[1],Object(a.useState)([])),i=Object(O.a)(o,2),d=i[0],j=i[1];Object(a.useEffect)((function(){n(Object(l.a)(Object(l.a)({},c),{},{error:"",success:!1})),I().then((function(e){var t=e.map((function(e){return{label:e.eng_name,value:e}}));j(t)}))}),[]);var b=function(e,t){var a=v;a[t]=e,n(Object(l.a)(Object(l.a)({},c),{},{images:Object(te.a)(a)})),console.log(v)},f=(c.name,c.description),m=c.product_source_type,p=(c.category,c.price,c.discount,c.short_description,c.tags),g=(c.product_details,c.product_source,c.stock,c.error),v=(c.loading,c.redirectNow,c.images),N=function(e){return function(t){var a=t.target.value;n(Object(l.a)(Object(l.a)({},c),{},Object(q.a)({},e,a)))}};function y(e){console.log(e),n(Object(l.a)(Object(l.a)({},c),{},{tags:e}))}return Object(u.jsx)(S,{children:Object(u.jsx)("div",{className:"row",style:{width:"100%"},children:Object(u.jsxs)("div",{className:"col-lg-10 offset-lg-1 p-3",children:[Object(u.jsx)("h4",{children:"Add Product"}),Object(u.jsx)("div",{className:"alert alert-primary",children:Object(u.jsxs)(V.a,{children:[Object(u.jsxs)(V.a.Group,{children:[Object(u.jsx)(V.a.Label,{children:"English Name "}),Object(u.jsx)(V.a.Control,{onChange:N("eng_name"),type:"text",placeholder:"Enter English name"}),Object(u.jsx)(V.a.Text,{className:"text-muted"})]}),Object(u.jsxs)(V.a.Group,{children:[Object(u.jsx)(V.a.Label,{children:"Nepali Name "}),Object(u.jsx)(V.a.Control,{onChange:N("nep_name"),type:"text",placeholder:"Enter Nepali name"}),Object(u.jsx)(V.a.Text,{className:"text-muted"})]}),Object(u.jsxs)(V.a.Group,{children:[Object(u.jsx)(V.a.Label,{children:"Price"}),Object(u.jsx)(V.a.Control,{onChange:N("price"),type:"number",placeholder:"Enter Price (Nrs)"}),Object(u.jsx)(V.a.Text,{className:"text-muted"})]}),Object(u.jsxs)(V.a.Group,{children:[Object(u.jsx)(V.a.Label,{children:"Discount"}),Object(u.jsx)(V.a.Control,{onChange:N("discount"),type:"number",placeholder:"Enter Discount % "}),Object(u.jsx)(V.a.Text,{className:"text-muted"})]}),Object(u.jsxs)(V.a.Group,{children:[Object(u.jsx)(V.a.Label,{children:"Stock"}),Object(u.jsx)(V.a.Control,{onChange:N("stock"),type:"number",placeholder:"Current Stock "}),Object(u.jsx)(V.a.Text,{className:"text-muted"})]}),Object(u.jsxs)(V.a.Group,{children:[Object(u.jsx)(V.a.Label,{children:"Description "}),Object(u.jsx)(ce.CKEditor,{editor:ne.a,data:f,onChange:function(e,t){!function(e){n(Object(l.a)(Object(l.a)({},c),{},{description:e}))}(t.getData())}})]}),Object(u.jsxs)(V.a.Group,{children:[Object(u.jsx)(V.a.Label,{children:"Short Description "}),Object(u.jsx)(V.a.Control,{as:"textarea",onChange:N("short_description"),rows:3}),Object(u.jsx)(V.a.Text,{className:"text-muted"})]}),Object(u.jsxs)(V.a.Group,{children:[Object(u.jsx)(V.a.Label,{children:"Product Tags "}),Object(u.jsx)(se,{values:function(e){return y(e)}})]}),Object(u.jsxs)(V.a.Group,{children:[Object(u.jsx)(V.a.Label,{children:"Product Source Type"}),Object(u.jsx)(re.a,{className:"basic-single",classNamePrefix:"select",defaultValue:m,isSearchable:!0,name:"",onChange:function(e,t){return a=e,console.log(a),void n(Object(l.a)(Object(l.a)({},c),{},{product_source_type:a.value}));var a},options:[{label:"Subidha Store",value:"MYSTORE"},{label:"External Vendor/Shop",value:"SHOP"}]})]}),Object(u.jsxs)(V.a.Group,{children:[Object(u.jsx)(V.a.Label,{children:"Category"}),Object(u.jsx)(re.a,{className:"basic-single",classNamePrefix:"select",defaultValue:d[0],isSearchable:!0,name:"",onChange:function(e){return t=e,console.log(t),void n(Object(l.a)(Object(l.a)({},c),{},{category:{name:t.value.eng_name,cat_id:t.value._id}}));var t},options:d})]}),Object(u.jsxs)(V.a.Group,{children:[Object(u.jsx)(V.a.Label,{children:"Product Main Image"}),Object(u.jsx)(z,{imageUploaded:function(e,t){return b(e,0)}})]}),Object(u.jsxs)(V.a.Group,{children:[Object(u.jsx)(V.a.Label,{children:"Other Images (optional)"}),Object(u.jsx)(z,{imageUploaded:function(e,t){return b(e,1)}}),Object(u.jsx)(z,{imageUploaded:function(e,t){return b(e,2)}}),Object(u.jsx)(z,{imageUploaded:function(e,t){return b(e,3)}}),Object(u.jsx)(z,{imageUploaded:function(e,t){return b(e,4)}})]}),Object(u.jsx)("small",{className:"text-danger",children:g})," ",Object(u.jsx)("br",{}),Object(u.jsx)(K.a,{variant:"primary",onClick:function(e){var t;e.preventDefault(),n(Object(l.a)(Object(l.a)({},c),{},{error:!1,loading:!0})),console.log(c),p&&0!=p.length&&""!=p[0]?""!=v[0]&&v[0]?(t=c,x.a.post(h+"product",t).then((function(e){return e.data})).catch((function(e){return e.response?{error_message:e.response.data.error_message}:e}))).then((function(e){e.error_message?(_.a.fire({title:e.error_message,icon:"error"}),n(Object(l.a)(Object(l.a)({},c),{},{error:e.error}))):(console.log(e),n({eng_name:"",nep_name:"",tags:[],product_no:"",description:"",short_name:"",short_description:"",category:{},image:"",stock:null,loading:!1,product_source_type:""}),_.a.fire({title:"product added",icon:"success"}),window.location.reload(!0))})).catch((function(e){console.log(e),_.a.fire({title:"Something wrong occured",icon:"error"})})):_.a.fire({title:"main image missing",icon:"error"}):_.a.fire({title:"Product tags empty",icon:"error"})},children:"Submit"})]})})]})})})},ie=(c(97),c(61)),le=c.n(ie);var de=function(){Object(i.g)();var e=Object(a.useState)([]),t=Object(O.a)(e,2),c=t[0],r=t[1];Object(a.useEffect)((function(){s()}),[]);var s=function(){var e=Object(P.a)(T.a.mark((function e(){return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x.a.get("".concat(h,"product")).then((function(e){return e.data})).catch((function(e){return e.response?{error_message:e.response.data.error_message}:e})).then((function(e){r(e)}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),o=n.a.useMemo((function(){return[{Header:"ID",accessor:function(e){return e.productId},Cell:function(e){return Object(u.jsx)("span",{children:e.value})}},{Header:"Image",accessor:"images",Cell:function(e){var t=e.value;return Object(u.jsx)(M.a,{alt:" ",variant:"rounded",src:D("product/"+t[0])})}},{Header:"Name",accessor:"eng_name",Cell:function(e){var t=e.value;return Object(u.jsx)("span",{title:t,children:t.length>20?t.slice(0,18)+"..":t})}},{Header:"Category",accessor:"category",Cell:function(e){var t=e.value;return t=t.name,Object(u.jsx)("span",{title:t,children:t.length>15?t.slice(0,13)+"..":t})}},{Header:"Created",accessor:function(e){return e.createdAt},Cell:function(e){return Object(u.jsx)("span",{children:le()(e.value).fromNow()})}},{Header:"status",accessor:"status",Cell:function(e){return Object(u.jsx)("span",{children:Object(u.jsx)("a",{style:{cursor:"pointer"},className:"badge text-white badge-lg badge-"+(e&&"Active"==e.value?"success":"secondary"),onClick:function(){return d(e.data[e.row.index])},children:e.value})})}},{Header:"Featured",accessor:"featured",Cell:function(e){return Object(u.jsx)("span",{children:Object(u.jsx)("a",{style:{cursor:"pointer"},className:"text-"+(1==(e&&e.value)?"success":"danger"),onClick:function(){return l(e.data[e.row.index])},children:e&&e.value?Object(u.jsx)("i",{className:"fa fa-check"}):Object(u.jsx)("i",{className:"fa fa-times"})})})}},{Header:"Actions",accessor:function(e){return e.name},Cell:function(e){return Object(u.jsx)(j,{values:e})}}]}),[]),l=function(e){console.log(e);var t=!0!==e.featured;A({_id:e._id},{featured:t}).then((function(e){s(),_.a.fire("Product is now "+(t?"featured":"normal"))})).catch((function(e){console.log(e)}))},d=function(e){console.log(e);var t=e.status&&"Active"===e.status?"Inactive":"Active";A({_id:e._id},{status:t}).then((function(e){_.a.fire("Product is now "+t),s()})).catch((function(e){console.log(e)}))},j=function(e){var t=e.values;return Object(u.jsxs)("div",{className:"btn-group rounded-0",children:[Object(u.jsx)("button",{onClick:function(e){return f(t.data[t.row.index])},className:"rounded-0 btn btn-sm btn-outline-info",children:Object(u.jsx)("i",{className:"fa fa-pen"})}),Object(u.jsx)("button",{onClick:function(e){return b(t.data[t.row.index])},className:"rounded-0 btn btn-sm btn-outline-danger",children:Object(u.jsx)("i",{className:"fa fa-trash"})})]})},b=function(e){_.a.fire({title:"Do you want to delete this product ?",showCancelButton:!0,confirmButtonText:"yes delete"}).then((function(t){var c;t.isConfirmed?(c=e,x.a.delete(h+"product/"+c._id).then((function(e){return console.log(e),e.data})).catch((function(e){return e.response?{error_message:e.response.data.error_message}:e}))).then((function(e){s(),_.a.fire("Product Deleted")})).catch((function(e){console.log(e)})):_.a.fire("Deletion cancelled!")}))},f=function(e){_.a.fire({title:"Sorry This feature is under maintainance",icon:"info"})};return Object(u.jsx)(S,{children:Object(u.jsx)("div",{className:"container-fluid m-3",children:Object(u.jsxs)("div",{className:"card",children:[Object(u.jsx)("div",{className:"card-header",children:Object(u.jsx)("h4",{children:"Products"})}),c&&c.length>0&&Object(u.jsx)("div",{className:"card p-3",children:Object(u.jsx)(B,{columns:o,data:c})})]})})})};var je=function(){var e=Object(i.h)().id,t=Object(a.useState)(null),c=Object(O.a)(t,2),n=c[0],r=c[1],s=Object(a.useState)({eng_name:"",nep_name:"",tags:[],description:"",short_description:"",product_details:"",product_source:"",price:null,discount:null,product_source_type:"",category:{},stock:null,images:[""],short_name:"",error:"",loading:!1,redirectNow:!1}),o=Object(O.a)(s,2),d=o[0],j=o[1],b=Object(a.useState)([]),h=Object(O.a)(b,2),f=h[0],x=h[1];Object(a.useEffect)((function(){j(Object(l.a)(Object(l.a)({},d),{},{error:"",success:!1})),I().then((function(t){var c=t.map((function(e){return{label:e.eng_name,value:e}}));x(c),L(e).then((function(e){console.log(e),r(e),j(Object(l.a)(Object(l.a)({},d),e));var t=f.filter((function(t){return t.label==e.category.name}))[0];j(Object(l.a)(Object(l.a)({},d),{},{category:t})),console.log(t),console.log(d)})).catch((function(e){console.log(e)}))}))}),[]);var m=function(e,t){var c=T;c[t]=e,j(Object(l.a)(Object(l.a)({},d),{},{images:Object(te.a)(c)})),console.log(T)},p=d.eng_name,g=d.nep_name,v=d.description,N=d.product_source_type,y=d.category,C=d.price,_=d.discount,w=d.short_description,E=(d.product_details,d.product_source,d.stock,d.error),k=(d.loading,d.redirectNow,d.short_name),T=d.images,P=function(e){return function(t){var c=t.target.value;j(Object(l.a)(Object(l.a)({},d),{},Object(q.a)({},e,c)))}};return Object(u.jsx)(S,{children:n&&Object(u.jsx)("div",{className:"row",style:{width:"100%"},children:Object(u.jsxs)("div",{className:"col-lg-10 offset-lg-1 p-3",children:[Object(u.jsx)("h4",{children:"Edit Product"}),Object(u.jsx)("div",{className:"alert alert-primary",children:Object(u.jsxs)(V.a,{children:[Object(u.jsxs)(V.a.Group,{children:[Object(u.jsx)(V.a.Label,{children:"English Name "}),Object(u.jsx)(V.a.Control,{onChange:P("eng_name"),type:"text",value:p,placeholder:"Enter English name"}),Object(u.jsx)(V.a.Text,{className:"text-muted"})]}),Object(u.jsxs)(V.a.Group,{children:[Object(u.jsx)(V.a.Label,{children:"Nepali Name "}),Object(u.jsx)(V.a.Control,{onChange:P("nep_name"),type:"text",value:g,placeholder:"Enter Nepali name"}),Object(u.jsx)(V.a.Text,{className:"text-muted"})]}),Object(u.jsxs)(V.a.Group,{children:[Object(u.jsx)(V.a.Label,{children:"Short Name"}),Object(u.jsx)(V.a.Control,{value:k,onChange:P("short_name"),type:"text",placeholder:"Enter short name"}),Object(u.jsx)(V.a.Text,{className:"text-muted"})]}),Object(u.jsxs)(V.a.Group,{children:[Object(u.jsx)(V.a.Label,{children:"Price"}),Object(u.jsx)(V.a.Control,{onChange:P("price"),type:"number",value:C,placeholder:"Enter Price (Nrs)"}),Object(u.jsx)(V.a.Text,{className:"text-muted"})]}),Object(u.jsxs)(V.a.Group,{children:[Object(u.jsx)(V.a.Label,{children:"Discount"}),Object(u.jsx)(V.a.Control,{onChange:P("discount"),type:"number",value:_,placeholder:"Enter Discount % "}),Object(u.jsx)(V.a.Text,{className:"text-muted"})]}),Object(u.jsxs)(V.a.Group,{children:[Object(u.jsx)(V.a.Label,{children:"Description "}),Object(u.jsx)(ce.CKEditor,{editor:ne.a,data:v,value:v,onChange:function(e,t){!function(e){j(Object(l.a)(Object(l.a)({},d),{},{description:e}))}(t.getData())}})]}),Object(u.jsxs)(V.a.Group,{children:[Object(u.jsx)(V.a.Label,{children:"Short Description "}),Object(u.jsx)(V.a.Control,{as:"textarea",value:w,onChange:P("short_description"),rows:3}),Object(u.jsx)(V.a.Text,{className:"text-muted"})]}),Object(u.jsxs)(V.a.Group,{children:[Object(u.jsx)(V.a.Label,{children:"Product Source Type"}),Object(u.jsx)(re.a,{className:"basic-single",classNamePrefix:"select",defaultValue:N,isSearchable:!0,name:"",onChange:function(e,t){return c=e,console.log(c),void j(Object(l.a)(Object(l.a)({},d),{},{product_source_type:c.value}));var c},options:[{label:"Subidha Store",value:"MYSTORE"},{label:"External Vendor/Shop",value:"SHOP"}]})]}),Object(u.jsxs)(V.a.Group,{children:[Object(u.jsx)(V.a.Label,{children:"Category"}),Object(u.jsx)(re.a,{className:"basic-single",classNamePrefix:"select",defaultValue:y,isSearchable:!0,name:"",onChange:function(e){return t=e,console.log(t),void j(Object(l.a)(Object(l.a)({},d),{},{category:{name:t.value.eng_name,cat_id:t.value._id}}));var t},options:f})]}),Object(u.jsxs)(V.a.Group,{children:[Object(u.jsx)(V.a.Label,{children:"Product Main Image"}),Object(u.jsx)(z,{imageUploaded:function(e,t){return m(e,0)}})]}),Object(u.jsxs)(V.a.Group,{children:[Object(u.jsx)(V.a.Label,{children:"Other Images (optional)"}),Object(u.jsx)(z,{imageUploaded:function(e,t){return m(e,1)}}),Object(u.jsx)(z,{imageUploaded:function(e,t){return m(e,2)}}),Object(u.jsx)(z,{imageUploaded:function(e,t){return m(e,3)}}),Object(u.jsx)(z,{imageUploaded:function(e,t){return m(e,4)}})]}),Object(u.jsx)("small",{className:"text-danger",children:E})," ",Object(u.jsx)("br",{}),Object(u.jsx)(K.a,{variant:"primary",onClick:function(t){t.preventDefault(),j(Object(l.a)(Object(l.a)({},d),{},{error:!1,loading:!0})),console.log(d),H(d,e).then((function(e){e.error?j(Object(l.a)(Object(l.a)({},d),{},{error:e.error})):(console.log(e),j({eng_name:"",nep_name:"",tags:[],product_no:"",description:"",short_name:"",short_description:"",category:{},image:"",loading:!1,product_source_type:""}))})).catch((function(e){console.log(e)}))},children:"Submit"})]})})]})})})};var ue=function(){var e=Object(a.useState)([]),t=Object(O.a)(e,2),c=t[0],n=t[1],r=Object(a.useState)({offer_name:"",title:"",sub_title:"",tags:[],real_price:"",offer_price:"",discount:null,category:{},stock:null,description:"",images:[""],products:[],error:"",loading:!1}),s=Object(O.a)(r,2),o=s[0],i=s[1];Object(a.useEffect)((function(){i(Object(l.a)(Object(l.a)({},o),{},{error:"",success:!1})),I().then((function(e){var t=e.map((function(e){return{label:e.eng_name,value:e}}));n(t)}))}),[]),o.name,o.sub_title,o.products;var d=o.tags,j=o.images,b=(o.error,o.description),f=(o.loading,function(e){return function(t){var c=t.target.value;i(Object(l.a)(Object(l.a)({},o),{},Object(q.a)({},e,c)))}});function m(e){console.log(e),i(Object(l.a)(Object(l.a)({},o),{},{tags:e}))}return Object(u.jsx)(S,{children:Object(u.jsx)("div",{className:"row",style:{width:"100%"},children:Object(u.jsx)("div",{className:"col-lg-10 offset-lg-1 p-3",children:Object(u.jsxs)("div",{className:"card",children:[Object(u.jsx)("div",{className:"card-header",children:Object(u.jsx)("h4",{children:"Add Offer"})}),Object(u.jsx)("div",{className:"card-body",children:Object(u.jsxs)(V.a,{children:[Object(u.jsxs)(V.a.Group,{children:[Object(u.jsx)(V.a.Label,{children:"Offer Name "}),Object(u.jsx)(V.a.Control,{onChange:f("offer_name"),type:"text",placeholder:"Enter Offer Name"}),Object(u.jsx)(V.a.Text,{className:"text-muted"})]}),Object(u.jsxs)(V.a.Group,{children:[Object(u.jsx)(V.a.Label,{children:"Title "}),Object(u.jsx)(V.a.Control,{onChange:f("title"),type:"text",placeholder:"Enter Title"}),Object(u.jsx)(V.a.Text,{className:"text-muted"})]}),Object(u.jsxs)(V.a.Group,{children:[Object(u.jsx)(V.a.Label,{children:"Sub Title"}),Object(u.jsx)(V.a.Control,{placeholder:"Enter Title",onChange:f("sub_title")}),Object(u.jsx)(V.a.Text,{className:"text-muted"})]}),Object(u.jsxs)(V.a.Group,{children:[Object(u.jsx)(V.a.Label,{children:"Offer Tags "}),Object(u.jsx)(se,{values:function(e){return m(e)}})]}),Object(u.jsxs)(V.a.Group,{children:[Object(u.jsx)(V.a.Label,{children:"Real Price"}),Object(u.jsx)(V.a.Control,{onChange:f("real_price"),type:"number",placeholder:"Enter Real Price (Nrs)"}),Object(u.jsx)(V.a.Text,{className:"text-muted"})]}),Object(u.jsxs)(V.a.Group,{children:[Object(u.jsx)(V.a.Label,{children:"Offer Price"}),Object(u.jsx)(V.a.Control,{onChange:f("offer_price"),type:"number",placeholder:"Enter Offer Price (Nrs)"}),Object(u.jsx)(V.a.Text,{className:"text-muted"})]}),Object(u.jsxs)(V.a.Group,{children:[Object(u.jsx)(V.a.Label,{children:"Discount % (Only for show)"}),Object(u.jsx)(V.a.Control,{onChange:f("discount"),type:"number",placeholder:"Enter Offer Price (Nrs)"}),Object(u.jsx)(V.a.Text,{className:"text-muted"})]}),Object(u.jsxs)(V.a.Group,{children:[Object(u.jsx)(V.a.Label,{children:"Category"}),Object(u.jsx)(re.a,{className:"basic-single",classNamePrefix:"select",defaultValue:c[0],isSearchable:!0,name:"",onChange:function(e){return t=e,console.log(t),void i(Object(l.a)(Object(l.a)({},o),{},{category:{name:t.value.eng_name,cat_id:t.value._id}}));var t},options:c})]}),Object(u.jsxs)(V.a.Group,{children:[Object(u.jsx)(V.a.Label,{children:"Stock"}),Object(u.jsx)(V.a.Control,{onChange:f("stock"),type:"number",placeholder:"Current Stock "}),Object(u.jsx)(V.a.Text,{className:"text-muted"})]}),Object(u.jsxs)(V.a.Group,{children:[Object(u.jsx)(V.a.Label,{children:"Description [This is how your main offer page looks like]"}),Object(u.jsx)(ce.CKEditor,{editor:ne.a,data:b,onChange:function(e,t){!function(e){i(Object(l.a)(Object(l.a)({},o),{},{description:e}))}(t.getData())}})]}),Object(u.jsxs)(V.a.Group,{children:[Object(u.jsx)(V.a.Label,{children:"Offer Main Image"}),Object(u.jsx)(z,{imageUploaded:function(e,t){return function(e,t){var c=j;c[t]=e,i(Object(l.a)(Object(l.a)({},o),{},{images:Object(te.a)(c)})),console.log(j)}(e,0)}})]}),Object(u.jsx)(K.a,{variant:"primary",onClick:function(e){var t;e.preventDefault(),i(Object(l.a)(Object(l.a)({},o),{},{error:!1,loading:!0})),console.log(o),d&&0!=d.length&&""!=d[0]?""!=j[0]&&j[0]?(console.log(o),(t=o,x.a.post(h+"offer",t).then((function(e){return e.data})).catch((function(e){return e.response?{error_message:e.response.data.error_message}:e}))).then((function(e){e.error_message?(_.a.fire({title:e.error_message,icon:"error"}),i(Object(l.a)(Object(l.a)({},o),{},{error:e.error}))):(i({offer_name:"",title:"",sub_title:"",tags:[],real_price:"",offer_price:"",discount:null,category:{},stock:null,description:"",images:[""],error:"",loading:!1}),_.a.fire({title:"offer added",icon:"success"}),window.location.reload(!0))})).catch((function(e){console.log(e),_.a.fire({title:"Something wrong occured",icon:"error"})}))):_.a.fire({title:"main image missing",icon:"error"}):_.a.fire({title:"Offer tags empty",icon:"error"})},children:"Submit"})]})})]})})})})};var be=function(){Object(i.g)();var e=Object(a.useState)([]),t=Object(O.a)(e,2),c=t[0],r=t[1];Object(a.useEffect)((function(){s()}),[]);var s=function(){var e=Object(P.a)(T.a.mark((function e(){return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x.a.get("".concat(h,"offer")).then((function(e){return e.data})).catch((function(e){return e.response?{error_message:e.response.data.error_message}:e})).then((function(e){r(e)}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),o=n.a.useMemo((function(){return[{Header:"#SN",accessor:function(e){return e.offer_name},Cell:function(e){return Object(u.jsx)("span",{children:e.row.index+1})}},{Header:"name",accessor:"offer_name"},{Header:"title ",accessor:"title"},{Header:"status",accessor:"offer_active",Cell:function(e){return Object(u.jsx)("span",{children:Object(u.jsx)("a",{style:{cursor:"pointer"},className:"text-"+(e&&1==e.value?"success":"secondary"),onClick:function(){return l(e.data[e.row.index])},children:e.value})})}},{Header:"Category",accessor:"category",Cell:function(e){return Object(u.jsx)("span",{children:e.value.name})}},{Header:"Image",accessor:"images",Cell:function(e){var t=e.value;return Object(u.jsx)(M.a,{alt:" ",src:D("product/"+t[0])})}},{Header:"Actions",accessor:function(e){return e.name},Cell:function(e){return Object(u.jsx)(d,{values:e})}}]}),[]),l=function(e){console.log(e);var t=e.status&&"Active"===e.status?"Inactive":"Active";(function(e,t){return x.a.put(h+"offer",{query:{_id:e._id},update:t}).then((function(e){return e.data})).catch((function(e){return e.response?{error_message:e.response.data.error_message}:e}))})({_id:e._id},{status:t}).then((function(e){_.a.fire("Offer is now "+t),s()})).catch((function(e){console.log(e)}))},d=function(e){var t=e.values;return Object(u.jsxs)("div",{className:"btn-group rounded-0",children:[Object(u.jsx)("button",{onClick:function(e){return b(t.data[t.row.index])},className:"rounded-0 btn btn-sm btn-outline-info",children:Object(u.jsx)("i",{className:"fa fa-pen"})}),Object(u.jsx)("button",{onClick:function(e){return j(t.data[t.row.index])},className:"rounded-0 btn btn-sm btn-outline-danger",children:Object(u.jsx)("i",{className:"fa fa-trash"})})]})},j=function(e){_.a.fire({title:"Do you want to delete this product ?",showCancelButton:!0,confirmButtonText:"yes delete"}).then((function(t){var c;t.isConfirmed?(c=e,x.a.delete(h+"offer/"+c._id).then((function(e){return console.log(e),e.data})).catch((function(e){return e.response?{error_message:e.response.data.error_message}:e}))).then((function(e){s(),_.a.fire("Offer Deleted")})).catch((function(e){console.log(e)})):_.a.fire("Deletion cancelled!")}))},b=function(e){_.a.fire({title:"Sorry This feature is under maintainance",icon:"info"})};return Object(u.jsx)(S,{children:Object(u.jsx)("div",{className:"container-fluid m-3",children:Object(u.jsxs)("div",{className:"card",children:[Object(u.jsx)("div",{className:"card-header",children:Object(u.jsx)("h4",{children:"Offers"})}),c&&c.length>0&&Object(u.jsx)("div",{className:"card p-3",children:Object(u.jsx)(B,{columns:o,data:c})})]})})})};var Oe=function(){var e=Object(i.h)().id,t=Object(a.useState)(null),c=Object(O.a)(t,2),n=c[0],r=c[1],s=Object(a.useState)({eng_name:"",nep_name:"",tags:[],description:"",short_description:"",product_details:"",product_source:"",price:null,discount:null,product_source_type:"",category:{},stock:null,images:[""],short_name:"",error:"",loading:!1,redirectNow:!1}),o=Object(O.a)(s,2),d=o[0],j=o[1],b=Object(a.useState)([]),h=Object(O.a)(b,2),f=h[0],x=h[1];Object(a.useEffect)((function(){j(Object(l.a)(Object(l.a)({},d),{},{error:"",success:!1})),I().then((function(t){var c=t.map((function(e){return{label:e.eng_name,value:e}}));x(c),L(e).then((function(e){console.log(e),r(e),j(Object(l.a)(Object(l.a)({},d),e));var t=f.filter((function(t){return t.label==e.category.name}))[0];j(Object(l.a)(Object(l.a)({},d),{},{category:t})),console.log(t),console.log(d)})).catch((function(e){console.log(e)}))}))}),[]);var m=function(e,t){var c=T;c[t]=e,j(Object(l.a)(Object(l.a)({},d),{},{images:Object(te.a)(c)})),console.log(T)},p=d.eng_name,g=d.nep_name,v=d.description,N=d.product_source_type,y=d.category,C=d.price,_=d.discount,w=d.short_description,E=(d.product_details,d.product_source,d.stock,d.error),k=(d.loading,d.redirectNow,d.short_name),T=d.images,P=function(e){return function(t){var c=t.target.value;j(Object(l.a)(Object(l.a)({},d),{},Object(q.a)({},e,c)))}};return Object(u.jsx)(S,{children:n&&Object(u.jsx)("div",{className:"row",style:{width:"100%"},children:Object(u.jsxs)("div",{className:"col-lg-10 offset-lg-1 p-3",children:[Object(u.jsx)("h4",{children:"Edit Product"}),Object(u.jsx)("div",{className:"alert alert-primary",children:Object(u.jsxs)(V.a,{children:[Object(u.jsxs)(V.a.Group,{children:[Object(u.jsx)(V.a.Label,{children:"English Name "}),Object(u.jsx)(V.a.Control,{onChange:P("eng_name"),type:"text",value:p,placeholder:"Enter English name"}),Object(u.jsx)(V.a.Text,{className:"text-muted"})]}),Object(u.jsxs)(V.a.Group,{children:[Object(u.jsx)(V.a.Label,{children:"Nepali Name "}),Object(u.jsx)(V.a.Control,{onChange:P("nep_name"),type:"text",value:g,placeholder:"Enter Nepali name"}),Object(u.jsx)(V.a.Text,{className:"text-muted"})]}),Object(u.jsxs)(V.a.Group,{children:[Object(u.jsx)(V.a.Label,{children:"Short Name"}),Object(u.jsx)(V.a.Control,{value:k,onChange:P("short_name"),type:"text",placeholder:"Enter short name"}),Object(u.jsx)(V.a.Text,{className:"text-muted"})]}),Object(u.jsxs)(V.a.Group,{children:[Object(u.jsx)(V.a.Label,{children:"Price"}),Object(u.jsx)(V.a.Control,{onChange:P("price"),type:"number",value:C,placeholder:"Enter Price (Nrs)"}),Object(u.jsx)(V.a.Text,{className:"text-muted"})]}),Object(u.jsxs)(V.a.Group,{children:[Object(u.jsx)(V.a.Label,{children:"Discount"}),Object(u.jsx)(V.a.Control,{onChange:P("discount"),type:"number",value:_,placeholder:"Enter Discount % "}),Object(u.jsx)(V.a.Text,{className:"text-muted"})]}),Object(u.jsxs)(V.a.Group,{children:[Object(u.jsx)(V.a.Label,{children:"Description "}),Object(u.jsx)(ce.CKEditor,{editor:ne.a,data:v,value:v,onChange:function(e,t){!function(e){j(Object(l.a)(Object(l.a)({},d),{},{description:e}))}(t.getData())}})]}),Object(u.jsxs)(V.a.Group,{children:[Object(u.jsx)(V.a.Label,{children:"Short Description "}),Object(u.jsx)(V.a.Control,{as:"textarea",value:w,onChange:P("short_description"),rows:3}),Object(u.jsx)(V.a.Text,{className:"text-muted"})]}),Object(u.jsxs)(V.a.Group,{children:[Object(u.jsx)(V.a.Label,{children:"Product Source Type"}),Object(u.jsx)(re.a,{className:"basic-single",classNamePrefix:"select",defaultValue:N,isSearchable:!0,name:"",onChange:function(e,t){return c=e,console.log(c),void j(Object(l.a)(Object(l.a)({},d),{},{product_source_type:c.value}));var c},options:[{label:"Subidha Store",value:"MYSTORE"},{label:"External Vendor/Shop",value:"SHOP"}]})]}),Object(u.jsxs)(V.a.Group,{children:[Object(u.jsx)(V.a.Label,{children:"Category"}),Object(u.jsx)(re.a,{className:"basic-single",classNamePrefix:"select",defaultValue:y,isSearchable:!0,name:"",onChange:function(e){return t=e,console.log(t),void j(Object(l.a)(Object(l.a)({},d),{},{category:{name:t.value.eng_name,cat_id:t.value._id}}));var t},options:f})]}),Object(u.jsxs)(V.a.Group,{children:[Object(u.jsx)(V.a.Label,{children:"Product Main Image"}),Object(u.jsx)(z,{imageUploaded:function(e,t){return m(e,0)}})]}),Object(u.jsxs)(V.a.Group,{children:[Object(u.jsx)(V.a.Label,{children:"Other Images (optional)"}),Object(u.jsx)(z,{imageUploaded:function(e,t){return m(e,1)}}),Object(u.jsx)(z,{imageUploaded:function(e,t){return m(e,2)}}),Object(u.jsx)(z,{imageUploaded:function(e,t){return m(e,3)}}),Object(u.jsx)(z,{imageUploaded:function(e,t){return m(e,4)}})]}),Object(u.jsx)("small",{className:"text-danger",children:E})," ",Object(u.jsx)("br",{}),Object(u.jsx)(K.a,{variant:"primary",onClick:function(t){t.preventDefault(),j(Object(l.a)(Object(l.a)({},d),{},{error:!1,loading:!0})),console.log(d),H(d,e).then((function(e){e.error?j(Object(l.a)(Object(l.a)({},d),{},{error:e.error})):(console.log(e),j({eng_name:"",nep_name:"",tags:[],product_no:"",description:"",short_name:"",short_description:"",category:{},image:"",loading:!1,product_source_type:""}))})).catch((function(e){console.log(e)}))},children:"Submit"})]})})]})})})},he=function(e){var t=e.match,c=Object(a.useState)(""),n=Object(O.a)(c,2),r=(n[0],n[1]),s=Object(a.useState)(""),o=Object(O.a)(s,2),i=o[0],d=o[1];Object(a.useEffect)((function(){j(t.params.id)}),[]);var j=function(e){(function(e){return x.a.get("".concat(h,"category/single/")+e).then((function(e){return e.data})).catch((function(e){return console.log(e)}))})(e).then((function(e){r(e),d(e)})).catch((function(e){console.log(e),setError(e)}))};return Object(u.jsx)(S,{title:"update category",description:"",children:Object(u.jsxs)("form",{children:[Object(u.jsx)("div",{className:"form-group",children:Object(u.jsx)("input",{type:"text",onChange:function(e){d(Object(l.a)(Object(l.a)({},i),{},{name:e.target.value}))},name:"name",className:"form-control",placeholder:"Name",value:name})}),Object(u.jsx)("button",{type:"submit",onClick:function(e){e.preventDefault(),setError(""),setSuccess(!1),G(t.params.categoryId,user._id,token,name).then((function(e){e.error?setError(!0):(setError(""),setSuccess(!0),setName(""),setCreatedCategory(e.name))}))},className:"btn btn-outline-success mb-3",children:"Update Category"})]})})},fe=c(103);c(207),c(208);fe.a.initializeApp({apiKey:"AIzaSyDg-w2TxbUCBTnnbVAIRA5gipxo-TXOOCg",authDomain:"subidhaonline-de029.firebaseapp.com",projectId:"subidhaonline-de029",storageBucket:"subidhaonline-de029.appspot.com",messagingSenderId:"662339859667",appId:"1:662339859667:web:ee7f5611c61d7dc5ca9026",measurementId:"G-9G0WF7PJ05"});var xe=fe.a.firestore(),me=xe.collection("extras"),pe=xe.collection("contactMessage"),ge=xe.collection("newsletter");var ve=function(){var e=Object(a.useState)(""),t=Object(O.a)(e,2),c=t[0],n=t[1],r=Object(a.useState)(""),s=Object(O.a)(r,2),o=s[0],i=s[1],l=Object(a.useState)(""),d=Object(O.a)(l,2),j=d[0],b=d[1];Object(a.useEffect)((function(){me.orderBy("createdOn","desc").onSnapshot((function(e){var t=[];e.forEach((function(e){var c=e.data();c.id=e.id,t.push(c)}));var c=t.filter((function(e){return"ContactUs"==e.type}))[0];n(c?c.content:""),i(c?c.content:""),b(c.id),console.log(c)}))}),[]);var h=function(){var e=Object(P.a)(T.a.mark((function e(){return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(o),e.next=3,me.add({createdOn:new Date,content:o,type:"ContactUs"});case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),f=function(){var e=Object(P.a)(T.a.mark((function e(){return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,me.doc(j).update({content:o});case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(u.jsx)("div",{children:Object(u.jsx)(S,{children:Object(u.jsx)("div",{className:"container-fluid",children:Object(u.jsx)("div",{className:"row",children:Object(u.jsx)("div",{className:"col-lg-12",children:Object(u.jsxs)("div",{className:"card",children:[Object(u.jsxs)("div",{className:"card-header",children:["Contact Us Page",Object(u.jsxs)("div",{className:"btn-group float-right",children:[o!=c&&Object(u.jsxs)("button",{onClick:function(){c||""==c?f():h()},className:"btn btn-light btn-sm",children:["Save ",Object(u.jsx)("i",{className:"fa fa-pencil"})]}),Object(u.jsxs)("button",{className:"btn btn-primary btn-sm",children:["Edit ",Object(u.jsx)("i",{className:"fa fa-pencil"})]})]})]}),Object(u.jsx)("div",{className:"card-body",children:Object(u.jsx)(ce.CKEditor,{editor:ne.a,data:o,onChange:function(e,t){!function(e){i(e)}(t.getData())}})})]})})})})})})};var Ne=function(){var e=Object(a.useState)(""),t=Object(O.a)(e,2),c=t[0],n=t[1],r=Object(a.useState)(""),s=Object(O.a)(r,2),o=s[0],i=s[1],l=Object(a.useState)(""),d=Object(O.a)(l,2),j=d[0],b=d[1];Object(a.useEffect)((function(){me.orderBy("createdOn","desc").onSnapshot((function(e){var t=[];e.forEach((function(e){var c=e.data();c.id=e.id,t.push(c)}));var c=t.filter((function(e){return"AboutUs"==e.type}))[0];n(c?c.content:""),i(c?c.content:""),b(c?c.id:""),console.log(c)}))}),[]);var h=function(){var e=Object(P.a)(T.a.mark((function e(){return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(o),e.next=3,me.add({createdOn:new Date,content:o,type:"AboutUs"});case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),f=function(){var e=Object(P.a)(T.a.mark((function e(){return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,me.doc(j).update({content:o});case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(u.jsx)("div",{children:Object(u.jsx)(S,{children:Object(u.jsx)("div",{className:"container-fluid",children:Object(u.jsx)("div",{className:"row",children:Object(u.jsx)("div",{className:"col-lg-12",children:Object(u.jsxs)("div",{className:"card",children:[Object(u.jsxs)("div",{className:"card-header",children:["About Us Page",Object(u.jsxs)("div",{className:"btn-group float-right",children:[o!=c&&Object(u.jsxs)("button",{onClick:function(){return console.log(typeof c),void(c&&""==c&&""===j?f():h())},className:"btn btn-light btn-sm",children:["Save ",Object(u.jsx)("i",{className:"fa fa-pencil"})]}),Object(u.jsxs)("button",{className:"btn btn-primary btn-sm",children:["Edit ",Object(u.jsx)("i",{className:"fa fa-pencil"})]})]})]}),Object(u.jsx)("div",{className:"card-body",children:Object(u.jsx)(ce.CKEditor,{editor:ne.a,data:o,onChange:function(e,t){!function(e){i(e)}(t.getData())}})})]})})})})})})};var ye=function(){var e=Object(a.useState)([]),t=Object(O.a)(e,2),c=t[0],r=t[1];Object(a.useEffect)((function(){pe.orderBy("createdOn","desc").onSnapshot((function(e){var t=[];e.forEach((function(e){var c=e.data();c.id=e.id,t.push(c)})),r(t),console.log(t)}))}),[]);var s=n.a.useMemo((function(){return[{Header:"#SN",accessor:function(e){return e.email},Cell:function(e){return Object(u.jsx)("span",{children:e.row.index+1})}},{Header:"Name",accessor:"name"},{Header:"Email",accessor:"email"},{Header:"Subject",accessor:"subject"},{Header:"Message",accessor:"message"}]}),[]);return Object(u.jsx)("div",{children:Object(u.jsx)(S,{children:Object(u.jsxs)("div",{className:"container py-3 ",children:[Object(u.jsx)("h4",{children:"Contact Messages"}),Object(u.jsx)("div",{className:"rounded-0 alert alert-primary",children:Object(u.jsxs)("div",{className:"card p-3",children:[c&&c.length>0&&Object(u.jsx)(B,{columns:s,data:c}),!c&&Object(u.jsx)("p",{children:"No CM found please create category"})]})})]})})})};var Ce=function(){var e=Object(a.useState)(""),t=Object(O.a)(e,2),c=t[0],n=t[1],r=Object(a.useState)(""),s=Object(O.a)(r,2),o=s[0],i=s[1],l=Object(a.useState)(""),d=Object(O.a)(l,2),j=d[0],b=d[1];Object(a.useEffect)((function(){me.orderBy("createdOn","desc").onSnapshot((function(e){var t=[];e.forEach((function(e){var c=e.data();c.id=e.id,t.push(c)}));var c=t.filter((function(e){return"PrivacyPolicy"==e.type}))[0];n(c?c.content:""),i(c?c.content:""),b(c?c.id:""),console.log(c)}))}),[]);var h=function(){var e=Object(P.a)(T.a.mark((function e(){return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(o),e.next=3,me.add({createdOn:new Date,content:o,type:"PrivacyPolicy"});case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),f=function(){var e=Object(P.a)(T.a.mark((function e(){return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,me.doc(j).update({content:o});case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(u.jsx)("div",{children:Object(u.jsx)(S,{children:Object(u.jsx)("div",{className:"container-fluid",children:Object(u.jsx)("div",{className:"row",children:Object(u.jsx)("div",{className:"col-lg-12",children:Object(u.jsxs)("div",{className:"card",children:[Object(u.jsxs)("div",{className:"card-header",children:["Privacy Policy Page",Object(u.jsxs)("div",{className:"btn-group float-right",children:[o!=c&&Object(u.jsxs)("button",{onClick:function(){return console.log(typeof c),void(c&&""==c&&""===j?f():h())},className:"btn btn-light btn-sm",children:["Save ",Object(u.jsx)("i",{className:"fa fa-pencil"})]}),Object(u.jsxs)("button",{className:"btn btn-primary btn-sm",children:["Edit ",Object(u.jsx)("i",{className:"fa fa-pencil"})]})]})]}),Object(u.jsx)("div",{className:"card-body",children:Object(u.jsx)(ce.CKEditor,{editor:ne.a,data:o,onChange:function(e,t){!function(e){i(e)}(t.getData())}})})]})})})})})})};var _e=function(){var e=Object(a.useState)(""),t=Object(O.a)(e,2),c=t[0],n=t[1],r=Object(a.useState)(""),s=Object(O.a)(r,2),o=s[0],i=s[1],l=Object(a.useState)(""),d=Object(O.a)(l,2),j=d[0],b=d[1];Object(a.useEffect)((function(){me.orderBy("createdOn","desc").onSnapshot((function(e){var t=[];e.forEach((function(e){var c=e.data();c.id=e.id,t.push(c)}));var c=t.filter((function(e){return"TermsConditions"==e.type}))[0];n(c?c.content:""),i(c?c.content:""),b(c?c.id:""),console.log(c)}))}),[]);var h=function(){var e=Object(P.a)(T.a.mark((function e(){return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(o),e.next=3,me.add({createdOn:new Date,content:o,type:"TermsConditions"});case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),f=function(){var e=Object(P.a)(T.a.mark((function e(){return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,me.doc(j).update({content:o});case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(u.jsx)("div",{children:Object(u.jsx)(S,{children:Object(u.jsx)("div",{className:"container-fluid",children:Object(u.jsx)("div",{className:"row",children:Object(u.jsx)("div",{className:"col-lg-12",children:Object(u.jsxs)("div",{className:"card",children:[Object(u.jsxs)("div",{className:"card-header",children:["About Us Page",Object(u.jsxs)("div",{className:"btn-group float-right",children:[o!=c&&Object(u.jsxs)("button",{onClick:function(){return console.log(typeof c),void(c&&""==c&&""===j?f():h())},className:"btn btn-light btn-sm",children:["Save ",Object(u.jsx)("i",{className:"fa fa-pencil"})]}),Object(u.jsxs)("button",{className:"btn btn-primary btn-sm",children:["Edit ",Object(u.jsx)("i",{className:"fa fa-pencil"})]})]})]}),Object(u.jsx)("div",{className:"card-body",children:Object(u.jsx)(ce.CKEditor,{editor:ne.a,data:o,onChange:function(e,t){!function(e){i(e)}(t.getData())}})})]})})})})})})};var we=function(){var e=Object(a.useState)(""),t=Object(O.a)(e,2),c=t[0],n=t[1],r=Object(a.useState)(""),s=Object(O.a)(r,2),o=s[0],i=s[1],l=Object(a.useState)(""),d=Object(O.a)(l,2),j=d[0],b=d[1];Object(a.useEffect)((function(){me.orderBy("createdOn","desc").onSnapshot((function(e){var t=[];e.forEach((function(e){var c=e.data();c.id=e.id,t.push(c)}));var c=t.filter((function(e){return"RefundPolicy"==e.type}))[0];n(c?c.content:""),i(c?c.content:""),b(c?c.id:""),console.log(c)}))}),[]);var h=function(){var e=Object(P.a)(T.a.mark((function e(){return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(o),e.next=3,me.add({createdOn:new Date,content:o,type:"RefundPolicy"});case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),f=function(){var e=Object(P.a)(T.a.mark((function e(){return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,me.doc(j).update({content:o});case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(u.jsx)("div",{children:Object(u.jsx)(S,{children:Object(u.jsx)("div",{className:"container-fluid",children:Object(u.jsx)("div",{className:"row",children:Object(u.jsx)("div",{className:"col-lg-12",children:Object(u.jsxs)("div",{className:"card",children:[Object(u.jsxs)("div",{className:"card-header",children:["Privacy Policy Page",Object(u.jsxs)("div",{className:"btn-group float-right",children:[o!=c&&Object(u.jsxs)("button",{onClick:function(){return console.log(typeof c),void(c&&""==c&&""===j?f():h())},className:"btn btn-light btn-sm",children:["Save ",Object(u.jsx)("i",{className:"fa fa-pencil"})]}),Object(u.jsxs)("button",{className:"btn btn-primary btn-sm",children:["Edit ",Object(u.jsx)("i",{className:"fa fa-pencil"})]})]})]}),Object(u.jsx)("div",{className:"card-body",children:Object(u.jsx)(ce.CKEditor,{editor:ne.a,data:o,onChange:function(e,t){!function(e){i(e)}(t.getData())}})})]})})})})})})};var Se=function(){var e=Object(a.useState)([]),t=Object(O.a)(e,2),c=t[0],r=t[1];Object(a.useEffect)((function(){ge.orderBy("createdOn","desc").onSnapshot((function(e){var t=[];e.forEach((function(e){var c=e.data();c.id=e.id,t.push(c)})),r(t),console.log(t)}))}),[]);var s=n.a.useMemo((function(){return[{Header:"#SN",accessor:function(e){return e.email},Cell:function(e){return Object(u.jsx)("span",{children:e.row.index+1})}},{Header:"Email",accessor:"email"}]}),[]);return Object(u.jsx)("div",{children:Object(u.jsx)(S,{children:Object(u.jsxs)("div",{className:"container py-3 ",children:[Object(u.jsx)("h4",{children:"Newsletter Emails"}),Object(u.jsx)("div",{className:"rounded-0 alert alert-primary",children:Object(u.jsxs)("div",{className:"card p-3",children:[c&&c.length>0&&Object(u.jsx)(B,{columns:s,data:c}),!c&&Object(u.jsx)("p",{children:"No CM found please create category"})]})})]})})})};var Ee=function(){var e=Object(a.useState)([]),t=Object(O.a)(e,2),c=t[0],r=t[1],s=function(){x.a.get(h+"orders").then((function(e){e.data.error_message?_.a.fire("",e.data.error_message):(console.log(e.data),r(e.data))})).catch((function(e){console.log(e),_.a.fire("","error fetching orders")}))};Object(a.useEffect)((function(){s()}),[]);var o=n.a.useMemo((function(){return[{Header:"#SN",accessor:function(e){return e.last_active},Cell:function(e){return Object(u.jsx)("span",{children:e.row.index+1})}},{Header:"Order Id",accessor:"_id"},{Header:"Items",accessor:function(e){return e.order_type},Cell:function(e){if("offer"==e.value)return e.data[e.row.index].offer.name;var t=e.data[e.row.index].products;return Object(u.jsx)("span",{className:"",title:t.reduce((function(e,t){return e+(t.name+",")}),0).slice(0,-1),children:t.length+"Items"})}},{Header:"Date",accessor:function(e){return e.createdAt},Cell:function(e){return Object(u.jsx)("span",{children:le()(e.value).format("YY/MM/DD hh:mm")})}},{Header:"Address",accessor:function(e){return e.order_details},Cell:function(e){var t=e.value;return Object(u.jsx)("p",{children:t.streetAddress+","+t.address+","+t.province})}},{Header:"Paid",accessor:function(e){return e.paid},Cell:function(e){return Object(u.jsx)("span",{children:e.value?"Paid":"Not Paid"})}},{Header:"Order Type",accessor:function(e){return e.order_type}},{Header:"total",accessor:"total",Cell:function(e){return Object(u.jsxs)("span",{children:["Rs",e.value]})}},{Header:"Actions",accessor:function(e){return e.name},Cell:function(e){return Object(u.jsx)(i,{values:e})}}]}),[]),i=function(e){var t=e.values;return Object(u.jsxs)("div",{className:"btn-group rounded-0",children:[Object(u.jsx)("button",{onClick:function(){return d(t.data[t.row.index])},className:"rounded-0 btn btn-sm btn-outline-info",children:Object(u.jsx)("i",{className:"fa fa-pen"})}),Object(u.jsx)("button",{onClick:function(){return l(t.data[t.row.index])},className:"rounded-0 btn btn-sm btn-outline-danger",children:Object(u.jsx)("i",{className:"fa fa-trash"})})]})},l=function(e){_.a.fire({title:"Do you want to remove this order ?",showCancelButton:!0,confirmButtonText:"yes delete",icon:"error"}).then((function(t){t.isConfirmed?function(e){return x.a.delete(h+"orders/"+e._id).then((function(e){return e.json()})).catch((function(e){return console.log(e)}))}(e).then((function(e){s(),_.a.fire("Order Deleted !")})).catch((function(e){_.a.fire({title:"Some error occured !",icon:"error"}),console.log(e)})):_.a.fire("Deletion cancelled!")}))},d=function(e){_.a.fire({title:"Sorry This feature is under maintainance",icon:"info"})};return Object(u.jsx)("div",{children:Object(u.jsx)(S,{children:Object(u.jsxs)("div",{className:"container-fluid m-3",children:[Object(u.jsxs)("div",{class:"row justify-content-between",children:[Object(u.jsx)("div",{class:"col-lg-3 col-md-4",children:Object(u.jsx)("div",{class:"bulk-section mb-30",children:Object(u.jsxs)("div",{class:"input-group",children:[Object(u.jsxs)("select",{id:"action",name:"action",class:"form-control",children:[Object(u.jsx)("option",{selected:!0,children:"Bulk Actions"}),Object(u.jsx)("option",{value:"1",children:"Pending"}),Object(u.jsx)("option",{value:"2",children:"Cancel"}),Object(u.jsx)("option",{value:"3",children:"Process"}),Object(u.jsx)("option",{value:"4",children:"Complete"}),Object(u.jsx)("option",{value:"5",children:"Delete"})]}),Object(u.jsx)("div",{class:"input-group-append",children:Object(u.jsx)("button",{class:"status-btn hover-btn",type:"submit",children:"Apply"})})]})})}),Object(u.jsx)("div",{class:"col-lg-5 col-md-6",children:Object(u.jsxs)("div",{class:"bulk-section mb-30",children:[Object(u.jsx)("div",{class:"search-by-name-input",children:Object(u.jsx)("input",{type:"text",class:"form-control",placeholder:"Search"})}),Object(u.jsxs)("div",{class:"input-group",children:[Object(u.jsxs)("select",{id:"categeory",name:"categeory",class:"form-control",children:[Object(u.jsx)("option",{value:"1",children:"Pending"}),Object(u.jsx)("option",{value:"2",children:"Cancel"}),Object(u.jsx)("option",{value:"3",children:"Process"}),Object(u.jsx)("option",{value:"4",children:"Complete"})]}),Object(u.jsx)("div",{class:"input-group-append",children:Object(u.jsx)("button",{class:"status-btn hover-btn",type:"submit",children:"Search Order"})})]})]})})]}),Object(u.jsxs)("div",{className:"card",children:[Object(u.jsx)("div",{className:"card-header",children:Object(u.jsx)("h4",{children:"Orders"})}),Object(u.jsxs)("div",{className:"card-body",children:[c&&c.length>0&&Object(u.jsx)(B,{columns:o,data:c}),!c&&Object(u.jsx)("p",{children:"No orders found please create order"})]})]})]})})})};var ke=function(){var e=Object(a.useState)([]),t=Object(O.a)(e,2),c=t[0],r=t[1];Object(a.useEffect)((function(){x.a.get(h+"user").then((function(e){e.data.error_message?_.a.fire("",e.data.error_message):(console.log(e.data),r(e.data))})).catch((function(e){console.log(e),_.a.fire("","error fetching users")}))}),[]);var s=n.a.useMemo((function(){return[{Header:"#SN",accessor:function(e){return e.email},Cell:function(e){return Object(u.jsx)("span",{children:e.row.index+1})}},{Header:"name",accessor:"name"},{Header:"Phone",accessor:"phone"},{Header:"email",accessor:"email"},{Header:"last active",accessor:"last_active",Cell:function(e){return Object(u.jsx)("span",{children:e.value?le()(e.value).fromNow():""})}},{Header:"Image",accessor:"images",Cell:function(e){var t=e.value;return Object(u.jsx)(M.a,{alt:"Remy Sharp",src:t[0]?D("product/"+t[0]):"images/userImage.png"})}},{Header:"Actions",accessor:function(e){return e.name},Cell:function(e){return Object(u.jsx)(o,{values:e})}}]}),[]),o=function(e){var t=e.values;return Object(u.jsxs)("div",{className:"btn-group rounded-0",children:[Object(u.jsx)("button",{onClick:function(){return l(t.data[t.row.index])},className:"rounded-0 btn btn-sm btn-outline-info",children:Object(u.jsx)("i",{className:"fa fa-pen"})}),Object(u.jsx)("button",{onClick:function(){return i(t.data[t.row.index])},className:"rounded-0 btn btn-sm btn-outline-danger",children:Object(u.jsx)("i",{className:"fa fa-trash"})})]})},i=function(e){_.a.fire({title:"Do you want to remove this user ?",showCancelButton:!0,confirmButtonText:"yes delete",icon:"error"}).then((function(t){t.isConfirmed?function(e){return x.a.delete(h+"user/"+e._id).then((function(e){return e.json()})).catch((function(e){return console.log(e)}))}(e).then((function(e){fetchCategories(),_.a.fire("User Deleted !")})).catch((function(e){_.a.fire({title:"Some error occured !",icon:"error"}),console.log(e)})):_.a.fire("Deletion cancelled!")}))},l=function(e){_.a.fire({title:"Sorry This feature is under maintainance",icon:"info"})};return Object(u.jsx)("div",{children:Object(u.jsx)(S,{children:Object(u.jsx)("div",{className:"container-fluid",children:Object(u.jsxs)("div",{className:"card",children:[Object(u.jsx)("div",{className:"card-header",children:Object(u.jsx)("h1",{children:"All users here"})}),Object(u.jsxs)("div",{className:"card-body",children:[c&&c.length>0&&Object(u.jsx)(B,{columns:s,data:c}),!c&&Object(u.jsx)("p",{children:"No users found please create user"})]})]})})})})};var Te=function(){return Object(u.jsx)("div",{children:Object(u.jsx)(S,{children:Object(u.jsx)("div",{className:"container py-3 ",children:Object(u.jsx)("h4",{children:"FAQ"})})})})},Pe=function(){return Object(u.jsx)(o.a,{children:Object(u.jsxs)(i.d,{children:[Object(u.jsx)(b,{path:"/",exact:!0,component:E}),Object(u.jsx)(b,{path:"/admins",component:W}),Object(u.jsx)(b,{exact:!0,path:"/category/create",component:$}),Object(u.jsx)(b,{exact:!0,path:"/category/all",component:ee}),Object(u.jsx)(b,{exact:!0,path:"/product/create",component:oe}),Object(u.jsx)(b,{path:"/product/edit/:id",component:je}),Object(u.jsx)(b,{exact:!0,path:"/offers/create",component:ue}),Object(u.jsx)(b,{path:"/offers/edit/:id",component:Oe}),Object(u.jsx)(b,{path:"/category/edit/:id",component:he}),Object(u.jsx)(b,{exact:!0,path:"/product/all",component:de}),Object(u.jsx)(b,{exact:!0,path:"/orders/all",component:Ee}),Object(u.jsx)(b,{exact:!0,path:"/offers/all",component:be}),Object(u.jsx)(b,{exact:!0,path:"/users/all",component:ke}),Object(u.jsx)(b,{exact:!0,path:"/contactus",component:ve}),Object(u.jsx)(b,{exact:!0,path:"/aboutus",component:Ne}),Object(u.jsx)(b,{exact:!0,path:"/privacypolicy",component:Ce}),Object(u.jsx)(b,{exact:!0,path:"/refundpolicy",component:we}),Object(u.jsx)(b,{exact:!0,path:"/terms",component:_e}),Object(u.jsx)(b,{exact:!0,path:"/contactmessage",component:ye}),Object(u.jsx)(b,{exact:!0,path:"/newsletter",component:Se}),Object(u.jsx)(b,{exact:!0,path:"/faq",component:Te}),Object(u.jsx)(i.b,{exact:!0,path:"/login",component:Z})]})})},De=c(132),Le=c(47),Ae={name:"",email:""},He=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ae,t=arguments.length>1?arguments[1]:void 0;switch(t.Type){case"user/AddUser":return Object(l.a)(Object(l.a)({},e),{},{user:t.payload});default:return e}},Ge=[],Ie=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ge,t=arguments.length>1?arguments[1]:void 0;switch(t.Type){case"cart/AddToCart":return Object(l.a)(Object(l.a)({},e),{},{cart:[].concat(Object(te.a)(e.cart),[t.payload])});default:return e}},Ue={token:{token:null,expiry:null},user:{},access_level:null,loggedIn:!1},Be=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ue,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"auth/Login":var c=t.payload,a=c.token,n=c.user,r=c.access_level,s=c.loggedIn;return Object(l.a)(Object(l.a)({},e),{},{token:a,user:n,access_level:r,loggedIn:s});case"auth/Logout":return Ue;default:return e}},Me=Object(Le.a)({user:He,cart:Ie,auth:Be}),Re=c(104),qe=c(133),Ve={key:"root",storage:c.n(qe).a},Ke=Object(Re.a)(Ve,Me),Fe=Object(Le.b)(Ke,window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__()),Xe=Object(Re.b)(Fe);var Ye=c(64);c(211),c(212),c(213),c(214),c(215);x.a.interceptors.request.use(function(){var e=Object(P.a)(T.a.mark((function e(t){var c;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=Fe.getState().auth.token.token,t.baseURL="/",c&&(t.headers.Authorization=c),e.abrupt("return",t);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),(function(e){return console.log(e),Promise.reject(e)})),s.a.render(Object(u.jsx)(j.a,{store:Fe,children:Object(u.jsxs)(De.a,{loading:null,persistor:Xe,children:[Object(u.jsx)(Ye.a,{newestOnTop:!0}),Object(u.jsx)(Pe,{})]})}),document.getElementById("root"))}},[[216,1,2]]]);
//# sourceMappingURL=main.63a8900a.chunk.js.map