(this.webpackJsonpadmin=this.webpackJsonpadmin||[]).push([[0],{152:function(e,t,c){},196:function(e,t,c){},212:function(e,t,c){},213:function(e,t,c){},214:function(e,t,c){},215:function(e,t,c){},216:function(e,t,c){"use strict";c.r(t);var n=c(1),a=c.n(n),r=c(25),s=c.n(r),o=c(16),i=c(23),l=c(5),j=c(134),d=c(34),u=c(0),b=function(e){var t=e.component,c=Object(j.a)(e,["component"]),n=Object(d.c)((function(e){return e.auth.token})),a=Object(d.c)((function(e){return e.auth.loggedIn})),r=n&&null!==n.token&&a;return console.log(n,a),Object(u.jsx)(i.b,Object(l.a)(Object(l.a)({},c),{},{render:function(e){return r?Object(u.jsx)(t,Object(l.a)({},e)):Object(u.jsx)(i.a,{to:{pathname:"/login",state:{from:e.location}}})}}))},O=c(7),h=c(236),f=c(238),x=c(235),m="http://subidhaonline.com/api/";var p=function(e){var t=e.sidebarToggleFunction,c=Object(d.b)(),n=Object(d.c)((function(e){return e.auth.user}));return Object(u.jsx)("div",{children:Object(u.jsxs)(h.a,{bg:"light",expand:"lg",fixed:"top",children:[Object(u.jsx)(h.a.Brand,{href:"/",children:"Subidhaonline"}),Object(u.jsx)(h.a.Toggle,{"aria-controls":"basic-navbar-nav"}),Object(u.jsxs)(h.a.Collapse,{id:"basic-navbar-nav",children:[Object(u.jsxs)(f.a,{className:"mr-auto",children:[Object(u.jsx)(f.a.Link,{onClick:t,children:Object(u.jsx)("i",{className:"fa fa-bars"})}),Object(u.jsx)(f.a.Link,{href:"/",children:"Home"}),Object(u.jsx)(x.a,{title:n.name?n.name:"User",id:"basic-nav-dropdown",children:Object(u.jsx)(x.a.Item,{onClick:function(){c({type:"auth/Logout"})},children:"LogOut"})})]}),Object(u.jsx)(f.a,{className:"ml-auto",children:Object(u.jsxs)(f.a.Link,{href:"http://subidhaonline.com",children:["Visit Site ",Object(u.jsx)("i",{className:"fa fa-globe"})," "]})})]})]})})};var g=function(){return Object(u.jsxs)("div",{children:[Object(u.jsx)("div",{className:"container-fluid text-center  bg-light",children:Object(u.jsx)("small",{children:"Developed by Asoft Nepal"})}),"        "]})},v=c(14),N=(c(147),c(217),c(152),c(9)),y=c.n(N);var _=function(e){return Object(u.jsx)("div",{style:{minHeight:"600px"},children:Object(u.jsx)(v.c,{collapsed:e.collapsed,children:Object(u.jsxs)(v.d,{children:[Object(u.jsxs)(v.a,{iconShape:"square",children:[Object(u.jsx)(v.a,{iconShape:"square",children:Object(u.jsx)(v.e,{title:"Orders",icon:Object(u.jsx)("i",{className:"fa fa-file-invoice"}),children:Object(u.jsxs)(v.b,{children:["All Orders ",Object(u.jsx)(o.b,{to:"/orders/all"})]})})}),Object(u.jsx)(v.a,{iconShape:"square",children:Object(u.jsxs)(v.e,{title:"Product",icon:Object(u.jsx)("i",{className:"fa fa-envelope"}),children:[Object(u.jsxs)(v.b,{children:["Create products ",Object(u.jsx)(o.b,{to:"/product/create"})]}),Object(u.jsxs)(v.b,{children:["All products ",Object(u.jsx)(o.b,{to:"/product/all"})]})]})}),Object(u.jsx)(v.a,{iconShape:"square",children:Object(u.jsxs)(v.e,{title:"Offers",icon:Object(u.jsx)("i",{className:"fa fa-gift"}),children:[Object(u.jsxs)(v.b,{children:["Create Offers ",Object(u.jsx)(o.b,{to:"/offers/create"})]}),Object(u.jsxs)(v.b,{children:["All Offers ",Object(u.jsx)(o.b,{to:"/offers/all"})]})]})}),Object(u.jsx)(v.a,{iconShape:"square",children:Object(u.jsxs)(v.e,{title:"Category",icon:Object(u.jsx)("i",{className:"fa fa-list"}),children:[Object(u.jsxs)(v.b,{children:["Create Category ",Object(u.jsx)(o.b,{to:"/category/create"})]}),Object(u.jsxs)(v.b,{children:["All Category ",Object(u.jsx)(o.b,{to:"/category/all"})]})]})}),Object(u.jsx)(v.a,{iconShape:"square",children:Object(u.jsxs)(v.e,{title:"Locations",icon:Object(u.jsx)("i",{className:"fa fa-map-marker-alt"}),children:[Object(u.jsxs)(v.b,{children:["Add Location ",Object(u.jsx)(o.b,{to:"/location/create"})]}),Object(u.jsxs)(v.b,{children:["All Locations ",Object(u.jsx)(o.b,{to:"/location/all"})]})]})}),Object(u.jsx)(v.e,{title:"Users",icon:Object(u.jsx)("i",{className:"fa fa-user"}),children:Object(u.jsxs)(v.b,{children:["All Users ",Object(u.jsx)(o.b,{to:"/users/all"})]})}),Object(u.jsxs)(v.e,{title:"Admins",icon:Object(u.jsx)("i",{className:"fa fa-users"}),children:[Object(u.jsxs)(v.b,{children:["Create Admin ",Object(u.jsx)(o.b,{to:"/admins/create"})]}),Object(u.jsxs)(v.b,{children:["All Admins ",Object(u.jsx)(o.b,{to:"/admins/all"})]})]})]}),Object(u.jsx)(v.a,{iconShape:"square",children:Object(u.jsxs)(v.e,{title:"Extras",icon:Object(u.jsx)("i",{className:"fa fa-circle"}),children:[Object(u.jsxs)(v.b,{children:["Contact Us",Object(u.jsx)(o.b,{to:"/contactus"})]}),Object(u.jsxs)(v.b,{children:["About Us ",Object(u.jsx)(o.b,{to:"/aboutus"})]}),Object(u.jsxs)(v.b,{children:["Privacy Policy ",Object(u.jsx)(o.b,{to:"/privacypolicy"})]}),Object(u.jsxs)(v.b,{children:["Terms & Conditions ",Object(u.jsx)(o.b,{to:"/terms"})]}),Object(u.jsxs)(v.b,{children:["Refund & Return Policy ",Object(u.jsx)(o.b,{to:"/refundpolicy"})]})]})}),Object(u.jsx)(v.a,{iconShape:"square",children:Object(u.jsxs)(v.b,{icon:Object(u.jsx)("i",{className:"fa fa-envelope"}),children:["Contact Messages ",Object(u.jsx)(o.b,{to:"/contactmessage"})]})}),Object(u.jsx)(v.a,{iconShape:"square",children:Object(u.jsxs)(v.b,{icon:Object(u.jsx)("i",{className:"fa fa-question-circle"}),children:["FAQ ",Object(u.jsx)(o.b,{to:"/faq"})]})}),Object(u.jsx)(v.a,{iconShape:"square",children:Object(u.jsxs)(v.b,{icon:Object(u.jsx)("i",{className:"fa fa-newspaper"}),children:["Newsletter Mails ",Object(u.jsx)(o.b,{to:"/newsletter"})]})}),Object(u.jsx)(v.a,{iconShape:"square",children:Object(u.jsx)(v.b,{icon:Object(u.jsx)("i",{className:"fa fa-bars"}),onClick:function(){return y.a.fire("Coming soon")},children:"More"})})]})})})};var C=function(e){var t=e.children,c=Object(n.useState)(!1),a=Object(O.a)(c,2),r=a[0],s=a[1];return Object(u.jsxs)("div",{children:[Object(u.jsx)(p,{sidebarToggleFunction:function(){s(!r)}}),Object(u.jsxs)("div",{className:"d-flex",style:{marginTop:"60px"},children:[Object(u.jsx)(_,{collapsed:r}),t]}),Object(u.jsx)(g,{})]})};var w=function(){var e=Object(d.c)((function(e){return e.auth.user})),t=Object(n.useState)(!1),c=Object(O.a)(t,2);return c[0],c[1],Object(i.g)(),Object(u.jsx)("div",{children:Object(u.jsx)(C,{children:Object(u.jsx)("div",{className:"container-fluid",children:Object(u.jsxs)("div",{className:"text-center p-5 alert alert-primary",children:[Object(u.jsxs)("h1",{children:["Welcome ",e.name,"! ",Object(u.jsx)("br",{})]}),Object(u.jsx)("h4",{children:" To subidhaonline.com's"}),Object(u.jsx)("h3",{children:"Admin Panel"})]})})})})},S=c(15),E=c.n(S),k=c(21),T=c(17),P=c.n(T),L=function(e){return"".concat(m,"media/").concat(e)},D=function(e){return P.a.get(m+"product/edit/"+e).then((function(e){return console.log(e),e.data})).catch((function(e){return e.response?{error_message:e.response.data.error_message}:e}))},A=function(e,t){return P.a.put(m+"product",{query:{_id:e._id},update:t}).then((function(e){return e.data})).catch((function(e){return e.response?{error_message:e.response.data.error_message}:e}))},H=function(e,t){return P.a.put(m+"product/"+t,e).then((function(e){return console.log(e).data,e.data})).catch((function(e){return e.response?{error_message:e.response.data.error_message}:e}))},G=function(e,t){return P.a.put(m+"category",{query:{_id:e._id},update:t}).then((function(e){return e.data})).catch((function(e){return e.response?{error_message:e.response.data.error_message}:e}))},I=function(){return P.a.get("".concat(m,"category")).then((function(e){return e.data})).catch((function(e){return console.log(e)}))},U=c(130);function B(e){var t=e.columns,c=e.data,n=Object(U.useTable)({columns:t,data:c}),a=n.getTableProps,r=n.getTableBodyProps,s=n.headerGroups,o=n.rows,i=n.prepareRow;return Object(u.jsxs)("table",Object(l.a)(Object(l.a)({},a()),{},{children:[Object(u.jsx)("thead",{children:s.map((function(e){return Object(u.jsx)("tr",Object(l.a)(Object(l.a)({},e.getHeaderGroupProps()),{},{children:e.headers.map((function(e){return Object(u.jsx)("th",Object(l.a)(Object(l.a)({},e.getHeaderProps()),{},{children:e.render("Header")}))}))}))}))}),Object(u.jsx)("tbody",Object(l.a)(Object(l.a)({},r()),{},{children:o.map((function(e,t){return i(e),Object(u.jsx)("tr",Object(l.a)(Object(l.a)({},e.getRowProps()),{},{children:e.cells.map((function(e){return Object(u.jsx)("td",Object(l.a)(Object(l.a)({},e.getCellProps()),{},{children:e.render("Cell")}))}))}))}))}))]}))}var M=c(239);var R=function(){var e=Object(n.useState)([]),t=Object(O.a)(e,2),c=t[0],r=t[1];Object(n.useEffect)((function(){s()}),[]);var s=function(){var e=Object(k.a)(E.a.mark((function e(){var t;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,P.a.get(m+"admin").then((function(e){return console.log(e),e.data})).catch((function(e){return e.response?{error_message:e.response.data.error_message}:e}));case 2:(t=e.sent).map((function(e){return e.actions="",e})),r(t),console.log(t);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),o=a.a.useMemo((function(){return[{Header:"#SN",accessor:function(e){return e.email},Cell:function(e){return Object(u.jsx)("span",{children:e.row.index+1})}},{Header:"Name",accessor:"name"},{Header:"Email",accessor:"email"},{Header:"Phone",accessor:"phone"},{Header:"Address",accessor:"address"},{Header:"Image",accessor:"image",Cell:function(e){var t=e.value;return Object(u.jsx)(M.a,{alt:"Remy Sharp",src:L("product/"+t)})}},{Header:"Actions",accessor:function(e){return e.name},Cell:function(e){return Object(u.jsx)(i,{values:e})}}]}),[]),i=function(e){var t=e.values;return Object(u.jsxs)("div",{className:"btn-group rounded-0",children:[Object(u.jsx)("button",{onClick:function(){return j(t.data[t.row.index])},className:"rounded-0 btn btn-sm btn-outline-info",children:Object(u.jsx)("i",{className:"fa fa-pen"})}),Object(u.jsx)("button",{onClick:function(){return l(t.data[t.row.index])},className:"rounded-0 btn btn-sm btn-outline-danger",children:Object(u.jsx)("i",{className:"fa fa-trash"})})]})},l=function(e){y.a.fire({title:"Do you want to remove this admin ?",showCancelButton:!0,confirmButtonText:"yes delete",icon:"error"}).then((function(t){var c;t.isConfirmed?(c=e,P.a.delete(m+"admin/"+c._id).then((function(e){return console.log(e),e.data})).catch((function(e){return e.response?{error_message:e.response.data.error_message}:e}))).then((function(e){s(),y.a.fire("Admin Deleted !")})).catch((function(e){console.log(e)})):y.a.fire("Deletion cancelled!")}))},j=function(e){y.a.fire({title:"Sorry This feature is under maintainance",icon:"info"})};return Object(u.jsxs)("div",{className:"container py-3 ",children:[Object(u.jsx)("h4",{children:"All Admins"}),Object(u.jsx)("div",{className:"rounded-0 alert alert-primary",children:c&&c.length>0&&Object(u.jsx)("div",{className:"card p-3",children:Object(u.jsx)(B,{columns:o,data:c})})})]})},q=c(31),V=c(237),K=c(129),F=c(131),X=c.n(F),J=c(79),z=c.n(J);var Y=function(e){var t=Object(n.useState)(""),c=Object(O.a)(t,2),a=(c[0],c[1]),r=Object(n.useState)(""),s=Object(O.a)(r,2),o=s[0],i=s[1],l=Object(n.useState)(""),j=Object(O.a)(l,2),d=j[0],b=j[1],h=Object(n.useState)(!1),f=Object(O.a)(h,2),x=f[0],p=f[1];return Object(u.jsx)("div",{children:Object(u.jsx)(z.a,{active:x,text:"Uploading Image...",children:Object(u.jsxs)("div",{className:"previewComponent",children:[Object(u.jsx)(X.a,{}),Object(u.jsx)("small",{className:"text-danger",children:d}),Object(u.jsx)("input",{className:"fileInput",type:"file",onChange:function(t){return function(t){p(!0),t.preventDefault();var c=new FileReader,n=t.target.files[0];if(n){c.onloadend=function(){a(n)},c.readAsDataURL(n);var r=new FormData;r.append("media",n),P.a.post(m+"media/product",r,{headers:{"Content-Type":"multipart/form-data"}}).then((function(t){console.log(t.data),i(L("product/"+t.data._id+"?placeholder=true")),e.imageUploaded(t.data._id),p(!1)})).catch((function(e){p(!1),b("provided image format invalid,please upload another image"),console.log(e)}))}else p(!1)}(t)}}),Object(u.jsx)("div",{className:"imgPreview",children:o&&Object(u.jsx)("img",{style:{height:"70px"},src:o})})]})})})};var Q=function(){var e=Object(n.useState)({email:"",password:"",image:[],phone:"",address:"",error:"",loading:!1,redirectNow:!1}),t=Object(O.a)(e,2),c=t[0],a=t[1];Object(n.useEffect)((function(){a(Object(l.a)(Object(l.a)({},c),{},{error:"",success:!1}))}),[]),c.email,c.password,c.phone,c.address;var r=c.error,s=(c.loading,c.redirectNow,c.image,function(e){return function(t){var n=t.target.value;a(Object(l.a)(Object(l.a)({},c),{},Object(q.a)({},e,n)))}});return Object(u.jsx)("div",{className:"row",style:{width:"100%"},children:Object(u.jsxs)("div",{className:"col-lg-10 offset-lg-1 p-3",children:[Object(u.jsx)("h4",{children:"Add Admin"}),Object(u.jsx)("div",{className:"alert alert-primary",children:Object(u.jsxs)(V.a,{children:[Object(u.jsx)("small",{className:"text-danger",children:r}),Object(u.jsxs)(V.a.Group,{children:[Object(u.jsx)(V.a.Label,{children:"Name "}),Object(u.jsx)(V.a.Control,{onChange:s("name"),type:"text",placeholder:"Enter name"}),Object(u.jsx)(V.a.Text,{className:"text-muted"})]}),Object(u.jsxs)(V.a.Group,{children:[Object(u.jsx)(V.a.Label,{children:"Email address"}),Object(u.jsx)(V.a.Control,{onChange:s("email"),type:"email",placeholder:"Enter email"}),Object(u.jsx)(V.a.Text,{className:"text-muted"})]}),Object(u.jsxs)(V.a.Group,{children:[Object(u.jsx)(V.a.Label,{children:"Phone Number "}),Object(u.jsx)(V.a.Control,{onChange:s("phone"),type:"number",placeholder:"Enter phone"}),Object(u.jsx)(V.a.Text,{className:"text-muted"})]}),Object(u.jsxs)(V.a.Group,{children:[Object(u.jsx)(V.a.Label,{children:"Address"}),Object(u.jsx)(V.a.Control,{onChange:s("address"),type:"text",placeholder:"Enter Address"}),Object(u.jsx)(V.a.Text,{className:"text-muted"})]}),Object(u.jsxs)(V.a.Group,{children:[Object(u.jsx)(V.a.Label,{children:"Profile Image"}),Object(u.jsx)(Y,{imageUploaded:function(e){console.log(e),a(Object(l.a)(Object(l.a)({},c),{},{image:e}))}})]}),Object(u.jsxs)(V.a.Group,{children:[Object(u.jsx)(V.a.Label,{children:"Password"}),Object(u.jsx)(V.a.Control,{type:"password",onChange:s("password"),placeholder:"Password"})]}),Object(u.jsx)(K.a,{variant:"primary",onClick:function(e){var t;e.preventDefault(),a(Object(l.a)(Object(l.a)({},c),{},{error:!1,loading:!0})),console.log(c),(t=c,P.a.post(m+"admin",t).then((function(e){return console.log(e.data),e.data.error_message?(console.log(e.data.error_message),{error_message:e.data.error_message}):e.data})).catch((function(e){if(e.response)return{error_message:e.response.data.error_message};console.log(e)}))).then((function(e){e.error_message?(y.a.fire({title:e.error_message,icon:"error"}),a(Object(l.a)(Object(l.a)({},c),{},{error:e.error}))):(a({name:"",description:"",price:"",photo:"",stock:"",loading:!1}),y.a.fire({title:"Admin Added",icon:"success"}),window.location.reload(!0))})).catch((function(e){console.log(e),y.a.fire({title:"Something wrong occured",icon:"error"})}))},children:"Submit"})]})})]})})};var W=function(){var e=Object(i.i)();return Object(u.jsx)("div",{children:Object(u.jsxs)(C,{children:["     ",Object(u.jsxs)(i.d,{children:[Object(u.jsx)(i.b,{path:"".concat(e.path,"/all"),component:R}),Object(u.jsx)(i.b,{path:"".concat(e.path,"/create"),component:Q}),Object(u.jsx)(i.b,{path:"/",component:function(){return Object(u.jsx)("h1",{children:"Admin Index Page"})}})]})]})})};var Z=function(){var e=Object(n.useState)(!1),t=Object(O.a)(e,2),c=t[0],a=t[1],r=Object(d.c)((function(e){return e.auth.token})),s=Object(d.c)((function(e){return e.auth.loggedIn})),o=Object(i.g)(),j=Object(d.b)(),b=Object(n.useState)({email:"",password:"",error:"",loading:!1,redirectNow:!1}),h=Object(O.a)(b,2),f=h[0],x=h[1],p=Object(n.useState)(!1),g=Object(O.a)(p,2);g[0],g[1],Object(n.useEffect)((function(){a(r&&null!==r.token&&s),x(Object(l.a)(Object(l.a)({},f),{},{error:"",success:!1}))}),[]);var v=f.email,N=f.password,y=f.error,_=f.loading,C=f.redirectNow,w=function(e){return function(t){x(Object(l.a)(Object(l.a)({},f),{},Object(q.a)({error:!1},e,t.target.value)))}},S=function(e){e.preventDefault(),x(Object(l.a)(Object(l.a)({},f),{},{error:!1,loading:!0})),function(e){return fetch("".concat(m,"auth/admin/login"),{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(e)}).then((function(e){return e.json()})).catch((function(e){return console.log(e)}))}({email:v,password:N}).then((function(e){if(e.error)x(Object(l.a)(Object(l.a)({},f),{},{error:e.error,loading:!1}));else try{j(function(e){localStorage.setItem("token",e.token),localStorage.setItem("access_level",e.access_level),localStorage.setItem("user",{name:e.user.name,email:e.user.email});var t=!(!e.token||!e.user);return localStorage.setItem("loggedIn",t),e.loggedIn=t,{type:"auth/Login",payload:e}}(e)),x(Object(l.a)(Object(l.a)({},f),{},{error:!1,loading:!1})),o.push("/")}catch(y){x(Object(l.a)(Object(l.a)({},f),{},{error:"Invalid Credentials",loading:!1}))}})).catch((function(e){x(Object(l.a)(Object(l.a)({},f),{},{error:"Invalid Credentials",loading:!1})),console.log("Login request failed",e)}))};return Object(u.jsx)("div",{children:Object(u.jsxs)(z.a,{active:_,spinner:!0,text:"please wait for a while ...",children:[c&&Object(u.jsx)(i.a,{to:"/"}),!c&&Object(u.jsx)("div",{id:"layoutAuthentication",children:Object(u.jsx)("div",{id:"layoutAuthentication_content",children:Object(u.jsx)("main",{children:Object(u.jsx)("div",{className:"container",children:Object(u.jsx)("div",{className:"row justify-content-center",children:Object(u.jsx)("div",{className:"col-lg-5",children:Object(u.jsxs)("div",{className:"card shadow-lg border-0 rounded-lg mt-5",children:[Object(u.jsxs)("div",{className:"card-header card-sign-header",children:[Object(u.jsxs)("h3",{className:"text-center font-weight-light my-4",children:["Subidhaonline"," "]}),Object(u.jsx)("hr",{}),Object(u.jsx)("h4",{className:"text-center font-weight-light my-4",children:"Admin Login"})]}),Object(u.jsx)("div",{className:"card-body",children:Object(u.jsxs)("form",{children:[Object(u.jsx)("small",{className:"text-danger",children:y}),Object(u.jsxs)("div",{className:"form-group",children:[Object(u.jsx)("label",{className:"form-label",children:"Email*"}),Object(u.jsx)("input",{className:"form-control py-3",id:"inputEmailAddress",type:"email",onChange:w("email"),value:v,placeholder:"Enter email address"})]}),Object(u.jsxs)("div",{className:"form-group",children:[Object(u.jsx)("label",{className:"form-label",children:"Password*"}),Object(u.jsx)("input",{className:"form-control py-3",id:"inputPassword",type:"password",onChange:w("password"),value:N,placeholder:"Enter password"})]}),Object(u.jsx)("div",{className:"form-group d-flex align-items-center justify-content-between mt-4 mb-0",children:Object(u.jsx)("a",{className:"btn btn-sign hover-btn",onClick:function(e){return S(e)},children:"Login"})})]})})]})})})})})})}),C&&Object(u.jsx)(i.a,{to:"/"})]})})};var $=function(){var e=Object(n.useState)({eng_name:"",nep_name:"",image:null,description:"",short_name:"",error:"",loading:!1,redirectNow:!1}),t=Object(O.a)(e,2),c=t[0],a=t[1];Object(n.useEffect)((function(){a(Object(l.a)(Object(l.a)({},c),{},{error:"",success:!1}))}),[]),c.eng_name,c.nep_name,c.description,c.short_name;var r=c.error,s=(c.loading,c.redirectNow,c.image,function(e){return function(t){var n=t.target.value;a(Object(l.a)(Object(l.a)({},c),{},Object(q.a)({},e,n)))}});return Object(u.jsx)(C,{children:Object(u.jsx)("div",{className:"row",style:{width:"100%"},children:Object(u.jsxs)("div",{className:"col-lg-10 offset-lg-1 p-3",children:[Object(u.jsx)("h4",{children:"Add Category"}),Object(u.jsx)("div",{className:"alert alert-primary",children:Object(u.jsxs)(V.a,{children:[Object(u.jsxs)(V.a.Group,{children:[Object(u.jsx)(V.a.Label,{children:"English Name "}),Object(u.jsx)(V.a.Control,{onChange:s("eng_name"),type:"text",placeholder:"Enter English name"}),Object(u.jsx)(V.a.Text,{className:"text-muted"})]}),Object(u.jsxs)(V.a.Group,{children:[Object(u.jsx)(V.a.Label,{children:"Nepali Name "}),Object(u.jsx)(V.a.Control,{onChange:s("nep_name"),type:"text",placeholder:"Enter Nepali name"}),Object(u.jsx)(V.a.Text,{className:"text-muted"})]}),Object(u.jsxs)(V.a.Group,{children:[Object(u.jsx)(V.a.Label,{children:"Short Name"}),Object(u.jsx)(V.a.Control,{onChange:s("short_name"),type:"text",placeholder:"Enter short name"}),Object(u.jsx)(V.a.Text,{className:"text-muted"})]}),Object(u.jsxs)(V.a.Group,{children:[Object(u.jsx)(V.a.Label,{children:"Description "}),Object(u.jsx)(V.a.Control,{as:"textarea",onChange:s("description"),rows:3}),Object(u.jsx)(V.a.Text,{className:"text-muted"})]}),Object(u.jsxs)(V.a.Group,{children:[Object(u.jsx)(V.a.Label,{children:"Category Image"}),Object(u.jsx)(Y,{imageUploaded:function(e){console.log(e),a(Object(l.a)(Object(l.a)({},c),{},{image:e}))}})]}),Object(u.jsx)("small",{className:"text-danger",children:r})," ",Object(u.jsx)("br",{}),Object(u.jsx)(K.a,{variant:"primary",onClick:function(e){var t;e.preventDefault(),a(Object(l.a)(Object(l.a)({},c),{},{error:!1,loading:!0})),console.log(c),(t=c,P.a.post(m+"category",t).then((function(e){return console.log(e),e.data})).catch((function(e){return e.response?(console.log(e.response),{error_message:e.response.data.error_message}):e}))).then((function(e){console.log(e),e.error_message?(y.a.fire({title:e.error_message,icon:"error"}),a(Object(l.a)(Object(l.a)({},c),{},{error:e.error}))):(a({eng_name:"",nep_name:"",description:"",short_name:"",image:"",loading:!1}),y.a.fire({title:"Category Added",icon:"success"}),window.location.reload(!0))})).catch((function(e){console.log(e),y.a.fire({title:"Something wrong occured",icon:"error"})}))},children:"Submit"})]})})]})})})};var ee=function(){Object(i.g)();var e=Object(n.useState)([]),t=Object(O.a)(e,2),c=t[0],r=t[1];Object(n.useEffect)((function(){s()}),[]);var s=function(){var e=Object(k.a)(E.a.mark((function e(){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:I().then((function(e){r(e)}));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),o=a.a.useMemo((function(){return[{Header:"#SN",accessor:function(e){return e.email},Cell:function(e){return Object(u.jsx)("span",{children:e.row.index+1})}},{Header:"Category ID",accessor:"_id"},{Header:"In Home",accessor:"inHome",Cell:function(e){return Object(u.jsx)("span",{children:Object(u.jsx)("a",{style:{cursor:"pointer"},className:"text-"+("true"==e.value?"success":"danger"),onClick:function(){return j(e.data[e.row.index])},children:e&&"true"==e.value?Object(u.jsx)("i",{className:"fa fa-check"}):Object(u.jsx)("i",{className:"fa fa-times"})})})}},{Header:"Eng Name",accessor:"eng_name"},{Header:"Nep Name",accessor:"nep_name"},{Header:"Image",accessor:"image",Cell:function(e){var t=e.value;return Object(u.jsx)(M.a,{alt:"Remy Sharp",src:L("product/"+t)})}},{Header:"Actions",accessor:function(e){return e.name},Cell:function(e){return Object(u.jsx)(l,{values:e})}}]}),[]),l=function(e){var t=e.values;return Object(u.jsxs)("div",{className:"btn-group rounded-0",children:[Object(u.jsx)("button",{onClick:function(){return b(t.data[t.row.index])},className:"rounded-0 btn btn-sm btn-outline-info",children:Object(u.jsx)("i",{className:"fa fa-pen"})}),Object(u.jsx)("button",{onClick:function(){return d(t.data[t.row.index])},className:"rounded-0 btn btn-sm btn-outline-danger",children:Object(u.jsx)("i",{className:"fa fa-trash"})})]})},j=function(e){console.log(e),G({_id:e._id},{inHome:"true"!==e.inHome}).then((function(t){y.a.fire({title:"Products of this category will "+("true"===e.inHome?"not be visible in home":"be visible in home"),icon:"info"}),s()})).catch((function(e){console.log(e)}))},d=function(e){y.a.fire({title:"Do you want to remove this category ?",showCancelButton:!0,confirmButtonText:"yes delete",icon:"error"}).then((function(t){var c;t.isConfirmed?(c=e,P.a.delete(m+"category/"+c._id).then((function(e){return e.json()})).catch((function(e){return console.log(e)}))).then((function(e){s(),y.a.fire("Category Deleted !")})).catch((function(e){y.a.fire({title:"Some error occured !",icon:"error"}),console.log(e)})):y.a.fire("Deletion cancelled!")}))},b=function(e){y.a.fire({title:"Sorry This feature is under maintainance",icon:"info"})};return Object(u.jsx)(C,{children:Object(u.jsxs)("div",{className:"container py-3 ",children:[Object(u.jsx)("h4",{children:"All Categories"}),Object(u.jsx)("div",{className:"rounded-0 alert alert-primary",children:Object(u.jsxs)("div",{className:"card p-3",children:[c&&c.length>0&&Object(u.jsx)(B,{columns:o,data:c}),!c&&Object(u.jsx)("p",{children:"No categories found please create category"})]})})]})})},te=c(33),ce=c(26),ne=c(27),ae=c.n(ne),re=c(40);c(196);var se=function(e){var t=e.values,c=Object(n.useState)(""),a=Object(O.a)(c,2),r=a[0],s=a[1],o=Object(n.useState)([]),i=Object(O.a)(o,2),l=i[0],j=i[1],d=Object(n.useState)(!1),b=Object(O.a)(d,2),h=b[0],f=b[1];return Object(u.jsx)("div",{children:Object(u.jsxs)("div",{className:"d-flex alert alert-info",children:[Object(u.jsx)("div",{className:"container-fluid",children:Object(u.jsx)("input",{className:"taginput form-control",value:r,placeholder:"Enter tags ",onKeyDown:function(e){var c=e.key,n=e.code,a=r.trim();if(","!==c&&"Enter"!==c&&"Space"!==n||!a.length||l.includes(a)||(e.preventDefault(),j((function(e){return[].concat(Object(te.a)(e),[a])})),t([].concat(Object(te.a)(l),[a])),s("")),"Backspace"===c&&!r.length&&l.length&&h){var o=Object(te.a)(l),i=o.pop();e.preventDefault(),j(o),t(o),s(i)}f(!1)},onKeyUp:function(){f(!0)},onChange:function(e){var t=e.target.value;s(t)}})}),Object(u.jsx)("div",{className:"container-fluid",children:l.map((function(e,c){return Object(u.jsxs)("div",{className:"badge badge-success m-3",children:[e,Object(u.jsx)("span",{className:"badge badge-danger badge-sm ",onClick:function(){return function(e){j((function(t){return t.filter((function(t,c){return c!==e}))})),t(l.filter((function(t,c){return c!==e})))}(c)},children:Object(u.jsx)("i",{className:"fa fa-times"})})]},c)}))})]})})};var oe=function(){var e=Object(n.useState)({eng_name:"",nep_name:"",tags:[],description:"",short_description:"",product_details:"",product_source:"",price:null,discount:null,product_source_type:"",category:{},stock:null,images:[""],error:"",loading:!1,redirectNow:!1}),t=Object(O.a)(e,2),c=t[0],a=t[1],r=Object(n.useState)([]),s=Object(O.a)(r,2),o=(s[0],s[1],Object(n.useState)([])),i=Object(O.a)(o,2),j=i[0],d=i[1];Object(n.useEffect)((function(){a(Object(l.a)(Object(l.a)({},c),{},{error:"",success:!1})),I().then((function(e){var t=e.map((function(e){return{label:e.eng_name,value:e}}));d(t)}))}),[]);var b=function(e,t){var n=g;n[t]=e,a(Object(l.a)(Object(l.a)({},c),{},{images:Object(te.a)(n)})),console.log(g)},h=(c.name,c.description),f=c.product_source_type,x=(c.category,c.price,c.discount,c.short_description,c.tags),p=(c.product_details,c.product_source,c.stock,c.error),g=(c.loading,c.redirectNow,c.images),v=function(e){return function(t){var n=t.target.value;a(Object(l.a)(Object(l.a)({},c),{},Object(q.a)({},e,n)))}};function N(e){console.log(e),a(Object(l.a)(Object(l.a)({},c),{},{tags:e}))}return Object(u.jsx)(C,{children:Object(u.jsx)("div",{className:"row",style:{width:"100%"},children:Object(u.jsxs)("div",{className:"col-lg-10 offset-lg-1 p-3",children:[Object(u.jsx)("h4",{children:"Add Product"}),Object(u.jsx)("div",{className:"alert alert-primary",children:Object(u.jsxs)(V.a,{children:[Object(u.jsxs)(V.a.Group,{children:[Object(u.jsx)(V.a.Label,{children:"English Name "}),Object(u.jsx)(V.a.Control,{onChange:v("eng_name"),type:"text",placeholder:"Enter English name"}),Object(u.jsx)(V.a.Text,{className:"text-muted"})]}),Object(u.jsxs)(V.a.Group,{children:[Object(u.jsx)(V.a.Label,{children:"Nepali Name "}),Object(u.jsx)(V.a.Control,{onChange:v("nep_name"),type:"text",placeholder:"Enter Nepali name"}),Object(u.jsx)(V.a.Text,{className:"text-muted"})]}),Object(u.jsxs)(V.a.Group,{children:[Object(u.jsx)(V.a.Label,{children:"Price"}),Object(u.jsx)(V.a.Control,{onChange:v("price"),type:"number",placeholder:"Enter Price (Nrs)"}),Object(u.jsx)(V.a.Text,{className:"text-muted"})]}),Object(u.jsxs)(V.a.Group,{children:[Object(u.jsx)(V.a.Label,{children:"Discount"}),Object(u.jsx)(V.a.Control,{onChange:v("discount"),type:"number",placeholder:"Enter Discount % "}),Object(u.jsx)(V.a.Text,{className:"text-muted"})]}),Object(u.jsxs)(V.a.Group,{children:[Object(u.jsx)(V.a.Label,{children:"Stock"}),Object(u.jsx)(V.a.Control,{onChange:v("stock"),type:"number",placeholder:"Current Stock "}),Object(u.jsx)(V.a.Text,{className:"text-muted"})]}),Object(u.jsxs)(V.a.Group,{children:[Object(u.jsx)(V.a.Label,{children:"Description "}),Object(u.jsx)(ce.CKEditor,{editor:ae.a,data:h,onChange:function(e,t){!function(e){a(Object(l.a)(Object(l.a)({},c),{},{description:e}))}(t.getData())}})]}),Object(u.jsxs)(V.a.Group,{children:[Object(u.jsx)(V.a.Label,{children:"Short Description "}),Object(u.jsx)(V.a.Control,{as:"textarea",onChange:v("short_description"),rows:3}),Object(u.jsx)(V.a.Text,{className:"text-muted"})]}),Object(u.jsxs)(V.a.Group,{children:[Object(u.jsx)(V.a.Label,{children:"Product Tags "}),Object(u.jsx)(se,{values:function(e){return N(e)}})]}),Object(u.jsxs)(V.a.Group,{children:[Object(u.jsx)(V.a.Label,{children:"Product Source Type"}),Object(u.jsx)(re.a,{className:"basic-single",classNamePrefix:"select",defaultValue:f,isSearchable:!0,name:"",onChange:function(e,t){return n=e,console.log(n),void a(Object(l.a)(Object(l.a)({},c),{},{product_source_type:n.value}));var n},options:[{label:"Subidha Store",value:"MYSTORE"},{label:"External Vendor/Shop",value:"SHOP"}]})]}),Object(u.jsxs)(V.a.Group,{children:[Object(u.jsx)(V.a.Label,{children:"Category"}),Object(u.jsx)(re.a,{className:"basic-single",classNamePrefix:"select",defaultValue:j[0],isSearchable:!0,name:"",onChange:function(e){return t=e,console.log(t),void a(Object(l.a)(Object(l.a)({},c),{},{category:{name:t.value.eng_name,cat_id:t.value._id}}));var t},options:j})]}),Object(u.jsxs)(V.a.Group,{children:[Object(u.jsx)(V.a.Label,{children:"Product Main Image"}),Object(u.jsx)(Y,{imageUploaded:function(e,t){return b(e,0)}})]}),Object(u.jsxs)(V.a.Group,{children:[Object(u.jsx)(V.a.Label,{children:"Other Images (optional)"}),Object(u.jsx)(Y,{imageUploaded:function(e,t){return b(e,1)}}),Object(u.jsx)(Y,{imageUploaded:function(e,t){return b(e,2)}}),Object(u.jsx)(Y,{imageUploaded:function(e,t){return b(e,3)}}),Object(u.jsx)(Y,{imageUploaded:function(e,t){return b(e,4)}})]}),Object(u.jsx)("small",{className:"text-danger",children:p})," ",Object(u.jsx)("br",{}),Object(u.jsx)(K.a,{variant:"primary",onClick:function(e){var t;e.preventDefault(),a(Object(l.a)(Object(l.a)({},c),{},{error:!1,loading:!0})),console.log(c),x&&0!=x.length&&""!=x[0]?""!=g[0]&&g[0]?(t=c,P.a.post(m+"product",t).then((function(e){return e.data})).catch((function(e){return e.response?{error_message:e.response.data.error_message}:e}))).then((function(e){e.error_message?(y.a.fire({title:e.error_message,icon:"error"}),a(Object(l.a)(Object(l.a)({},c),{},{error:e.error}))):(console.log(e),a({eng_name:"",nep_name:"",tags:[],product_no:"",description:"",short_name:"",short_description:"",category:{},image:"",stock:null,loading:!1,product_source_type:""}),y.a.fire({title:"product added",icon:"success"}),window.location.reload(!0))})).catch((function(e){console.log(e),y.a.fire({title:"Something wrong occured",icon:"error"})})):y.a.fire({title:"main image missing",icon:"error"}):y.a.fire({title:"Product tags empty",icon:"error"})},children:"Submit"})]})})]})})})};c(96);var ie=function(){Object(i.g)();var e=Object(n.useState)([]),t=Object(O.a)(e,2),c=t[0],r=t[1];Object(n.useEffect)((function(){s()}),[]);var s=function(){var e=Object(k.a)(E.a.mark((function e(){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,P.a.get("".concat(m,"product")).then((function(e){return e.data})).catch((function(e){return e.response?{error_message:e.response.data.error_message}:e})).then((function(e){r(e)}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),o=a.a.useMemo((function(){return[{Header:"#SN",accessor:function(e){return e.name},Cell:function(e){return Object(u.jsx)("span",{children:e.row.index+1})}},{Header:"English Name",accessor:"eng_name"},{Header:"Nepali Name",accessor:"nep_name"},{Header:"status",accessor:"status",Cell:function(e){return Object(u.jsx)("span",{children:Object(u.jsx)("a",{style:{cursor:"pointer"},className:"text-"+(e&&"Active"==e.value?"success":"secondary"),onClick:function(){return j(e.data[e.row.index])},children:e.value})})}},{Header:"Category",accessor:"category",Cell:function(e){return Object(u.jsx)("span",{children:e.value.name})}},{Header:"Featured",accessor:"featured",Cell:function(e){return Object(u.jsx)("span",{children:Object(u.jsx)("a",{style:{cursor:"pointer"},className:"text-"+(1==(e&&e.value)?"success":"danger"),onClick:function(){return l(e.data[e.row.index])},children:e&&e.value?Object(u.jsx)("i",{className:"fa fa-check"}):Object(u.jsx)("i",{className:"fa fa-times"})})})}},{Header:"Image",accessor:"images",Cell:function(e){var t=e.value;return Object(u.jsx)(M.a,{alt:" ",src:L("product/"+t[0])})}},{Header:"Actions",accessor:function(e){return e.name},Cell:function(e){return Object(u.jsx)(d,{values:e})}}]}),[]),l=function(e){console.log(e);var t=!0!==e.featured;A({_id:e._id},{featured:t}).then((function(e){s(),y.a.fire("Product is now "+(t?"featured":"normal"))})).catch((function(e){console.log(e)}))},j=function(e){console.log(e);var t=e.status&&"Active"===e.status?"Inactive":"Active";A({_id:e._id},{status:t}).then((function(e){y.a.fire("Product is now "+t),s()})).catch((function(e){console.log(e)}))},d=function(e){var t=e.values;return Object(u.jsxs)("div",{className:"btn-group rounded-0",children:[Object(u.jsx)("button",{onClick:function(e){return h(t.data[t.row.index])},className:"rounded-0 btn btn-sm btn-outline-info",children:Object(u.jsx)("i",{className:"fa fa-pen"})}),Object(u.jsx)("button",{onClick:function(e){return b(t.data[t.row.index])},className:"rounded-0 btn btn-sm btn-outline-danger",children:Object(u.jsx)("i",{className:"fa fa-trash"})})]})},b=function(e){y.a.fire({title:"Do you want to delete this product ?",showCancelButton:!0,confirmButtonText:"yes delete"}).then((function(t){var c;t.isConfirmed?(c=e,P.a.delete(m+"product/"+c._id).then((function(e){return console.log(e),e.data})).catch((function(e){return e.response?{error_message:e.response.data.error_message}:e}))).then((function(e){s(),y.a.fire("Product Deleted")})).catch((function(e){console.log(e)})):y.a.fire("Deletion cancelled!")}))},h=function(e){y.a.fire({title:"Sorry This feature is under maintainance",icon:"info"})};return Object(u.jsx)(C,{children:Object(u.jsxs)("div",{className:"container py-3",children:[Object(u.jsx)("h4",{children:"All Products"}),Object(u.jsx)("div",{className:"alert alert-primary rounded-0",children:c&&c.length>0&&Object(u.jsx)("div",{className:"card p-3",children:Object(u.jsx)(B,{columns:o,data:c})})})]})})};var le=function(){var e=Object(i.h)().id,t=Object(n.useState)(null),c=Object(O.a)(t,2),a=c[0],r=c[1],s=Object(n.useState)({eng_name:"",nep_name:"",tags:[],description:"",short_description:"",product_details:"",product_source:"",price:null,discount:null,product_source_type:"",category:{},stock:null,images:[""],short_name:"",error:"",loading:!1,redirectNow:!1}),o=Object(O.a)(s,2),j=o[0],d=o[1],b=Object(n.useState)([]),h=Object(O.a)(b,2),f=h[0],x=h[1];Object(n.useEffect)((function(){d(Object(l.a)(Object(l.a)({},j),{},{error:"",success:!1})),I().then((function(t){var c=t.map((function(e){return{label:e.eng_name,value:e}}));x(c),D(e).then((function(e){console.log(e),r(e),d(Object(l.a)(Object(l.a)({},j),e));var t=f.filter((function(t){return t.label==e.category.name}))[0];d(Object(l.a)(Object(l.a)({},j),{},{category:t})),console.log(t),console.log(j)})).catch((function(e){console.log(e)}))}))}),[]);var m=function(e,t){var c=T;c[t]=e,d(Object(l.a)(Object(l.a)({},j),{},{images:Object(te.a)(c)})),console.log(T)},p=j.eng_name,g=j.nep_name,v=j.description,N=j.product_source_type,y=j.category,_=j.price,w=j.discount,S=j.short_description,E=(j.product_details,j.product_source,j.stock,j.error),k=(j.loading,j.redirectNow,j.short_name),T=j.images,P=function(e){return function(t){var c=t.target.value;d(Object(l.a)(Object(l.a)({},j),{},Object(q.a)({},e,c)))}};return Object(u.jsx)(C,{children:a&&Object(u.jsx)("div",{className:"row",style:{width:"100%"},children:Object(u.jsxs)("div",{className:"col-lg-10 offset-lg-1 p-3",children:[Object(u.jsx)("h4",{children:"Edit Product"}),Object(u.jsx)("div",{className:"alert alert-primary",children:Object(u.jsxs)(V.a,{children:[Object(u.jsxs)(V.a.Group,{children:[Object(u.jsx)(V.a.Label,{children:"English Name "}),Object(u.jsx)(V.a.Control,{onChange:P("eng_name"),type:"text",value:p,placeholder:"Enter English name"}),Object(u.jsx)(V.a.Text,{className:"text-muted"})]}),Object(u.jsxs)(V.a.Group,{children:[Object(u.jsx)(V.a.Label,{children:"Nepali Name "}),Object(u.jsx)(V.a.Control,{onChange:P("nep_name"),type:"text",value:g,placeholder:"Enter Nepali name"}),Object(u.jsx)(V.a.Text,{className:"text-muted"})]}),Object(u.jsxs)(V.a.Group,{children:[Object(u.jsx)(V.a.Label,{children:"Short Name"}),Object(u.jsx)(V.a.Control,{value:k,onChange:P("short_name"),type:"text",placeholder:"Enter short name"}),Object(u.jsx)(V.a.Text,{className:"text-muted"})]}),Object(u.jsxs)(V.a.Group,{children:[Object(u.jsx)(V.a.Label,{children:"Price"}),Object(u.jsx)(V.a.Control,{onChange:P("price"),type:"number",value:_,placeholder:"Enter Price (Nrs)"}),Object(u.jsx)(V.a.Text,{className:"text-muted"})]}),Object(u.jsxs)(V.a.Group,{children:[Object(u.jsx)(V.a.Label,{children:"Discount"}),Object(u.jsx)(V.a.Control,{onChange:P("discount"),type:"number",value:w,placeholder:"Enter Discount % "}),Object(u.jsx)(V.a.Text,{className:"text-muted"})]}),Object(u.jsxs)(V.a.Group,{children:[Object(u.jsx)(V.a.Label,{children:"Description "}),Object(u.jsx)(ce.CKEditor,{editor:ae.a,data:v,value:v,onChange:function(e,t){!function(e){d(Object(l.a)(Object(l.a)({},j),{},{description:e}))}(t.getData())}})]}),Object(u.jsxs)(V.a.Group,{children:[Object(u.jsx)(V.a.Label,{children:"Short Description "}),Object(u.jsx)(V.a.Control,{as:"textarea",value:S,onChange:P("short_description"),rows:3}),Object(u.jsx)(V.a.Text,{className:"text-muted"})]}),Object(u.jsxs)(V.a.Group,{children:[Object(u.jsx)(V.a.Label,{children:"Product Source Type"}),Object(u.jsx)(re.a,{className:"basic-single",classNamePrefix:"select",defaultValue:N,isSearchable:!0,name:"",onChange:function(e,t){return c=e,console.log(c),void d(Object(l.a)(Object(l.a)({},j),{},{product_source_type:c.value}));var c},options:[{label:"Subidha Store",value:"MYSTORE"},{label:"External Vendor/Shop",value:"SHOP"}]})]}),Object(u.jsxs)(V.a.Group,{children:[Object(u.jsx)(V.a.Label,{children:"Category"}),Object(u.jsx)(re.a,{className:"basic-single",classNamePrefix:"select",defaultValue:y,isSearchable:!0,name:"",onChange:function(e){return t=e,console.log(t),void d(Object(l.a)(Object(l.a)({},j),{},{category:{name:t.value.eng_name,cat_id:t.value._id}}));var t},options:f})]}),Object(u.jsxs)(V.a.Group,{children:[Object(u.jsx)(V.a.Label,{children:"Product Main Image"}),Object(u.jsx)(Y,{imageUploaded:function(e,t){return m(e,0)}})]}),Object(u.jsxs)(V.a.Group,{children:[Object(u.jsx)(V.a.Label,{children:"Other Images (optional)"}),Object(u.jsx)(Y,{imageUploaded:function(e,t){return m(e,1)}}),Object(u.jsx)(Y,{imageUploaded:function(e,t){return m(e,2)}}),Object(u.jsx)(Y,{imageUploaded:function(e,t){return m(e,3)}}),Object(u.jsx)(Y,{imageUploaded:function(e,t){return m(e,4)}})]}),Object(u.jsx)("small",{className:"text-danger",children:E})," ",Object(u.jsx)("br",{}),Object(u.jsx)(K.a,{variant:"primary",onClick:function(t){t.preventDefault(),d(Object(l.a)(Object(l.a)({},j),{},{error:!1,loading:!0})),console.log(j),H(j,e).then((function(e){e.error?d(Object(l.a)(Object(l.a)({},j),{},{error:e.error})):(console.log(e),d({eng_name:"",nep_name:"",tags:[],product_no:"",description:"",short_name:"",short_description:"",category:{},image:"",loading:!1,product_source_type:""}))})).catch((function(e){console.log(e)}))},children:"Submit"})]})})]})})})};var je=function(){var e=Object(n.useState)([]),t=Object(O.a)(e,2),c=t[0],a=t[1],r=Object(n.useState)({offer_name:"",title:"",sub_title:"",tags:[],real_price:"",offer_price:"",discount:null,category:{},stock:null,description:"",images:[""],products:[],error:"",loading:!1}),s=Object(O.a)(r,2),o=s[0],i=s[1];Object(n.useEffect)((function(){i(Object(l.a)(Object(l.a)({},o),{},{error:"",success:!1})),I().then((function(e){var t=e.map((function(e){return{label:e.eng_name,value:e}}));a(t)}))}),[]),o.name,o.sub_title,o.products;var j=o.tags,d=o.images,b=(o.error,o.description),h=(o.loading,function(e){return function(t){var c=t.target.value;i(Object(l.a)(Object(l.a)({},o),{},Object(q.a)({},e,c)))}});function f(e){console.log(e),i(Object(l.a)(Object(l.a)({},o),{},{tags:e}))}return Object(u.jsx)(C,{children:Object(u.jsx)("div",{className:"row",style:{width:"100%"},children:Object(u.jsx)("div",{className:"col-lg-10 offset-lg-1 p-3",children:Object(u.jsxs)("div",{className:"card",children:[Object(u.jsx)("div",{className:"card-header",children:Object(u.jsx)("h4",{children:"Add Offer"})}),Object(u.jsx)("div",{className:"card-body",children:Object(u.jsxs)(V.a,{children:[Object(u.jsxs)(V.a.Group,{children:[Object(u.jsx)(V.a.Label,{children:"Offer Name "}),Object(u.jsx)(V.a.Control,{onChange:h("offer_name"),type:"text",placeholder:"Enter Offer Name"}),Object(u.jsx)(V.a.Text,{className:"text-muted"})]}),Object(u.jsxs)(V.a.Group,{children:[Object(u.jsx)(V.a.Label,{children:"Title "}),Object(u.jsx)(V.a.Control,{onChange:h("title"),type:"text",placeholder:"Enter Title"}),Object(u.jsx)(V.a.Text,{className:"text-muted"})]}),Object(u.jsxs)(V.a.Group,{children:[Object(u.jsx)(V.a.Label,{children:"Sub Title"}),Object(u.jsx)(V.a.Control,{placeholder:"Enter Title",onChange:h("sub_title")}),Object(u.jsx)(V.a.Text,{className:"text-muted"})]}),Object(u.jsxs)(V.a.Group,{children:[Object(u.jsx)(V.a.Label,{children:"Offer Tags "}),Object(u.jsx)(se,{values:function(e){return f(e)}})]}),Object(u.jsxs)(V.a.Group,{children:[Object(u.jsx)(V.a.Label,{children:"Real Price"}),Object(u.jsx)(V.a.Control,{onChange:h("real_price"),type:"number",placeholder:"Enter Real Price (Nrs)"}),Object(u.jsx)(V.a.Text,{className:"text-muted"})]}),Object(u.jsxs)(V.a.Group,{children:[Object(u.jsx)(V.a.Label,{children:"Offer Price"}),Object(u.jsx)(V.a.Control,{onChange:h("offer_price"),type:"number",placeholder:"Enter Offer Price (Nrs)"}),Object(u.jsx)(V.a.Text,{className:"text-muted"})]}),Object(u.jsxs)(V.a.Group,{children:[Object(u.jsx)(V.a.Label,{children:"Discount % (Only for show)"}),Object(u.jsx)(V.a.Control,{onChange:h("discount"),type:"number",placeholder:"Enter Offer Price (Nrs)"}),Object(u.jsx)(V.a.Text,{className:"text-muted"})]}),Object(u.jsxs)(V.a.Group,{children:[Object(u.jsx)(V.a.Label,{children:"Category"}),Object(u.jsx)(re.a,{className:"basic-single",classNamePrefix:"select",defaultValue:c[0],isSearchable:!0,name:"",onChange:function(e){return t=e,console.log(t),void i(Object(l.a)(Object(l.a)({},o),{},{category:{name:t.value.eng_name,cat_id:t.value._id}}));var t},options:c})]}),Object(u.jsxs)(V.a.Group,{children:[Object(u.jsx)(V.a.Label,{children:"Stock"}),Object(u.jsx)(V.a.Control,{onChange:h("stock"),type:"number",placeholder:"Current Stock "}),Object(u.jsx)(V.a.Text,{className:"text-muted"})]}),Object(u.jsxs)(V.a.Group,{children:[Object(u.jsx)(V.a.Label,{children:"Description [This is how your main offer page looks like]"}),Object(u.jsx)(ce.CKEditor,{editor:ae.a,data:b,onChange:function(e,t){!function(e){i(Object(l.a)(Object(l.a)({},o),{},{description:e}))}(t.getData())}})]}),Object(u.jsxs)(V.a.Group,{children:[Object(u.jsx)(V.a.Label,{children:"Offer Main Image"}),Object(u.jsx)(Y,{imageUploaded:function(e,t){return function(e,t){var c=d;c[t]=e,i(Object(l.a)(Object(l.a)({},o),{},{images:Object(te.a)(c)})),console.log(d)}(e,0)}})]}),Object(u.jsx)(K.a,{variant:"primary",onClick:function(e){var t;e.preventDefault(),i(Object(l.a)(Object(l.a)({},o),{},{error:!1,loading:!0})),console.log(o),j&&0!=j.length&&""!=j[0]?""!=d[0]&&d[0]?(console.log(o),(t=o,P.a.post(m+"offer",t).then((function(e){return e.data})).catch((function(e){return e.response?{error_message:e.response.data.error_message}:e}))).then((function(e){e.error_message?(y.a.fire({title:e.error_message,icon:"error"}),i(Object(l.a)(Object(l.a)({},o),{},{error:e.error}))):(i({offer_name:"",title:"",sub_title:"",tags:[],real_price:"",offer_price:"",discount:null,category:{},stock:null,description:"",images:[""],error:"",loading:!1}),y.a.fire({title:"offer added",icon:"success"}),window.location.reload(!0))})).catch((function(e){console.log(e),y.a.fire({title:"Something wrong occured",icon:"error"})}))):y.a.fire({title:"main image missing",icon:"error"}):y.a.fire({title:"Offer tags empty",icon:"error"})},children:"Submit"})]})})]})})})})};var de=function(){Object(i.g)();var e=Object(n.useState)([]),t=Object(O.a)(e,2),c=t[0],r=t[1];Object(n.useEffect)((function(){s()}),[]);var s=function(){var e=Object(k.a)(E.a.mark((function e(){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,P.a.get("".concat(m,"offer")).then((function(e){return e.data})).catch((function(e){return e.response?{error_message:e.response.data.error_message}:e})).then((function(e){r(e)}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),o=a.a.useMemo((function(){return[{Header:"#SN",accessor:function(e){return e.offer_name},Cell:function(e){return Object(u.jsx)("span",{children:e.row.index+1})}},{Header:"name",accessor:"offer_name"},{Header:"title ",accessor:"title"},{Header:"status",accessor:"offer_active",Cell:function(e){return Object(u.jsx)("span",{children:Object(u.jsx)("a",{style:{cursor:"pointer"},className:"text-"+(e&&1==e.value?"success":"secondary"),onClick:function(){return l(e.data[e.row.index])},children:e.value})})}},{Header:"Category",accessor:"category",Cell:function(e){return Object(u.jsx)("span",{children:e.value.name})}},{Header:"Image",accessor:"images",Cell:function(e){var t=e.value;return Object(u.jsx)(M.a,{alt:" ",src:L("product/"+t[0])})}},{Header:"Actions",accessor:function(e){return e.name},Cell:function(e){return Object(u.jsx)(j,{values:e})}}]}),[]),l=function(e){console.log(e);var t=e.status&&"Active"===e.status?"Inactive":"Active";(function(e,t){return P.a.put(m+"offer",{query:{_id:e._id},update:t}).then((function(e){return e.data})).catch((function(e){return e.response?{error_message:e.response.data.error_message}:e}))})({_id:e._id},{status:t}).then((function(e){y.a.fire("Offer is now "+t),s()})).catch((function(e){console.log(e)}))},j=function(e){var t=e.values;return Object(u.jsxs)("div",{className:"btn-group rounded-0",children:[Object(u.jsx)("button",{onClick:function(e){return b(t.data[t.row.index])},className:"rounded-0 btn btn-sm btn-outline-info",children:Object(u.jsx)("i",{className:"fa fa-pen"})}),Object(u.jsx)("button",{onClick:function(e){return d(t.data[t.row.index])},className:"rounded-0 btn btn-sm btn-outline-danger",children:Object(u.jsx)("i",{className:"fa fa-trash"})})]})},d=function(e){y.a.fire({title:"Do you want to delete this product ?",showCancelButton:!0,confirmButtonText:"yes delete"}).then((function(t){var c;t.isConfirmed?(c=e,P.a.delete(m+"offer/"+c._id).then((function(e){return console.log(e),e.data})).catch((function(e){return e.response?{error_message:e.response.data.error_message}:e}))).then((function(e){s(),y.a.fire("Offer Deleted")})).catch((function(e){console.log(e)})):y.a.fire("Deletion cancelled!")}))},b=function(e){y.a.fire({title:"Sorry This feature is under maintainance",icon:"info"})};return Object(u.jsx)(C,{children:Object(u.jsxs)("div",{className:"container py-3",children:[Object(u.jsx)("h4",{children:"All Offers"}),Object(u.jsx)("div",{className:"alert alert-primary rounded-0",children:c&&c.length>0&&Object(u.jsx)("div",{className:"card p-3",children:Object(u.jsx)(B,{columns:o,data:c})})})]})})};var ue=function(){var e=Object(i.h)().id,t=Object(n.useState)(null),c=Object(O.a)(t,2),a=c[0],r=c[1],s=Object(n.useState)({eng_name:"",nep_name:"",tags:[],description:"",short_description:"",product_details:"",product_source:"",price:null,discount:null,product_source_type:"",category:{},stock:null,images:[""],short_name:"",error:"",loading:!1,redirectNow:!1}),o=Object(O.a)(s,2),j=o[0],d=o[1],b=Object(n.useState)([]),h=Object(O.a)(b,2),f=h[0],x=h[1];Object(n.useEffect)((function(){d(Object(l.a)(Object(l.a)({},j),{},{error:"",success:!1})),I().then((function(t){var c=t.map((function(e){return{label:e.eng_name,value:e}}));x(c),D(e).then((function(e){console.log(e),r(e),d(Object(l.a)(Object(l.a)({},j),e));var t=f.filter((function(t){return t.label==e.category.name}))[0];d(Object(l.a)(Object(l.a)({},j),{},{category:t})),console.log(t),console.log(j)})).catch((function(e){console.log(e)}))}))}),[]);var m=function(e,t){var c=T;c[t]=e,d(Object(l.a)(Object(l.a)({},j),{},{images:Object(te.a)(c)})),console.log(T)},p=j.eng_name,g=j.nep_name,v=j.description,N=j.product_source_type,y=j.category,_=j.price,w=j.discount,S=j.short_description,E=(j.product_details,j.product_source,j.stock,j.error),k=(j.loading,j.redirectNow,j.short_name),T=j.images,P=function(e){return function(t){var c=t.target.value;d(Object(l.a)(Object(l.a)({},j),{},Object(q.a)({},e,c)))}};return Object(u.jsx)(C,{children:a&&Object(u.jsx)("div",{className:"row",style:{width:"100%"},children:Object(u.jsxs)("div",{className:"col-lg-10 offset-lg-1 p-3",children:[Object(u.jsx)("h4",{children:"Edit Product"}),Object(u.jsx)("div",{className:"alert alert-primary",children:Object(u.jsxs)(V.a,{children:[Object(u.jsxs)(V.a.Group,{children:[Object(u.jsx)(V.a.Label,{children:"English Name "}),Object(u.jsx)(V.a.Control,{onChange:P("eng_name"),type:"text",value:p,placeholder:"Enter English name"}),Object(u.jsx)(V.a.Text,{className:"text-muted"})]}),Object(u.jsxs)(V.a.Group,{children:[Object(u.jsx)(V.a.Label,{children:"Nepali Name "}),Object(u.jsx)(V.a.Control,{onChange:P("nep_name"),type:"text",value:g,placeholder:"Enter Nepali name"}),Object(u.jsx)(V.a.Text,{className:"text-muted"})]}),Object(u.jsxs)(V.a.Group,{children:[Object(u.jsx)(V.a.Label,{children:"Short Name"}),Object(u.jsx)(V.a.Control,{value:k,onChange:P("short_name"),type:"text",placeholder:"Enter short name"}),Object(u.jsx)(V.a.Text,{className:"text-muted"})]}),Object(u.jsxs)(V.a.Group,{children:[Object(u.jsx)(V.a.Label,{children:"Price"}),Object(u.jsx)(V.a.Control,{onChange:P("price"),type:"number",value:_,placeholder:"Enter Price (Nrs)"}),Object(u.jsx)(V.a.Text,{className:"text-muted"})]}),Object(u.jsxs)(V.a.Group,{children:[Object(u.jsx)(V.a.Label,{children:"Discount"}),Object(u.jsx)(V.a.Control,{onChange:P("discount"),type:"number",value:w,placeholder:"Enter Discount % "}),Object(u.jsx)(V.a.Text,{className:"text-muted"})]}),Object(u.jsxs)(V.a.Group,{children:[Object(u.jsx)(V.a.Label,{children:"Description "}),Object(u.jsx)(ce.CKEditor,{editor:ae.a,data:v,value:v,onChange:function(e,t){!function(e){d(Object(l.a)(Object(l.a)({},j),{},{description:e}))}(t.getData())}})]}),Object(u.jsxs)(V.a.Group,{children:[Object(u.jsx)(V.a.Label,{children:"Short Description "}),Object(u.jsx)(V.a.Control,{as:"textarea",value:S,onChange:P("short_description"),rows:3}),Object(u.jsx)(V.a.Text,{className:"text-muted"})]}),Object(u.jsxs)(V.a.Group,{children:[Object(u.jsx)(V.a.Label,{children:"Product Source Type"}),Object(u.jsx)(re.a,{className:"basic-single",classNamePrefix:"select",defaultValue:N,isSearchable:!0,name:"",onChange:function(e,t){return c=e,console.log(c),void d(Object(l.a)(Object(l.a)({},j),{},{product_source_type:c.value}));var c},options:[{label:"Subidha Store",value:"MYSTORE"},{label:"External Vendor/Shop",value:"SHOP"}]})]}),Object(u.jsxs)(V.a.Group,{children:[Object(u.jsx)(V.a.Label,{children:"Category"}),Object(u.jsx)(re.a,{className:"basic-single",classNamePrefix:"select",defaultValue:y,isSearchable:!0,name:"",onChange:function(e){return t=e,console.log(t),void d(Object(l.a)(Object(l.a)({},j),{},{category:{name:t.value.eng_name,cat_id:t.value._id}}));var t},options:f})]}),Object(u.jsxs)(V.a.Group,{children:[Object(u.jsx)(V.a.Label,{children:"Product Main Image"}),Object(u.jsx)(Y,{imageUploaded:function(e,t){return m(e,0)}})]}),Object(u.jsxs)(V.a.Group,{children:[Object(u.jsx)(V.a.Label,{children:"Other Images (optional)"}),Object(u.jsx)(Y,{imageUploaded:function(e,t){return m(e,1)}}),Object(u.jsx)(Y,{imageUploaded:function(e,t){return m(e,2)}}),Object(u.jsx)(Y,{imageUploaded:function(e,t){return m(e,3)}}),Object(u.jsx)(Y,{imageUploaded:function(e,t){return m(e,4)}})]}),Object(u.jsx)("small",{className:"text-danger",children:E})," ",Object(u.jsx)("br",{}),Object(u.jsx)(K.a,{variant:"primary",onClick:function(t){t.preventDefault(),d(Object(l.a)(Object(l.a)({},j),{},{error:!1,loading:!0})),console.log(j),H(j,e).then((function(e){e.error?d(Object(l.a)(Object(l.a)({},j),{},{error:e.error})):(console.log(e),d({eng_name:"",nep_name:"",tags:[],product_no:"",description:"",short_name:"",short_description:"",category:{},image:"",loading:!1,product_source_type:""}))})).catch((function(e){console.log(e)}))},children:"Submit"})]})})]})})})},be=function(e){var t=e.match,c=Object(n.useState)(""),a=Object(O.a)(c,2),r=(a[0],a[1]),s=Object(n.useState)(""),o=Object(O.a)(s,2),i=o[0],j=o[1];Object(n.useEffect)((function(){d(t.params.id)}),[]);var d=function(e){(function(e){return P.a.get("".concat(m,"category/single/")+e).then((function(e){return e.data})).catch((function(e){return console.log(e)}))})(e).then((function(e){r(e),j(e)})).catch((function(e){console.log(e),setError(e)}))};return Object(u.jsx)(C,{title:"update category",description:"",children:Object(u.jsxs)("form",{children:[Object(u.jsx)("div",{className:"form-group",children:Object(u.jsx)("input",{type:"text",onChange:function(e){j(Object(l.a)(Object(l.a)({},i),{},{name:e.target.value}))},name:"name",className:"form-control",placeholder:"Name",value:name})}),Object(u.jsx)("button",{type:"submit",onClick:function(e){e.preventDefault(),setError(""),setSuccess(!1),G(t.params.categoryId,user._id,token,name).then((function(e){e.error?setError(!0):(setError(""),setSuccess(!0),setName(""),setCreatedCategory(e.name))}))},className:"btn btn-outline-success mb-3",children:"Update Category"})]})})},Oe=c(103);c(206),c(207);Oe.a.initializeApp({apiKey:"AIzaSyDg-w2TxbUCBTnnbVAIRA5gipxo-TXOOCg",authDomain:"subidhaonline-de029.firebaseapp.com",projectId:"subidhaonline-de029",storageBucket:"subidhaonline-de029.appspot.com",messagingSenderId:"662339859667",appId:"1:662339859667:web:ee7f5611c61d7dc5ca9026",measurementId:"G-9G0WF7PJ05"});var he=Oe.a.firestore(),fe=he.collection("extras"),xe=he.collection("contactMessage"),me=he.collection("newsletter");var pe=function(){var e=Object(n.useState)(""),t=Object(O.a)(e,2),c=t[0],a=t[1],r=Object(n.useState)(""),s=Object(O.a)(r,2),o=s[0],i=s[1],l=Object(n.useState)(""),j=Object(O.a)(l,2),d=j[0],b=j[1];Object(n.useEffect)((function(){fe.orderBy("createdOn","desc").onSnapshot((function(e){var t=[];e.forEach((function(e){var c=e.data();c.id=e.id,t.push(c)}));var c=t.filter((function(e){return"ContactUs"==e.type}))[0];a(c?c.content:""),i(c?c.content:""),b(c.id),console.log(c)}))}),[]);var h=function(){var e=Object(k.a)(E.a.mark((function e(){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(o),e.next=3,fe.add({createdOn:new Date,content:o,type:"ContactUs"});case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),f=function(){var e=Object(k.a)(E.a.mark((function e(){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fe.doc(d).update({content:o});case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(u.jsx)("div",{children:Object(u.jsx)(C,{children:Object(u.jsx)("div",{className:"container-fluid",children:Object(u.jsx)("div",{className:"row",children:Object(u.jsx)("div",{className:"col-lg-12",children:Object(u.jsxs)("div",{className:"card",children:[Object(u.jsxs)("div",{className:"card-header",children:["Contact Us Page",Object(u.jsxs)("div",{className:"btn-group float-right",children:[o!=c&&Object(u.jsxs)("button",{onClick:function(){c||""==c?f():h()},className:"btn btn-light btn-sm",children:["Save ",Object(u.jsx)("i",{className:"fa fa-pencil"})]}),Object(u.jsxs)("button",{className:"btn btn-primary btn-sm",children:["Edit ",Object(u.jsx)("i",{className:"fa fa-pencil"})]})]})]}),Object(u.jsx)("div",{className:"card-body",children:Object(u.jsx)(ce.CKEditor,{editor:ae.a,data:o,onChange:function(e,t){!function(e){i(e)}(t.getData())}})})]})})})})})})};var ge=function(){var e=Object(n.useState)(""),t=Object(O.a)(e,2),c=t[0],a=t[1],r=Object(n.useState)(""),s=Object(O.a)(r,2),o=s[0],i=s[1],l=Object(n.useState)(""),j=Object(O.a)(l,2),d=j[0],b=j[1];Object(n.useEffect)((function(){fe.orderBy("createdOn","desc").onSnapshot((function(e){var t=[];e.forEach((function(e){var c=e.data();c.id=e.id,t.push(c)}));var c=t.filter((function(e){return"AboutUs"==e.type}))[0];a(c?c.content:""),i(c?c.content:""),b(c?c.id:""),console.log(c)}))}),[]);var h=function(){var e=Object(k.a)(E.a.mark((function e(){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(o),e.next=3,fe.add({createdOn:new Date,content:o,type:"AboutUs"});case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),f=function(){var e=Object(k.a)(E.a.mark((function e(){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fe.doc(d).update({content:o});case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(u.jsx)("div",{children:Object(u.jsx)(C,{children:Object(u.jsx)("div",{className:"container-fluid",children:Object(u.jsx)("div",{className:"row",children:Object(u.jsx)("div",{className:"col-lg-12",children:Object(u.jsxs)("div",{className:"card",children:[Object(u.jsxs)("div",{className:"card-header",children:["About Us Page",Object(u.jsxs)("div",{className:"btn-group float-right",children:[o!=c&&Object(u.jsxs)("button",{onClick:function(){return console.log(typeof c),void(c&&""==c&&""===d?f():h())},className:"btn btn-light btn-sm",children:["Save ",Object(u.jsx)("i",{className:"fa fa-pencil"})]}),Object(u.jsxs)("button",{className:"btn btn-primary btn-sm",children:["Edit ",Object(u.jsx)("i",{className:"fa fa-pencil"})]})]})]}),Object(u.jsx)("div",{className:"card-body",children:Object(u.jsx)(ce.CKEditor,{editor:ae.a,data:o,onChange:function(e,t){!function(e){i(e)}(t.getData())}})})]})})})})})})};var ve=function(){var e=Object(n.useState)([]),t=Object(O.a)(e,2),c=t[0],r=t[1];Object(n.useEffect)((function(){xe.orderBy("createdOn","desc").onSnapshot((function(e){var t=[];e.forEach((function(e){var c=e.data();c.id=e.id,t.push(c)})),r(t),console.log(t)}))}),[]);var s=a.a.useMemo((function(){return[{Header:"#SN",accessor:function(e){return e.email},Cell:function(e){return Object(u.jsx)("span",{children:e.row.index+1})}},{Header:"Name",accessor:"name"},{Header:"Email",accessor:"email"},{Header:"Subject",accessor:"subject"},{Header:"Message",accessor:"message"}]}),[]);return Object(u.jsx)("div",{children:Object(u.jsx)(C,{children:Object(u.jsxs)("div",{className:"container py-3 ",children:[Object(u.jsx)("h4",{children:"Contact Messages"}),Object(u.jsx)("div",{className:"rounded-0 alert alert-primary",children:Object(u.jsxs)("div",{className:"card p-3",children:[c&&c.length>0&&Object(u.jsx)(B,{columns:s,data:c}),!c&&Object(u.jsx)("p",{children:"No CM found please create category"})]})})]})})})};var Ne=function(){var e=Object(n.useState)(""),t=Object(O.a)(e,2),c=t[0],a=t[1],r=Object(n.useState)(""),s=Object(O.a)(r,2),o=s[0],i=s[1],l=Object(n.useState)(""),j=Object(O.a)(l,2),d=j[0],b=j[1];Object(n.useEffect)((function(){fe.orderBy("createdOn","desc").onSnapshot((function(e){var t=[];e.forEach((function(e){var c=e.data();c.id=e.id,t.push(c)}));var c=t.filter((function(e){return"PrivacyPolicy"==e.type}))[0];a(c?c.content:""),i(c?c.content:""),b(c?c.id:""),console.log(c)}))}),[]);var h=function(){var e=Object(k.a)(E.a.mark((function e(){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(o),e.next=3,fe.add({createdOn:new Date,content:o,type:"PrivacyPolicy"});case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),f=function(){var e=Object(k.a)(E.a.mark((function e(){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fe.doc(d).update({content:o});case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(u.jsx)("div",{children:Object(u.jsx)(C,{children:Object(u.jsx)("div",{className:"container-fluid",children:Object(u.jsx)("div",{className:"row",children:Object(u.jsx)("div",{className:"col-lg-12",children:Object(u.jsxs)("div",{className:"card",children:[Object(u.jsxs)("div",{className:"card-header",children:["Privacy Policy Page",Object(u.jsxs)("div",{className:"btn-group float-right",children:[o!=c&&Object(u.jsxs)("button",{onClick:function(){return console.log(typeof c),void(c&&""==c&&""===d?f():h())},className:"btn btn-light btn-sm",children:["Save ",Object(u.jsx)("i",{className:"fa fa-pencil"})]}),Object(u.jsxs)("button",{className:"btn btn-primary btn-sm",children:["Edit ",Object(u.jsx)("i",{className:"fa fa-pencil"})]})]})]}),Object(u.jsx)("div",{className:"card-body",children:Object(u.jsx)(ce.CKEditor,{editor:ae.a,data:o,onChange:function(e,t){!function(e){i(e)}(t.getData())}})})]})})})})})})};var ye=function(){var e=Object(n.useState)(""),t=Object(O.a)(e,2),c=t[0],a=t[1],r=Object(n.useState)(""),s=Object(O.a)(r,2),o=s[0],i=s[1],l=Object(n.useState)(""),j=Object(O.a)(l,2),d=j[0],b=j[1];Object(n.useEffect)((function(){fe.orderBy("createdOn","desc").onSnapshot((function(e){var t=[];e.forEach((function(e){var c=e.data();c.id=e.id,t.push(c)}));var c=t.filter((function(e){return"TermsConditions"==e.type}))[0];a(c?c.content:""),i(c?c.content:""),b(c?c.id:""),console.log(c)}))}),[]);var h=function(){var e=Object(k.a)(E.a.mark((function e(){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(o),e.next=3,fe.add({createdOn:new Date,content:o,type:"TermsConditions"});case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),f=function(){var e=Object(k.a)(E.a.mark((function e(){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fe.doc(d).update({content:o});case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(u.jsx)("div",{children:Object(u.jsx)(C,{children:Object(u.jsx)("div",{className:"container-fluid",children:Object(u.jsx)("div",{className:"row",children:Object(u.jsx)("div",{className:"col-lg-12",children:Object(u.jsxs)("div",{className:"card",children:[Object(u.jsxs)("div",{className:"card-header",children:["About Us Page",Object(u.jsxs)("div",{className:"btn-group float-right",children:[o!=c&&Object(u.jsxs)("button",{onClick:function(){return console.log(typeof c),void(c&&""==c&&""===d?f():h())},className:"btn btn-light btn-sm",children:["Save ",Object(u.jsx)("i",{className:"fa fa-pencil"})]}),Object(u.jsxs)("button",{className:"btn btn-primary btn-sm",children:["Edit ",Object(u.jsx)("i",{className:"fa fa-pencil"})]})]})]}),Object(u.jsx)("div",{className:"card-body",children:Object(u.jsx)(ce.CKEditor,{editor:ae.a,data:o,onChange:function(e,t){!function(e){i(e)}(t.getData())}})})]})})})})})})};var _e=function(){var e=Object(n.useState)(""),t=Object(O.a)(e,2),c=t[0],a=t[1],r=Object(n.useState)(""),s=Object(O.a)(r,2),o=s[0],i=s[1],l=Object(n.useState)(""),j=Object(O.a)(l,2),d=j[0],b=j[1];Object(n.useEffect)((function(){fe.orderBy("createdOn","desc").onSnapshot((function(e){var t=[];e.forEach((function(e){var c=e.data();c.id=e.id,t.push(c)}));var c=t.filter((function(e){return"RefundPolicy"==e.type}))[0];a(c?c.content:""),i(c?c.content:""),b(c?c.id:""),console.log(c)}))}),[]);var h=function(){var e=Object(k.a)(E.a.mark((function e(){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(o),e.next=3,fe.add({createdOn:new Date,content:o,type:"RefundPolicy"});case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),f=function(){var e=Object(k.a)(E.a.mark((function e(){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fe.doc(d).update({content:o});case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(u.jsx)("div",{children:Object(u.jsx)(C,{children:Object(u.jsx)("div",{className:"container-fluid",children:Object(u.jsx)("div",{className:"row",children:Object(u.jsx)("div",{className:"col-lg-12",children:Object(u.jsxs)("div",{className:"card",children:[Object(u.jsxs)("div",{className:"card-header",children:["Privacy Policy Page",Object(u.jsxs)("div",{className:"btn-group float-right",children:[o!=c&&Object(u.jsxs)("button",{onClick:function(){return console.log(typeof c),void(c&&""==c&&""===d?f():h())},className:"btn btn-light btn-sm",children:["Save ",Object(u.jsx)("i",{className:"fa fa-pencil"})]}),Object(u.jsxs)("button",{className:"btn btn-primary btn-sm",children:["Edit ",Object(u.jsx)("i",{className:"fa fa-pencil"})]})]})]}),Object(u.jsx)("div",{className:"card-body",children:Object(u.jsx)(ce.CKEditor,{editor:ae.a,data:o,onChange:function(e,t){!function(e){i(e)}(t.getData())}})})]})})})})})})};var Ce=function(){var e=Object(n.useState)([]),t=Object(O.a)(e,2),c=t[0],r=t[1];Object(n.useEffect)((function(){me.orderBy("createdOn","desc").onSnapshot((function(e){var t=[];e.forEach((function(e){var c=e.data();c.id=e.id,t.push(c)})),r(t),console.log(t)}))}),[]);var s=a.a.useMemo((function(){return[{Header:"#SN",accessor:function(e){return e.email},Cell:function(e){return Object(u.jsx)("span",{children:e.row.index+1})}},{Header:"Email",accessor:"email"}]}),[]);return Object(u.jsx)("div",{children:Object(u.jsx)(C,{children:Object(u.jsxs)("div",{className:"container py-3 ",children:[Object(u.jsx)("h4",{children:"Newsletter Emails"}),Object(u.jsx)("div",{className:"rounded-0 alert alert-primary",children:Object(u.jsxs)("div",{className:"card p-3",children:[c&&c.length>0&&Object(u.jsx)(B,{columns:s,data:c}),!c&&Object(u.jsx)("p",{children:"No CM found please create category"})]})})]})})})},we=c(99),Se=c.n(we);var Ee=function(){var e=Object(n.useState)([]),t=Object(O.a)(e,2),c=t[0],r=t[1],s=function(){P.a.get(m+"orders").then((function(e){e.data.error_message?y.a.fire("",e.data.error_message):(console.log(e.data),r(e.data))})).catch((function(e){console.log(e),y.a.fire("","error fetching orders")}))};Object(n.useEffect)((function(){s()}),[]);var o=a.a.useMemo((function(){return[{Header:"#SN",accessor:function(e){return e.last_active},Cell:function(e){return Object(u.jsx)("span",{children:e.row.index+1})}},{Header:"Order Name",accessor:function(e){return e.user_id},Cell:function(e){return Object(u.jsx)("span",{children:e.value.name})}},{Header:"Paid",accessor:function(e){return e.paid},Cell:function(e){return Object(u.jsx)("span",{children:e.value?"Paid":"Not Paid"})}},{Header:"Order Type",accessor:function(e){return e.order_type}},{Header:"Phone ",accessor:function(e){return e.verifiedNumber}},{Header:"total",accessor:"total",Cell:function(e){return Object(u.jsxs)("span",{children:["Rs",e.value]})}},{Header:"loaction",accessor:function(e){return e.order_details},Cell:function(e){var t=e.value;return Object(u.jsx)("p",{children:t.streetAddress+","+t.address+","+t.province})}},{Header:"Actions",accessor:function(e){return e.name},Cell:function(e){return Object(u.jsx)(i,{values:e})}}]}),[]),i=function(e){var t=e.values;return Object(u.jsxs)("div",{className:"btn-group rounded-0",children:[Object(u.jsx)("button",{onClick:function(){return j(t.data[t.row.index])},className:"rounded-0 btn btn-sm btn-outline-info",children:Object(u.jsx)("i",{className:"fa fa-pen"})}),Object(u.jsx)("button",{onClick:function(){return l(t.data[t.row.index])},className:"rounded-0 btn btn-sm btn-outline-danger",children:Object(u.jsx)("i",{className:"fa fa-trash"})})]})},l=function(e){y.a.fire({title:"Do you want to remove this order ?",showCancelButton:!0,confirmButtonText:"yes delete",icon:"error"}).then((function(t){t.isConfirmed?function(e){return P.a.delete(m+"orders/"+e._id).then((function(e){return e.json()})).catch((function(e){return console.log(e)}))}(e).then((function(e){s(),y.a.fire("Order Deleted !")})).catch((function(e){y.a.fire({title:"Some error occured !",icon:"error"}),console.log(e)})):y.a.fire("Deletion cancelled!")}))},j=function(e){y.a.fire({title:"Sorry This feature is under maintainance",icon:"info"})};return Object(u.jsx)("div",{children:Object(u.jsx)(C,{children:Object(u.jsxs)("div",{className:"card",children:[Object(u.jsx)("div",{className:"card-header",children:Object(u.jsx)("h1",{children:"All orders here"})}),Object(u.jsxs)("div",{className:"card-body",children:[c&&c.length>0&&Object(u.jsx)(B,{columns:o,data:c}),!c&&Object(u.jsx)("p",{children:"No orders found please create order"})]})]})})})};var ke=function(){var e=Object(n.useState)([]),t=Object(O.a)(e,2),c=t[0],r=t[1];Object(n.useEffect)((function(){P.a.get(m+"user").then((function(e){e.data.error_message?y.a.fire("",e.data.error_message):(console.log(e.data),r(e.data))})).catch((function(e){console.log(e),y.a.fire("","error fetching users")}))}),[]);var s=a.a.useMemo((function(){return[{Header:"#SN",accessor:function(e){return e.email},Cell:function(e){return Object(u.jsx)("span",{children:e.row.index+1})}},{Header:"name",accessor:"name"},{Header:"Phone",accessor:"phone"},{Header:"address",accessor:"address"},{Header:"email",accessor:"email"},{Header:"last active",accessor:"last_active",Cell:function(e){return Object(u.jsx)("span",{children:e.value?Se()(e.value).fromNow():""})}},{Header:"Image",accessor:"images",Cell:function(e){var t=e.value;return Object(u.jsx)(M.a,{alt:"Remy Sharp",src:t[0]?L("product/"+t[0]):"images/userImage.png"})}},{Header:"Actions",accessor:function(e){return e.name},Cell:function(e){return Object(u.jsx)(o,{values:e})}}]}),[]),o=function(e){var t=e.values;return Object(u.jsxs)("div",{className:"btn-group rounded-0",children:[Object(u.jsx)("button",{onClick:function(){return l(t.data[t.row.index])},className:"rounded-0 btn btn-sm btn-outline-info",children:Object(u.jsx)("i",{className:"fa fa-pen"})}),Object(u.jsx)("button",{onClick:function(){return i(t.data[t.row.index])},className:"rounded-0 btn btn-sm btn-outline-danger",children:Object(u.jsx)("i",{className:"fa fa-trash"})})]})},i=function(e){y.a.fire({title:"Do you want to remove this user ?",showCancelButton:!0,confirmButtonText:"yes delete",icon:"error"}).then((function(t){t.isConfirmed?function(e){return P.a.delete(m+"user/"+e._id).then((function(e){return e.json()})).catch((function(e){return console.log(e)}))}(e).then((function(e){fetchCategories(),y.a.fire("User Deleted !")})).catch((function(e){y.a.fire({title:"Some error occured !",icon:"error"}),console.log(e)})):y.a.fire("Deletion cancelled!")}))},l=function(e){y.a.fire({title:"Sorry This feature is under maintainance",icon:"info"})};return Object(u.jsx)("div",{children:Object(u.jsx)(C,{children:Object(u.jsxs)("div",{className:"card",children:[Object(u.jsx)("div",{className:"card-header",children:Object(u.jsx)("h1",{children:"All users here"})}),Object(u.jsxs)("div",{className:"card-body",children:[c&&c.length>0&&Object(u.jsx)(B,{columns:s,data:c}),!c&&Object(u.jsx)("p",{children:"No users found please create user"})]})]})})})};var Te=function(){return Object(u.jsx)("div",{children:Object(u.jsx)(C,{children:Object(u.jsx)("div",{className:"container py-3 ",children:Object(u.jsx)("h4",{children:"FAQ"})})})})},Pe=function(){return Object(u.jsx)(o.a,{children:Object(u.jsxs)(i.d,{children:[Object(u.jsx)(b,{path:"/",exact:!0,component:w}),Object(u.jsx)(b,{path:"/admins",component:W}),Object(u.jsx)(b,{exact:!0,path:"/category/create",component:$})," ",Object(u.jsx)(b,{exact:!0,path:"/category/all",component:ee}),Object(u.jsx)(b,{exact:!0,path:"/product/create",component:oe}),Object(u.jsx)(b,{path:"/product/edit/:id",component:le}),Object(u.jsx)(b,{exact:!0,path:"/offers/create",component:je}),Object(u.jsx)(b,{path:"/offers/edit/:id",component:ue}),Object(u.jsx)(b,{path:"/category/edit/:id",component:be}),Object(u.jsx)(b,{exact:!0,path:"/product/all",component:ie}),Object(u.jsx)(b,{exact:!0,path:"/orders/all",component:Ee}),Object(u.jsx)(b,{exact:!0,path:"/offers/all",component:de}),Object(u.jsx)(b,{exact:!0,path:"/users/all",component:ke}),Object(u.jsx)(b,{exact:!0,path:"/contactus",component:pe}),Object(u.jsx)(b,{exact:!0,path:"/aboutus",component:ge}),Object(u.jsx)(b,{exact:!0,path:"/privacypolicy",component:Ne}),Object(u.jsx)(b,{exact:!0,path:"/refundpolicy",component:_e}),Object(u.jsx)(b,{exact:!0,path:"/terms",component:ye}),Object(u.jsx)(b,{exact:!0,path:"/contactmessage",component:ve}),Object(u.jsx)(b,{exact:!0,path:"/newsletter",component:Ce}),Object(u.jsx)(b,{exact:!0,path:"/faq",component:Te}),Object(u.jsx)(i.b,{exact:!0,path:"/login",component:Z})]})})},Le=c(132),De=c(47),Ae={name:"",email:""},He=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ae,t=arguments.length>1?arguments[1]:void 0;switch(t.Type){case"user/AddUser":return Object(l.a)(Object(l.a)({},e),{},{user:t.payload});default:return e}},Ge=[],Ie=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ge,t=arguments.length>1?arguments[1]:void 0;switch(t.Type){case"cart/AddToCart":return Object(l.a)(Object(l.a)({},e),{},{cart:[].concat(Object(te.a)(e.cart),[t.payload])});default:return e}},Ue={token:{token:null,expiry:null},user:{},access_level:null,loggedIn:!1},Be=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ue,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"auth/Login":var c=t.payload,n=c.token,a=c.user,r=c.access_level,s=c.loggedIn;return Object(l.a)(Object(l.a)({},e),{},{token:n,user:a,access_level:r,loggedIn:s});case"auth/Logout":return Ue;default:return e}},Me=Object(De.a)({user:He,cart:Ie,auth:Be}),Re=c(104),qe=c(133),Ve={key:"root",storage:c.n(qe).a},Ke=Object(Re.a)(Ve,Me),Fe=Object(De.b)(Ke,window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__()),Xe=Object(Re.b)(Fe);var Je=c(63);c(211),c(212),c(213),c(214),c(215);P.a.interceptors.request.use(function(){var e=Object(k.a)(E.a.mark((function e(t){var c;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=Fe.getState().auth.token.token,t.baseURL="/",c&&(t.headers.Authorization=c),e.abrupt("return",t);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),(function(e){return console.log(e),Promise.reject(e)})),s.a.render(Object(u.jsx)(d.a,{store:Fe,children:Object(u.jsxs)(Le.a,{loading:null,persistor:Xe,children:[Object(u.jsx)(Je.a,{newestOnTop:!0}),Object(u.jsx)(Pe,{})]})}),document.getElementById("root"))}},[[216,1,2]]]);
//# sourceMappingURL=main.42ea051b.chunk.js.map